!function(n){var e;"function"==typeof require?require(["jquery","be/Controller/Dialog/AddWork","jquery/plugins/jquery.popup","jquery/plugins/jquery.hovermenu","jquery/plugins/jquery.validation"],function(){(e=n.apply(this,arguments))()}):(e=n.call(this,jQuery),"object"==typeof Network&&"object"==typeof $.Core?$.Core.Events.bind("resources.loaded",e):jQuery(e))}(function(n,e){"use strict";var o,i,t,r,s;return o=function(){var e=n("#showcase-and-discover"),o=n(".showcase-bar"),i=0,t="undefined"!=typeof Config.$window?Config.$window:n(window),r=n("#primary-content");return i=0===r.length?200:r.position().top,i=e.is(":visible")?s.height()+e.height():i,e.is(":visible")||Config.$body.hasClass("profile-page")||Config.$body.hasClass("project-view")?void t.bind("scroll",function(){t.scrollTop()>=i&&!o.hasClass("shown")?o.addClass("shown"):t.scrollTop()<=i&&o.hasClass("shown")&&o.removeClass("shown")}):!1},i=function(){var e=n(".form-site-searchi"),o=e.find(".form-searchi"),i=e.attr("action"),t=o.attr("name"),r=o.attr("placeholder"),s=o.css("background-position"),a={},u=function(){return a[t]=o.val(),window.location=i+"?"+n.param(a),!1},c=function(){return e.find(".search-spinner").remove(),e.find(".form-search").css("background-position",s),!1};"object"==typeof n.validation?e.vForm().bind("vform.beforesend",u).bind("vform.failure",c):e.validationEngine({success:u,failure:c}),o.blur(function(){var n=o.val();""!==n&&n!==r?o.addClass("focus"):o.removeClass("focus")})},t=function(){s=n("#navmenui-primary"),s.find(".navmenui-submenu-wrap").each(function(){var e=n(this);e.closest(".nav-item").hoverMenu(e,{container_position:"relative"}),("function"==typeof window.hasOwnProperty&&window.hasOwnProperty("ontouchstart")||window.DocumentTouch&&document instanceof window.DocumentTouch)&&e.siblings(".nav-link").removeAttr("href")}),n(".nav-single-use .nav-close").bind("click",function(e){e.preventDefault();var o=n(this),i={mode:"remove",entity_type:o.attr("entity")};n.post("/utilities/updateSingleUse",i,function(e){"yes"===e.valid||e.status&&1===e.status?o.closest(".nav-item").next().length?window.location=o.closest(".nav-item").next().find(".nav-link").attr("href"):window.location.reload():n("<div />").popup({input:n("#popup-template").template({header:"Error",description:"An error occurred. Please try again later."})})},"json")})},function(){i(),t(),Config.$body.hasClass("logged-in")||o(),e&&(r=new e,r.setContext(n("#new-work-button")))}});