!function(t){"function"==typeof define?define(t):"function"==typeof YUI?YUI.add("es5",t):t()}(function(){function t(){}function r(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function e(t){var r=typeof t;return null===t||"undefined"===r||"boolean"===r||"number"===r||"string"===r}function n(t){var r,n,i;if(e(t))return t;if(n=t.valueOf,"function"==typeof n&&(r=n.call(t),e(r)))return r;if(i=t.toString,"function"==typeof i&&(r=i.call(t),e(r)))return r;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(r){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var n=c.call(arguments,1),i=function(){if(this instanceof i){var t=e.apply(this,n.concat(c.call(arguments)));return Object(t)===t?t:this}return e.apply(r,n.concat(c.call(arguments)))};return e.prototype&&(t.prototype=e.prototype,i.prototype=new t,t.prototype=null),i});var i,o,a,u,l,p=Function.prototype.call,s=Array.prototype,f=Object.prototype,c=s.slice,h=p.bind(f.toString),y=p.bind(f.hasOwnProperty);if((l=y(f,"__defineGetter__"))&&(i=p.bind(f.__defineGetter__),o=p.bind(f.__defineSetter__),a=p.bind(f.__lookupGetter__),u=p.bind(f.__lookupSetter__)),2!=[1,2].splice(0).length){var g=Array.prototype.splice;Array.prototype.splice=function(){function t(t){for(var r=[];t--;)r.unshift(t);return r}var r,e=[];return e.splice.bind(e,0,0).apply(null,t(20)),e.splice.bind(e,0,0).apply(null,t(26)),r=e.length,e.splice(5,0,"XXX"),r+1==e.length?!0:void 0}()?function(t,r){return arguments.length?g.apply(this,[void 0===t?0:t,void 0===r?this.length-t:r].concat(c.call(arguments,2))):[]}:function(t,r){var e,n=c.call(arguments,2),i=n.length;if(!arguments.length)return[];if(void 0===t&&(t=0),void 0===r&&(r=this.length-t),i>0){if(0>=r){if(t==this.length)return this.push.apply(this,n),[];if(0==t)return this.unshift.apply(this,n),[]}return e=c.call(this,t,t+r),n.push.apply(n,c.call(this,t+r,this.length)),n.unshift.apply(n,c.call(this,0,t)),n.unshift(0,this.length),g.apply(this,n),e}return g.call(this,t,r)}}if(1!=[].unshift(0)){var v=Array.prototype.unshift;Array.prototype.unshift=function(){return v.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(t){return"[object Array]"==h(t)});var d=Object("a"),b="a"!=d[0]||!(0 in d);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var r=D(this),e=b&&"[object String]"==h(this)?this.split(""):r,n=arguments[1],i=-1,o=e.length>>>0;if("[object Function]"!=h(t))throw new TypeError;for(;++i<o;)i in e&&t.call(n,e[i],i,r)}),Array.prototype.map||(Array.prototype.map=function(t){var r=D(this),e=b&&"[object String]"==h(this)?this.split(""):r,n=e.length>>>0,i=Array(n),o=arguments[1];if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var a=0;n>a;a++)a in e&&(i[a]=t.call(o,e[a],a,r));return i}),Array.prototype.filter||(Array.prototype.filter=function(t){var r,e=D(this),n=b&&"[object String]"==h(this)?this.split(""):e,i=n.length>>>0,o=[],a=arguments[1];if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var u=0;i>u;u++)u in n&&(r=n[u],t.call(a,r,u,e)&&o.push(r));return o}),Array.prototype.every||(Array.prototype.every=function(t){var r=D(this),e=b&&"[object String]"==h(this)?this.split(""):r,n=e.length>>>0,i=arguments[1];if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var o=0;n>o;o++)if(o in e&&!t.call(i,e[o],o,r))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var r=D(this),e=b&&"[object String]"==h(this)?this.split(""):r,n=e.length>>>0,i=arguments[1];if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");for(var o=0;n>o;o++)if(o in e&&t.call(i,e[o],o,r))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var r=D(this),e=b&&"[object String]"==h(this)?this.split(""):r,n=e.length>>>0;if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in e){i=e[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>o;o++)o in e&&(i=t.call(void 0,i,e[o],o,r));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var r=D(this),e=b&&"[object String]"==h(this)?this.split(""):r,n=e.length>>>0;if("[object Function]"!=h(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=n-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in e){i=e[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>o)return i;do o in this&&(i=t.call(void 0,i,e[o],o,r));while(o--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=b&&"[object String]"==h(this)?this.split(""):D(this),n=e.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=r(arguments[1])),i=i>=0?i:Math.max(0,n+i);n>i;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=b&&"[object String]"==h(this)?this.split(""):D(this),n=e.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,r(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in e&&t===e[i])return i;return-1}),!Object.keys){var w=!0,m=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=m.length;for(var x in{toString:null})w=!1;Object.keys=function I(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var I=[];for(var r in t)y(t,r)&&I.push(r);if(w)for(var e=0,n=S;n>e;e++){var i=m[e];y(t,i)&&I.push(i)}return I}}var O=-621987552e5,j="-000001";Date.prototype.toISOString&&-1!==new Date(O).toISOString().indexOf(j)||(Date.prototype.toISOString=function(){var t,r,e,n,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(n=this.getUTCFullYear(),i=this.getUTCMonth(),n+=Math.floor(i/12),i=(i%12+12)%12,t=[i+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],n=(0>n?"-":n>9999?"+":"")+("00000"+Math.abs(n)).slice(n>=0&&9999>=n?-4:-6),r=t.length;r--;)e=t[r],10>e&&(t[r]="0"+e);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var A=!1;try{A=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(O).toJSON().indexOf(j)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(T){}A||(Date.prototype.toJSON=function(){var t,r=Object(this),e=n(r);if("number"==typeof e&&!isFinite(e))return null;if(t=r.toISOString,"function"!=typeof t)throw new TypeError("toISOString property is not callable");return t.call(r)}),Date=function(t){function r(e,n,i,o,a,u,l){var p=arguments.length;if(this instanceof t){var s=1==p&&String(e)===e?new t(r.parse(e)):p>=7?new t(e,n,i,o,a,u,l):p>=6?new t(e,n,i,o,a,u):p>=5?new t(e,n,i,o,a):p>=4?new t(e,n,i,o):p>=3?new t(e,n,i):p>=2?new t(e,n):p>=1?new t(e):new t;return s.constructor=r,s}return t.apply(this,arguments)}function e(t,r){var e=r>1?1:0;return o[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)}function n(r){return Number(new t(1970,0,1,0,0,0,r))}var i=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),o=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var a in t)r[a]=t[a];return r.now=t.now,r.UTC=t.UTC,r.prototype=t.prototype,r.prototype.constructor=r,r.parse=function(r){var o=i.exec(r);if(o){var a,u=Number(o[1]),l=Number(o[2]||1)-1,p=Number(o[3]||1)-1,s=Number(o[4]||0),f=Number(o[5]||0),c=Number(o[6]||0),h=Math.floor(1e3*Number(o[7]||0)),y=Boolean(o[4]&&!o[8]),g="-"===o[9]?1:-1,v=Number(o[10]||0),d=Number(o[11]||0);return(f>0||c>0||h>0?24:25)>s&&60>f&&60>c&&1e3>h&&l>-1&&12>l&&24>v&&60>d&&p>-1&&p<e(u,l+1)-e(u,l)&&(a=60*(24*(e(u,l)+p)+s+v*g),a=1e3*(60*(a+f+d*g)+c)+h,y&&(a=n(a)),a>=-864e13&&864e13>=a)?a:0/0}return t.parse.apply(this,arguments)},r}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function t(t,r){for(var e=-1;++e<a;)r+=t*u[e],u[e]=r%o,r=Math.floor(r/o)}function r(t){for(var r=a,e=0;--r>=0;)e+=u[r],u[r]=Math.floor(e/t),e=e%t*o}function e(){for(var t=a,r="";--t>=0;)if(""!==r||0===t||0!==u[t]){var e=String(u[t]);""===r?r=e:r+="0000000".slice(0,7-e.length)+e}return r}function n(t,r,e){return 0===r?e:r%2===1?n(t,r-1,e*t):n(t*t,r/2,e)}function i(t){for(var r=0;t>=4096;)r+=12,t/=4096;for(;t>=2;)r+=1,t/=2;return r}var o,a,u;o=1e7,a=6,u=[0,0,0,0,0,0],Number.prototype.toFixed=function(o){var a,u,l,p,s,f,c,h;if(a=Number(o),a=a!==a?0:Math.floor(a),0>a||a>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(u=Number(this),u!==u)return"NaN";if(-1e21>=u||u>=1e21)return String(u);if(l="",0>u&&(l="-",u=-u),p="0",u>1e-21)if(s=i(u*n(2,69,1))-69,f=0>s?u*n(2,-s,1):u/n(2,s,1),f*=4503599627370496,s=52-s,s>0){for(t(0,f),c=a;c>=7;)t(1e7,0),c-=7;for(t(n(10,c,1),0),c=s-1;c>=23;)r(1<<23),c-=23;r(1<<c),t(1,1),r(2),p=e()}else t(0,f),t(1<<-s,0),p=e()+"0.00000000000000000000".slice(2,2+a);return a>0?(h=p.length,p=a>=h?l+"0.0000000000000000000".slice(0,a-h+2)+p:l+p.slice(0,h-a)+"."+p.slice(h-a)):p=l+p,p}}();var E=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||0==="".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];String.prototype.split=function(r,e){var n=this;if(void 0===r&&0===e)return[];if("[object RegExp]"!==Object.prototype.toString.call(r))return E.apply(this,arguments);var i,o,a,u,l=[],p=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),s=0,r=new RegExp(r.source,p+"g");for(n+="",t||(i=new RegExp("^"+r.source+"$(?!\\s)",p)),e=void 0===e?-1>>>0:e>>>0;(o=r.exec(n))&&(a=o.index+o[0].length,!(a>s&&(l.push(n.slice(s,o.index)),!t&&o.length>1&&o[0].replace(i,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)}),o.length>1&&o.index<n.length&&Array.prototype.push.apply(l,o.slice(1)),u=o[0].length,s=a,l.length>=e)));)r.lastIndex===o.index&&r.lastIndex++;return s===n.length?(u||!r.test(""))&&l.push(""):l.push(n.slice(s)),l.length>e?l.slice(0,e):l}}():"0".split(void 0,0).length&&(String.prototype.split=function(t,r){return void 0===t&&0===r?[]:E.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var N=String.prototype.substr;String.prototype.substr=function(t,r){return N.call(this,0>t?(t=this.length+t)<0?0:t:t,r)}}var F="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||F.trim()){F="["+F+"]";var _=new RegExp("^"+F+F+"*"),M=new RegExp(F+F+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(_,"").replace(M,"")}}var D=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}});
;!function(e){"function"==typeof define?define(e):"function"==typeof YUI?YUI.add("es5-sham",e):e()}(function(){function e(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(t){}}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}var r,n,o,c,i,f=Function.prototype.call,u=Object.prototype,p=f.bind(u.hasOwnProperty);if((i=p(u,"__defineGetter__"))&&(r=f.bind(u.__defineGetter__),n=f.bind(u.__defineSetter__),o=f.bind(u.__lookupGetter__),c=f.bind(u.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:u)}),Object.defineProperty){var l=e({}),b="undefined"==typeof document||e(document.createElement("div"));if(!b||!l)var a=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||a){var _="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(_+e);if(a)try{return a.call(Object,e,t)}catch(r){}if(p(e,t)){var n={enumerable:!0,configurable:!0};if(i){var f=e.__proto__;e.__proto__=u;var l=o(e,t),b=c(e,t);if(e.__proto__=f,l||b)return l&&(n.get=l),b&&(n.set=b),n}return n.value=e[t],n.writable=!0,n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var d,y=null===Object.prototype.__proto__;d=y||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function e(){}var t=document.createElement("iframe"),r=document.body||document.documentElement;t.style.display="none",r.appendChild(t),t.src="javascript:";var n=t.contentWindow.Object.prototype;return r.removeChild(t),t=null,delete n.constructor,delete n.hasOwnProperty,delete n.propertyIsEnumerable,delete n.isPrototypeOf,delete n.toLocaleString,delete n.toString,delete n.valueOf,n.__proto__=null,e.prototype=n,d=function(){return new e},new e},Object.create=function(e,t){function r(){}var n;if(null===e)n=d();else{if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object or null");r.prototype=e,n=new r,n.__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}if(Object.defineProperty){var O=t({}),j="undefined"==typeof document||t(document.createElement("div"));if(!O||!j)var s=Object.defineProperty,v=Object.defineProperties}if(!Object.defineProperty||s){var w="Property description must be an object: ",P="Object.defineProperty called on non-object: ",m="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,f){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(P+e);if("object"!=typeof f&&"function"!=typeof f||null===f)throw new TypeError(w+f);if(s)try{return s.call(Object,e,t,f)}catch(l){}if(p(f,"value"))if(i&&(o(e,t)||c(e,t))){var b=e.__proto__;e.__proto__=u,delete e[t],e[t]=f.value,e.__proto__=b}else e[t]=f.value;else{if(!i)throw new TypeError(m);p(f,"get")&&r(e,t,f.get),p(f,"set")&&n(e,t,f.set)}return e}}(!Object.defineProperties||v)&&(Object.defineProperties=function(e,t){if(v)try{return v.call(Object,e,t)}catch(r){}for(var n in t)p(t,n)&&"__proto__"!=n&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(h){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)!==e)throw new TypeError;for(var t="";p(e,t);)t+="?";e[t]=!0;var r=p(e,t);return delete e[t],r})});
;var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}}function eachReverse(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(e,t,i,r){return t&&eachProp(t,function(t,n){(i||!hasProp(e,n))&&(r&&"string"!=typeof t?(e[n]||(e[n]={}),mixin(e[n],t,i,r)):e[n]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,r){var n=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=r,i&&(n.originalError=i),n}function newContext(e){function t(e){var t,i;for(t=0;e[t];t+=1)if(i=e[t],"."===i)e.splice(t,1),t-=1;else if(".."===i){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function i(e,i,r){var n,a,o,s,c,u,p,d,f,l,h,m=i&&i.split("/"),g=m,v=y.map,x=v&&v["*"];if(e&&"."===e.charAt(0)&&(i?(g=getOwn(y.pkgs,i)?m=[i]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),a=getOwn(y.pkgs,n=e[0]),e=e.join("/"),a&&e===n+"/"+a.main&&(e=n)):0===e.indexOf("./")&&(e=e.substring(2))),r&&v&&(m||x)){for(s=e.split("/"),c=s.length;c>0;c-=1){if(p=s.slice(0,c).join("/"),m)for(u=m.length;u>0;u-=1)if(o=getOwn(v,m.slice(0,u).join("/")),o&&(o=getOwn(o,p))){d=o,f=c;break}if(d)break;!l&&x&&getOwn(x,p)&&(l=getOwn(x,p),h=c)}!d&&l&&(d=l,f=h),d&&(s.splice(0,f,d),e=s.join("/"))}return e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===q.contextName?(t.parentNode.removeChild(t),!0):void 0})}function n(e){var t=getOwn(y.paths,e);return t&&isArray(t)&&t.length>1?(r(e),t.shift(),q.require.undef(e),q.require([e]),!0):void 0}function a(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function o(e,t,r,n){var o,s,c,u,p=null,d=t?t.name:null,f=e,l=!0,h="";return e||(l=!1,e="_@r"+(A+=1)),u=a(e),p=u[0],e=u[1],p&&(p=i(p,d,n),s=getOwn(j,p)),e&&(p?h=s&&s.normalize?s.normalize(e,function(e){return i(e,d,n)}):i(e,d,n):(h=i(e,d,n),u=a(h),p=u[0],h=u[1],r=!0,o=q.nameToUrl(h))),c=!p||s||r?"":"_unnormalized"+(R+=1),{prefix:p,name:h,parentMap:t,unnormalized:!!c,url:o,originalName:f,isDefine:l,id:(p?p+"!"+h:h)+c}}function s(e){var t=e.id,i=getOwn(k,t);return i||(i=k[t]=new q.Module(e)),i}function c(e,t,i){var r=e.id,n=getOwn(k,r);!hasProp(j,r)||n&&!n.defineEmitComplete?(n=s(e),n.error&&"error"===t?i(n.error):n.on(t,i)):"defined"===t&&i(j[r])}function u(e,t){var i=e.requireModules,r=!1;t?t(e):(each(i,function(t){var i=getOwn(k,t);i&&(i.error=e,i.events.error&&(r=!0,i.emit("error",e)))}),r||req.onError(e))}function p(){globalDefQueue.length&&(apsp.apply(M,[M.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete k[e],delete S[e]}function f(e,t,i){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,n){var a=r.id,o=getOwn(k,a);!o||e.depMatched[n]||i[a]||(getOwn(t,a)?(e.defineDep(n,j[a]),e.check()):f(o,t,i))}),i[r]=!0)}function l(){var e,t,i,a,o=1e3*y.waitSeconds,s=o&&q.startTime+o<(new Date).getTime(),c=[],p=[],d=!1,h=!0;if(!x){if(x=!0,eachProp(S,function(i){if(e=i.map,t=e.id,i.enabled&&(e.isDefine||p.push(i),!i.error))if(!i.inited&&s)n(t)?(a=!0,d=!0):(c.push(t),r(t));else if(!i.inited&&i.fetched&&e.isDefine&&(d=!0,!e.prefix))return h=!1}),s&&c.length)return i=makeError("timeout","Load timeout for modules: "+c,null,c),i.contextName=q.contextName,u(i);h&&each(p,function(e){f(e,{},{})}),s&&!a||!d||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,l()},50)),x=!1}}function h(e){hasProp(j,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function m(e,t,i,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(i,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,q.onScriptLoad,"load","onreadystatechange"),m(t,q.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(p();M.length;){if(e=M.shift(),null===e[0])return u(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var x,b,q,E,w,y={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},k={},S={},O={},M=[],j={},P={},A=1,R=1;return E={require:function(e){return e.require?e.require:e.require=q.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=j[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,i=getOwn(y.pkgs,e.map.id);return t=i?getOwn(y.config,e.map.id+"/"+i.main):getOwn(y.config,e.map.id),t||{}},exports:j[e.map.id]}}},b=function(e){this.events=getOwn(O,e.id)||{},this.map=e,this.shim=getOwn(y.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,i,r){r=r||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,q.startTime=(new Date).getTime();var e=this.map;return this.shim?void q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,q.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,r=this.depExports,n=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{n=q.execCb(i,a,r,n)}catch(o){e=o}else n=q.execCb(i,a,r,n);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?n=t.exports:void 0===n&&this.usingExports&&(n=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",u(this.error=e)}else n=a;this.exports=n,this.map.isDefine&&!this.ignore&&(j[i]=n,req.onResourceLoad&&req.onResourceLoad(q,this.map,this.depMaps)),d(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=o(e.prefix);this.depMaps.push(r),c(r,"defined",bind(this,function(r){var n,a,p,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,h=q.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(f=r.normalize(f,function(e){return i(e,l,!0)})||""),a=o(e.prefix+"!"+f,this.map.parentMap),c(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),p=getOwn(k,a.id),void(p&&(this.depMaps.push(a),this.events.error&&p.on("error",bind(this,function(e){this.emit("error",e)})),p.enable()))):(n=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),n.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),u(e)}),n.fromText=bind(this,function(i,r){var a=e.name,c=o(a),p=useInteractive;r&&(i=r),p&&(useInteractive=!1),s(c),hasProp(y.config,t)&&(y.config[a]=y.config[t]);try{req.exec(i)}catch(d){return u(makeError("fromtexteval","fromText eval for "+t+" failed: "+d,d,[t]))}p&&(useInteractive=!0),this.depMaps.push(c),q.completeLoad(a),h([a],n)}),void r.load(e.name,h,n,y))})),q.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,r,n;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(E,e.id))return void(this.depExports[t]=n(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&c(e,"error",bind(this,this.errback))}i=e.id,r=k[i],hasProp(E,i)||!r||r.enabled||q.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&q.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},q={config:y,contextName:e,registry:k,defined:j,urlFetched:P,defQueue:M,Module:b,makeModuleMap:o,nextTick:req.nextTick,onError:u,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=y.pkgs,i=y.shim,r={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?"map"===t?(y.map||(y.map={}),mixin(y[t],e,!0,!0)):mixin(y[t],e,!0):y[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=q.makeShimExports(e)),i[t]=e}),y.shim=i),e.packages&&(each(e.packages,function(e){var i;e="string"==typeof e?{name:e}:e,i=e.location,t[e.name]={name:e.name,location:i||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),y.pkgs=t),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&q.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function n(i,a,c){var p,d,f;return r.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),"string"==typeof i?isFunction(a)?u(makeError("requireargs","Invalid require call"),c):t&&hasProp(E,i)?E[i](k[t.id]):req.get?req.get(q,i,t,n):(d=o(i,t,!1,!0),p=d.id,hasProp(j,p)?j[p]:u(makeError("notloaded",'Module name "'+p+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),q.nextTick(function(){v(),f=s(o(null,t)),f.skipMap=r.skipMap,f.init(i,a,c,{enabled:!0}),l()}),n)}return r=r||{},mixin(n,{isBrowser:isBrowser,toUrl:function(e){var r,n=e.lastIndexOf("."),a=e.split("/")[0],o="."===a||".."===a;return-1!==n&&(!o||n>1)&&(r=e.substring(n,e.length),e=e.substring(0,n)),q.nameToUrl(i(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(j,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(j,e)||hasProp(k,e)}}),t||(n.undef=function(e){p();var i=o(e,t,!0),r=getOwn(k,e);delete j[e],delete P[i.url],delete O[e],r&&(r.events.defined&&(O[e]=r.events),d(e))}),n},enable:function(e){var t=getOwn(k,e.id);t&&s(e).enable()},completeLoad:function(e){var t,i,r,a=getOwn(y.shim,e)||{},o=a.exports;for(p();M.length;){if(i=M.shift(),null===i[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);h(i)}if(r=getOwn(k,e),!t&&!hasProp(j,e)&&r&&!r.inited){if(!(!y.enforceDefine||o&&getGlobal(o)))return n(e)?void 0:u(makeError("nodefine","No define call for "+e,null,[e]));h([e,a.deps||[],a.exportsFn])}l()},nameToUrl:function(e,t,i){var r,n,a,o,s,c,u,p,d;if(req.jsExtRegExp.test(e))p=e+(t||"");else{for(r=y.paths,n=y.pkgs,s=e.split("/"),c=s.length;c>0;c-=1){if(u=s.slice(0,c).join("/"),a=getOwn(n,u),d=getOwn(r,u)){isArray(d)&&(d=d[0]),s.splice(0,c,d);break}if(a){o=e===a.name?a.location+"/"+a.main:a.location,s.splice(0,c,o);break}}p=s.join("/"),p+=t||(/^data\:|\?/.test(p)||i?"":".js"),p=("/"===p.charAt(0)||p.match(/^[\w\+\.\-]+:/)?"":y.baseUrl)+p}return y.urlArgs?p+((-1===p.indexOf("?")?"?":"&")+y.urlArgs):p},load:function(e,t){req.load(q,e,t)},execCb:function(e,t,i,r){return t.apply(r,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);q.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return n(t.id)?void 0:u(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},q.require=q.makeRequire(),q}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8+",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,r){var n,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=i,i=r):e=[]),a&&a.context&&(o=a.context),n=getOwn(contexts,o),n||(n=contexts[o]=req.s.newContext(o)),a&&n.configure(a),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,i){var r,n=e&&e.config||{};if(isBrowser)return r=req.createNode(n,t,i),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=i,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(i),e.completeLoad(t)}catch(a){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+i,a,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,i){var r,n;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=null),!t&&isFunction(i)&&(t=[],i.length&&(i.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")])),(n?n.defQueue:globalDefQueue).push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this);
;!function(e,t){function n(e){var t=e.length,n=ct.type(e);return ct.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=kt[e]={};return ct.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(ct.acceptData(e)){var o,a,s=ct.expando,u=e.nodeType,l=u?ct.cache:e,c=u?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||r!==t||"string"!=typeof n)return c||(c=u?e[s]=tt.pop()||ct.guid++:s),l[c]||(l[c]=u?{}:{toJSON:ct.noop}),("object"==typeof n||"function"==typeof n)&&(i?l[c]=ct.extend(l[c],n):l[c].data=ct.extend(l[c].data,n)),a=l[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[ct.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[ct.camelCase(n)])):o=a,o}}function o(e,t,n){if(ct.acceptData(e)){var r,i,o=e.nodeType,a=o?ct.cache:e,u=o?e[ct.expando]:ct.expando;if(a[u]){if(t&&(r=n?a[u]:a[u].data)){ct.isArray(t)?t=t.concat(ct.map(t,ct.camelCase)):t in r?t=[t]:(t=ct.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!s(r):!ct.isEmptyObject(r))return}(n||(delete a[u].data,s(a[u])))&&(o?ct.cleanData([e],!0):ct.support.deleteExpando||a!=a.window?delete a[u]:a[u]=null)}}}function a(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(St,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Et.test(r)?ct.parseJSON(r):r}catch(o){}ct.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!ct.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(){return!0}function l(){return!1}function c(){try{return G.activeElement}catch(e){}}function f(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,n){if(ct.isFunction(t))return ct.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ct.grep(e,function(e){return e===t!==n});if("string"==typeof t){if($t.test(t))return ct.filter(t,e,n);t=ct.filter(t,e)}return ct.grep(e,function(e){return ct.inArray(e,t)>=0!==n})}function d(e){var t=Ut.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return ct.nodeName(e,"table")&&ct.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==ct.find.attr(e,"type"))+"/"+e.type,e}function m(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n,r=0;null!=(n=e[r]);r++)ct._data(n,"globalEval",!t||ct._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&ct.hasData(e)){var n,r,i,o=ct._data(e),a=ct._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ct.event.add(t,n,s[n][r])}a.data&&(a.data=ct.extend({},a.data))}}function b(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ct.support.noCloneEvent&&t[ct.expando]){i=ct._data(t);for(r in i.events)ct.removeEvent(t,r,i.handle);t.removeAttribute(ct.expando)}"script"===n&&t.text!==e.text?(g(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ct.support.html5Clone&&e.innerHTML&&!ct.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(e,n){var r,i,o=0,a=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],r=e.childNodes||e;null!=(i=r[o]);o++)!n||ct.nodeName(i,n)?a.push(i):ct.merge(a,x(i,n));return n===t||n&&ct.nodeName(e,n)?ct.merge([e],a):a}function w(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=kn.length;i--;)if(t=kn[i]+n,t in e)return t;return r}function C(e,t){return e=t||e,"none"===ct.css(e,"display")||!ct.contains(e.ownerDocument,e)}function N(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ct._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&C(r)&&(o[a]=ct._data(r,"olddisplay",A(r.nodeName)))):o[a]||(i=C(r),(n&&"none"!==n||!i)&&ct._data(r,"olddisplay",i?n:ct.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var r=vn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ct.css(e,n+Nn[o],!0,i)),r?("content"===n&&(a-=ct.css(e,"padding"+Nn[o],!0,i)),"margin"!==n&&(a-=ct.css(e,"border"+Nn[o]+"Width",!0,i))):(a+=ct.css(e,"padding"+Nn[o],!0,i),"padding"!==n&&(a+=ct.css(e,"border"+Nn[o]+"Width",!0,i)));return a}function S(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=fn(e),a=ct.support.boxSizing&&"border-box"===ct.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=pn(e,t,o),(0>i||null==i)&&(i=e.style[t]),bn.test(i))return i;r=a&&(ct.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+E(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e){var t=G,n=wn[e];return n||(n=j(e,t),"none"!==n&&n||(cn=(cn||ct("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(cn[0].contentWindow||cn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=j(e,t),cn.detach()),wn[e]=n),n}function j(e,t){var n=ct(t.createElement(e)).appendTo(t.body),r=ct.css(n[0],"display");return n.remove(),r}function D(e,t,n,r){var i;if(ct.isArray(t))ct.each(t,function(t,i){n||Sn.test(e)?r(e,i):D(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ct.type(t))r(e,t);else for(i in t)D(e+"["+i+"]",t[i],n,r)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pt)||[];if(ct.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function H(e,t,n,r){function i(s){var u;return o[s]=!0,ct.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function q(e,n){var r,i,o=ct.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&ct.extend(!0,e,r),e}function _(e,n,r){for(var i,o,a,s,u=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):void 0}function M(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function F(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function B(){return setTimeout(function(){Zn=t}),Zn=ct.now()}function P(e,t,n){for(var r,i=(or[t]||[]).concat(or["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function R(e,t,n){var r,i,o=0,a=ir.length,s=ct.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Zn||B(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ct.extend({},t),opts:ct.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||B(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ct.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(W(c,l.opts.specialEasing);a>o;o++)if(r=ir[o].call(l,e,c,l.opts))return r;return ct.map(c,P,l),ct.isFunction(l.opts.start)&&l.opts.start.call(e,l),ct.fx.timer(ct.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e,t){var n,r,i,o,a;for(n in e)if(r=ct.camelCase(n),i=t[r],o=e[n],ct.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ct.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function $(e,t,n){var r,i,o,a,s,u,l=this,c={},f=e.style,p=e.nodeType&&C(e),d=ct._data(e,"fxshow");n.queue||(s=ct._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,ct.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===ct.css(e,"display")&&"none"===ct.css(e,"float")&&(ct.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ct.support.shrinkWrapBlocks||l.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],tr.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show"))continue;c[r]=d&&d[r]||ct.style(e,r)}if(!ct.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=ct._data(e,"fxshow",{}),o&&(d.hidden=!p),p?ct(e).show():l.done(function(){ct(e).hide()}),l.done(function(){var t;ct._removeData(e,"fxshow");for(t in c)ct.style(e,t,c[t])});for(r in c)a=P(p?d[r]:0,r,l),r in d||(d[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function I(e,t,n,r,i){return new I.prototype.init(e,t,n,r,i)}function z(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Nn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function X(e){return ct.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,V,Y=typeof t,J=e.location,G=e.document,Q=G.documentElement,K=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",rt=tt.concat,it=tt.push,ot=tt.slice,at=tt.indexOf,st=et.toString,ut=et.hasOwnProperty,lt=nt.trim,ct=function(e,t){return new ct.fn.init(e,t,V)},ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=/\S+/g,dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mt=/^[\],:{}\s]*$/,yt=/(?:^|:|,)(?:\s*\[)+/g,vt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xt=/^-ms-/,wt=/-([\da-z])/gi,Tt=function(e,t){return t.toUpperCase()},Ct=function(e){(G.addEventListener||"load"===e.type||"complete"===G.readyState)&&(Nt(),ct.ready())},Nt=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",Ct,!1),e.removeEventListener("load",Ct,!1)):(G.detachEvent("onreadystatechange",Ct),e.detachEvent("onload",Ct))};ct.fn=ct.prototype={jquery:nt,constructor:ct,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ct?n[0]:n,ct.merge(this,ct.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:G,!0)),gt.test(i[1])&&ct.isPlainObject(n))for(i in n)ct.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=G.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ct.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ct.makeArray(e,this))},selector:"",length:0,toArray:function(){return ot.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ct.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ct.each(this,e,t)},ready:function(e){return ct.ready.promise().done(e),this},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ct.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:it,sort:[].sort,splice:[].splice},ct.fn.init.prototype=ct.fn,ct.extend=ct.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||ct.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(ct.isPlainObject(r)||(n=ct.isArray(r)))?(n?(n=!1,a=e&&ct.isArray(e)?e:[]):a=e&&ct.isPlainObject(e)?e:{},s[i]=ct.extend(c,a,r)):r!==t&&(s[i]=r));return s},ct.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ct&&(e.$=Z),t&&e.jQuery===ct&&(e.jQuery=K),ct},isReady:!1,readyWait:1,holdReady:function(e){e?ct.readyWait++:ct.ready(!0)},ready:function(e){if(e===!0?!--ct.readyWait:!ct.isReady){if(!G.body)return setTimeout(ct.ready);ct.isReady=!0,e!==!0&&--ct.readyWait>0||(U.resolveWith(G,[ct]),ct.fn.trigger&&ct(G).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ct.type(e)},isArray:Array.isArray||function(e){return"array"===ct.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[st.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ct.type(e)||e.nodeType||ct.isWindow(e))return!1;try{if(e.constructor&&!ut.call(e,"constructor")&&!ut.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(ct.support.ownLast)for(n in e)return ut.call(e,n);for(n in e);return n===t||ut.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var r=gt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ct.buildFragment([e],t,i),i&&ct(i).remove(),ct.merge([],r.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ct.trim(t),t&&mt.test(t.replace(vt,"@").replace(bt,"]").replace(yt,"")))?new Function("return "+t)():void ct.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||ct.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ct.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(xt,"ms-").replace(wt,Tt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:lt&&!lt.call("﻿ ")?function(e){return null==e?"":lt.call(e)}:function(e){return null==e?"":(e+"").replace(dt,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ct.merge(r,"string"==typeof e?[e]:e):it.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(at)return at.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&(u[u.length]=i);else for(o in e)i=t(e[o],o,r),null!=i&&(u[u.length]=i);return rt.apply([],u)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),ct.isFunction(e)?(r=ot.call(arguments,2),i=function(){return e.apply(n||this,r.concat(ot.call(arguments)))},i.guid=e.guid=e.guid||ct.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===ct.type(r)){o=!0;for(u in r)ct.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,ct.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(ct(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),ct.ready.promise=function(t){if(!U)if(U=ct.Deferred(),"complete"===G.readyState)setTimeout(ct.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",Ct,!1),e.addEventListener("load",Ct,!1);else{G.attachEvent("onreadystatechange",Ct),e.attachEvent("onload",Ct);var n=!1;try{n=null==e.frameElement&&G.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ct.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Nt(),ct.ready()}}()}return U.promise(t)},ct.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),V=ct(G),function(e,t){function n(e,t,n,r){var i,o,a,s,u,l,c,f,h,g;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(_&&!r){if(i=bt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&C.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!M||!M.test(e))){if(f=c=P,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=p(e),(c=t.getAttribute("id"))?f=c.replace(Tt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=l.length;u--;)l[u]=f+d(l[u]);h=dt.test(e)&&t.parentNode||t,g=l.join(",")}if(g)try{return et.apply(n,h.querySelectorAll(g)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return w(e.replace(lt,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function i(e){return e[P]=!0,e}function o(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(){}function p(e,t){var r,i,o,a,s,u,l,c=z[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=k.preFilter;s;){(!r||(i=ft.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=pt.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),s=s.slice(r.length));for(a in k.filter)!(i=yt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):z(e,u).slice(0)}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=W+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(l=t[P]||(t[P]={}),(u=l[r])&&u[0]===c){if((s=u[1])===!0||s===N)return s===!0}else if(u=l[r]=[c],u[1]=e(t,n,a)||N,u[1]===!0)return!0}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function y(e,t,n,r,o,a){return r&&!r[P]&&(r=y(r)),o&&!o[P]&&(o=y(o,a)),i(function(i,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=i||x(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?g:m(g,p,e,s,u),v=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r)for(l=m(v,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f));if(i){if(o||e){if(o){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(y[c]=f);o(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=o?nt.call(i,f):p[c])>-1&&(i[l]=!(a[l]=f))}}else v=m(v===a?v.splice(h,v.length):v),o?o(null,a,v,u):et.apply(a,v)})}function v(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return nt.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>s;s++)if(n=k.relative[e[s].type])c=[h(g(c),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return y(s>1&&g(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&d(e))}c.push(n)}return g(c)}function b(e,t){var r=0,o=t.length>0,a=e.length>0,s=function(i,s,u,l,c){var f,p,d,h=[],g=0,y="0",v=i&&[],b=null!=c,x=j,w=i||a&&k.find.TAG("*",c&&s.parentNode||s),T=W+=null==x?1:Math.random()||.1;for(b&&(j=s!==H&&s,N=r);null!=(f=w[y]);y++){if(a&&f){for(p=0;d=e[p++];)if(d(f,s,u)){l.push(f);break}b&&(W=T,N=++r)}o&&((f=!d&&f)&&g--,i&&v.push(f))}if(g+=y,o&&y!==g){for(p=0;d=t[p++];)d(v,h,s,u);if(i){if(g>0)for(;y--;)v[y]||h[y]||(h[y]=K.call(l));h=m(h)}et.apply(l,h),b&&!i&&h.length>0&&g+t.length>1&&n.uniqueSort(l)}return b&&(W=T,j=x),v};return o?i(s):s}function x(e,t,r){for(var i=0,o=t.length;o>i;i++)n(e,t[i],r);return r}function w(e,t,n,r){var i,o,a,s,u,l=p(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&_&&k.relative[o[1].type]){if(t=(k.find.ID(a.matches[0].replace(Ct,Nt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=yt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((u=k.find[s])&&(r=u(a.matches[0].replace(Ct,Nt),dt.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return et.apply(n,r),n;break}}return A(e,l)(r,t,!_,n,dt.test(e)),n}var T,C,N,k,E,S,A,j,D,L,H,q,_,M,O,F,B,P="sizzle"+-new Date,R=e.document,W=0,$=0,I=r(),z=r(),X=r(),U=!1,V=function(e,t){return e===t?(U=!0,0):0},Y=typeof t,J=1<<31,G={}.hasOwnProperty,Q=[],K=Q.pop,Z=Q.push,et=Q.push,tt=Q.slice,nt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=ot.replace("w","w#"),st="\\["+it+"*("+ot+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+it+"*\\]",ut=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ft=new RegExp("^"+it+"*,"+it+"*"),pt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp(it+"*[+~]"),ht=new RegExp("="+it+"*([^\\]'\"]*)"+it+"*\\]","g"),gt=new RegExp(ut),mt=new RegExp("^"+at+"$"),yt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ut),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+rt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,Tt=/'|\\/g,Ct=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Nt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{et.apply(Q=tt.call(R.childNodes),R.childNodes),Q[R.childNodes.length].nodeType}catch(kt){et={apply:Q.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},C=n.support={},L=n.setDocument=function(e){var t=e?e.ownerDocument||e:R,n=t.defaultView;return t!==H&&9===t.nodeType&&t.documentElement?(H=t,q=t.documentElement,_=!S(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){L()}),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=o(function(e){return q.appendChild(e).id=P,!t.getElementsByName||!t.getElementsByName(P).length}),C.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==Y&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(Ct,Nt);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(Ct,Nt);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&_?t.getElementsByClassName(e):void 0},O=[],M=[],(C.qsa=vt.test(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+it+"*(?:value|"+rt+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),o(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(C.matchesSelector=vt.test(F=q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&o(function(e){C.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",ut)}),M=M.length&&new RegExp(M.join("|")),O=O.length&&new RegExp(O.join("|")),B=vt.test(q.contains)||q.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=q.compareDocumentPosition?function(e,n){if(e===n)return U=!0,0;var r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return r?1&r||!C.sortDetached&&n.compareDocumentPosition(e)===r?e===t||B(R,e)?-1:n===t||B(R,n)?1:D?nt.call(D,e)-nt.call(D,n):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,a=n.parentNode,u=[e],l=[n];if(e===n)return U=!0,0;if(!o||!a)return e===t?-1:n===t?1:o?-1:a?1:D?nt.call(D,e)-nt.call(D,n):0;if(o===a)return s(e,n);for(r=e;r=r.parentNode;)u.unshift(r);for(r=n;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},t):H},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==H&&L(e),t=t.replace(ht,"='$1']"),!(!C.matchesSelector||!_||O&&O.test(t)||M&&M.test(t)))try{var r=F.call(e,t);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return n(t,H,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==H&&L(e);var r=k.attrHandle[n.toLowerCase()],i=r&&G.call(k.attrHandle,n.toLowerCase())?r(e,n,!_):t;return i===t?C.attributes||!_?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(U=!C.detectDuplicates,D=!C.sortStable&&e.slice(0),e.sort(V),U){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},E=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=E(t);return n},k=n.selectors={cacheLength:50,createPseudo:i,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,Nt),e[3]=(e[4]||e[5]||"").replace(Ct,Nt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return yt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&gt.test(r)&&(n=p(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,Nt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&I(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:t?(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;
return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(c=m[P]||(m[P]={}),l=c[e]||[],d=l[0]===W&&l[1],p=l[0]===W&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[W,d,p];break}}else if(v&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(v&&((f[P]||(f[P]={}))[e]=[W,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,t){var r,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[P]?o(t):o.length>1?(r=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=nt.call(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=A(e.replace(lt,"$1"));return r[P]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return mt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Ct,Nt).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return wt.test(e.nodeName)},input:function(e){return xt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[T]=u(T);for(T in{submit:!0,reset:!0})k.pseudos[T]=l(T);f.prototype=k.filters=k.pseudos,k.setFilters=new f,A=n.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=p(e)),n=t.length;n--;)o=v(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r))}return o},C.sortStable=P.split("").sort(V).join("")===P,C.detectDuplicates=U,L(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(rt,function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),ct.find=n,ct.expr=n.selectors,ct.expr[":"]=ct.expr.pseudos,ct.unique=n.uniqueSort,ct.text=n.getText,ct.isXMLDoc=n.isXML,ct.contains=n.contains}(e);var kt={};ct.Callbacks=function(e){e="string"==typeof e?kt[e]||r(e):ct.extend({},e);var n,i,o,a,s,u,l=[],c=!e.once&&[],f=function(t){for(i=e.memory&&t,o=!0,s=u||0,u=0,a=l.length,n=!0;l&&a>s;s++)if(l[s].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,l&&(c?c.length&&f(c.shift()):i?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;!function r(t){ct.each(t,function(t,n){var i=ct.type(n);"function"===i?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),n?a=l.length:i&&(u=t,f(i))}return this},remove:function(){return l&&ct.each(arguments,function(e,t){for(var r;(r=ct.inArray(t,l,r))>-1;)l.splice(r,1),n&&(a>=r&&a--,s>=r&&s--)}),this},has:function(e){return e?ct.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=i=t,this},disabled:function(){return!l},lock:function(){return c=t,i||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||o&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},ct.extend({Deferred:function(e){var t=[["resolve","done",ct.Callbacks("once memory"),"resolved"],["reject","fail",ct.Callbacks("once memory"),"rejected"],["notify","progress",ct.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ct.Deferred(function(n){ct.each(t,function(t,o){var a=o[0],s=ct.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ct.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ct.extend(e,r):r}},i={};return r.pipe=r.then,ct.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ot.call(arguments),a=o.length,s=1!==a||e&&ct.isFunction(e.promise)?a:0,u=1===s?e:ct.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ot.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ct.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),ct.support=function(t){var n,r,i,o,a,s,u,l,c,f=G.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*")||[],r=f.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;o=G.createElement("select"),s=o.appendChild(G.createElement("option")),i=f.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==f.className,t.leadingWhitespace=3===f.firstChild.nodeType,t.tbody=!f.getElementsByTagName("tbody").length,t.htmlSerialize=!!f.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!i.value,t.optSelected=s.selected,t.enctype=!!G.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete f.test}catch(p){t.deleteExpando=!1}i=G.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),a=G.createDocumentFragment(),a.appendChild(i),t.appendChecked=i.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,f.attachEvent&&(f.attachEvent("onclick",function(){t.noCloneEvent=!1}),f.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})f.setAttribute(u="on"+c,"t"),t[c+"Bubbles"]=u in e||f.attributes[u].expando===!1;f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===f.style.backgroundClip;for(c in ct(t))break;return t.ownLast="0"!==c,ct(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=G.getElementsByTagName("body")[0];a&&(n=G.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=f.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=l&&0===i[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ct.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===f.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(f,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(f,null)||{width:"4px"}).width,r=f.appendChild(G.createElement("div")),r.style.cssText=f.style.cssText=o,r.style.marginRight=r.style.width="0",f.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof f.style.zoom!==Y&&(f.innerHTML="",f.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==f.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=f=i=r=null)}),n=o=a=s=r=i=null,t}({});var Et=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;ct.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ct.cache[e[ct.expando]]:e[ct.expando],!!e&&!s(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ct.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ct.fn.extend({data:function(e,n){var r,i,o=null,s=0,u=this[0];if(e===t){if(this.length&&(o=ct.data(u),1===u.nodeType&&!ct._data(u,"parsedAttrs"))){for(r=u.attributes;s<r.length;s++)i=r[s].name,0===i.indexOf("data-")&&(i=ct.camelCase(i.slice(5)),a(u,i,o[i]));ct._data(u,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ct.data(this,e)}):arguments.length>1?this.each(function(){ct.data(this,e,n)}):u?a(u,e,ct.data(u,e)):null},removeData:function(e){return this.each(function(){ct.removeData(this,e)})}}),ct.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ct._data(e,t),n&&(!r||ct.isArray(n)?r=ct._data(e,t,ct.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ct.queue(e,t),r=n.length,i=n.shift(),o=ct._queueHooks(e,t),a=function(){ct.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ct._data(e,n)||ct._data(e,n,{empty:ct.Callbacks("once memory").add(function(){ct._removeData(e,t+"queue"),ct._removeData(e,n)})})}}),ct.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?ct.queue(this[0],e):n===t?this:this.each(function(){var t=ct.queue(this,e,n);ct._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ct.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ct.dequeue(this,e)})},delay:function(e,t){return e=ct.fx?ct.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=ct.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=ct._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var At,jt,Dt=/[\t\r\n\f]/g,Lt=/\r/g,Ht=/^(?:input|select|textarea|button|object)$/i,qt=/^(?:a|area)$/i,_t=/^(?:checked|selected)$/i,Mt=ct.support.getSetAttribute,Ot=ct.support.input;ct.fn.extend({attr:function(e,t){return ct.access(this,ct.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ct.removeAttr(this,e)})},prop:function(e,t){return ct.access(this,ct.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ct.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(ct.isFunction(e))return this.each(function(t){ct(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(pt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=ct.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ct.isFunction(e))return this.each(function(t){ct(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(pt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ct.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ct.isFunction(e)?function(n){ct(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ct(this),o=e.match(pt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Y||"boolean"===n)&&(this.className&&ct._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ct._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=ct.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,ct(this).val()):e,null==o?o="":"number"==typeof o?o+="":ct.isArray(o)&&(o=ct.map(o,function(e){return null==e?"":e+""})),r=ct.valHooks[this.type]||ct.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=ct.valHooks[o.type]||ct.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Lt,""):null==n?"":n)}}}),ct.extend({valHooks:{option:{get:function(e){var t=ct.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ct.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ct.nodeName(n.parentNode,"optgroup"))){if(t=ct(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ct.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=ct.inArray(ct(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Y?ct.prop(e,n,r):(1===a&&ct.isXMLDoc(e)||(n=n.toLowerCase(),i=ct.attrHooks[n]||(ct.expr.match.bool.test(n)?jt:At)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=ct.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):void ct.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pt);if(o&&1===e.nodeType)for(;n=o[i++];)r=ct.propFix[n]||n,ct.expr.match.bool.test(n)?Ot&&Mt||!_t.test(n)?e[r]=!1:e[ct.camelCase("default-"+n)]=e[r]=!1:ct.attr(e,n,""),e.removeAttribute(Mt?n:r)},attrHooks:{type:{set:function(e,t){if(!ct.support.radioValue&&"radio"===t&&ct.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!ct.isXMLDoc(e),a&&(n=ct.propFix[n]||n,o=ct.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=ct.find.attr(e,"tabindex");return t?parseInt(t,10):Ht.test(e.nodeName)||qt.test(e.nodeName)&&e.href?0:-1}}}}),jt={set:function(e,t,n){return t===!1?ct.removeAttr(e,n):Ot&&Mt||!_t.test(n)?e.setAttribute(!Mt&&ct.propFix[n]||n,n):e[ct.camelCase("default-"+n)]=e[n]=!0,n}},ct.each(ct.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ct.expr.attrHandle[n]||ct.find.attr;ct.expr.attrHandle[n]=Ot&&Mt||!_t.test(n)?function(e,n,i){var o=ct.expr.attrHandle[n],a=i?t:(ct.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return ct.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[ct.camelCase("default-"+n)]?n.toLowerCase():null}}),Ot&&Mt||(ct.attrHooks.value={set:function(e,t,n){return ct.nodeName(e,"input")?void(e.defaultValue=t):At&&At.set(e,t,n)}}),Mt||(At={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},ct.expr.attrHandle.id=ct.expr.attrHandle.name=ct.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},ct.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:At.set},ct.attrHooks.contenteditable={set:function(e,t,n){At.set(e,""===t?!1:t,n)}},ct.each(["width","height"],function(e,t){ct.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ct.support.hrefNormalized||ct.each(["href","src"],function(e,t){ct.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ct.support.style||(ct.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ct.support.optSelected||(ct.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ct.propFix[this.toLowerCase()]=this}),ct.support.enctype||(ct.propFix.enctype="encoding"),ct.each(["radio","checkbox"],function(){ct.valHooks[this]={set:function(e,t){return ct.isArray(t)?e.checked=ct.inArray(ct(e).val(),t)>=0:void 0}},ct.support.checkOn||(ct.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ft=/^(?:input|select|textarea)$/i,Bt=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,Wt=/^([^.]*)(?:\.(.+)|)$/;ct.event={global:{},add:function(e,n,r,i,o){var a,s,u,l,c,f,p,d,h,g,m,y=ct._data(e);if(y){for(r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=ct.guid++),(s=y.events)||(s=y.events={}),(f=y.handle)||(f=y.handle=function(e){return typeof ct===Y||e&&ct.event.triggered===e.type?t:ct.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(pt)||[""],u=n.length;u--;)a=Wt.exec(n[u])||[],h=m=a[1],g=(a[2]||"").split(".").sort(),h&&(c=ct.event.special[h]||{},h=(o?c.delegateType:c.bindType)||h,c=ct.event.special[h]||{},p=ct.extend({type:h,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&ct.expr.match.needsContext.test(o),namespace:g.join(".")},l),(d=s[h])||(d=s[h]=[],d.delegateCount=0,c.setup&&c.setup.call(e,i,g,f)!==!1||(e.addEventListener?e.addEventListener(h,f,!1):e.attachEvent&&e.attachEvent("on"+h,f))),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),ct.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=ct.hasData(e)&&ct._data(e);if(m&&(c=m.events)){for(t=(t||"").match(pt)||[""],l=t.length;l--;)if(s=Wt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=ct.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=c[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;o--;)a=p[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,f.remove&&f.remove.call(e,a));u&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||ct.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)ct.event.remove(e,d+t[l],n,r,!0);ct.isEmptyObject(c)&&(delete m.handle,ct._removeData(e,"events"))}},trigger:function(n,r,i,o){var a,s,u,l,c,f,p,d=[i||G],h=ut.call(n,"type")?n.type:n,g=ut.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!Rt.test(h+ct.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[ct.expando]?n:new ct.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ct.makeArray(r,[n]),c=ct.event.special[h]||{},o||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!o&&!c.noBubble&&!ct.isWindow(i)){for(l=c.delegateType||h,Rt.test(l+h)||(u=u.parentNode);u;u=u.parentNode)d.push(u),f=u;f===(i.ownerDocument||G)&&d.push(f.defaultView||f.parentWindow||e)}for(p=0;(u=d[p++])&&!n.isPropagationStopped();)n.type=p>1?l:c.bindType||h,a=(ct._data(u,"events")||{})[n.type]&&ct._data(u,"handle"),a&&a.apply(u,r),a=s&&u[s],a&&ct.acceptData(u)&&a.apply&&a.apply(u,r)===!1&&n.preventDefault();if(n.type=h,!o&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&ct.acceptData(i)&&s&&i[h]&&!ct.isWindow(i)){f=i[s],f&&(i[s]=null),ct.event.triggered=h;try{i[h]()}catch(m){}ct.event.triggered=t,f&&(i[s]=f)}return n.result}},dispatch:function(e){e=ct.event.fix(e);var n,r,i,o,a,s=[],u=ot.call(arguments),l=(ct._data(this,"events")||{})[e.type]||[],c=ct.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=ct.event.handlers.call(this,e,l),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((ct.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?ct(r,this).index(l)>=0:ct.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return u<n.length&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[ct.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Pt.test(i)?this.mouseHooks:Bt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ct.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||G),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||G,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ct.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ct.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ct.extend(new ct.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ct.event.trigger(i,null,t):ct.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ct.removeEvent=G.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Y&&(e[r]=null),e.detachEvent(r,n))},ct.Event=function(e,t){return this instanceof ct.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?u:l):this.type=e,t&&ct.extend(this,t),this.timeStamp=e&&e.timeStamp||ct.now(),void(this[ct.expando]=!0)):new ct.Event(e,t)},ct.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u,this.stopPropagation()}},ct.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ct.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ct.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ct.support.submitBubbles||(ct.event.special.submit={setup:function(){return ct.nodeName(this,"form")?!1:void ct.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=ct.nodeName(n,"input")||ct.nodeName(n,"button")?n.form:t;r&&!ct._data(r,"submitBubbles")&&(ct.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),ct._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ct.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ct.nodeName(this,"form")?!1:void ct.event.remove(this,"._submit")}}),ct.support.changeBubbles||(ct.event.special.change={setup:function(){return Ft.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ct.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ct.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ct.event.simulate("change",this,e,!0)})),!1):void ct.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ft.test(t.nodeName)&&!ct._data(t,"changeBubbles")&&(ct.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ct.event.simulate("change",this.parentNode,e,!0)}),ct._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ct.event.remove(this,"._change"),!Ft.test(this.nodeName)}}),ct.support.focusinBubbles||ct.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ct.event.simulate(t,e.target,ct.event.fix(e),!0)};ct.event.special[t]={setup:function(){0===n++&&G.addEventListener(e,r,!0)},teardown:function(){0===--n&&G.removeEventListener(e,r,!0)}}}),ct.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=l;else if(!i)return this;return 1===o&&(s=i,i=function(e){return ct().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ct.guid++)),this.each(function(){ct.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ct(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=l),this.each(function(){ct.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ct.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ct.event.trigger(e,t,n,!0):void 0}});var $t=/^.[^:#\[\.,]*$/,It=/^(?:parents|prev(?:Until|All))/,zt=ct.expr.match.needsContext,Xt={children:!0,contents:!0,next:!0,prev:!0};ct.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ct(e).filter(function(){for(t=0;i>t;t++)if(ct.contains(r[t],this))return!0}));for(t=0;i>t;t++)ct.find(e,r[t],n);return n=this.pushStack(i>1?ct.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ct(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ct.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(p(this,e||[],!0))},filter:function(e){return this.pushStack(p(this,e||[],!1))},is:function(e){return!!p(this,"string"==typeof e&&zt.test(e)?ct(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=zt.test(e)||"string"!=typeof e?ct(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ct.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ct.unique(o):o)},index:function(e){return e?"string"==typeof e?ct.inArray(this[0],ct(e)):ct.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ct(e,t):ct.makeArray(e&&e.nodeType?[e]:e),r=ct.merge(this.get(),n);return this.pushStack(ct.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ct.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null
},parents:function(e){return ct.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ct.dir(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return ct.dir(e,"nextSibling")},prevAll:function(e){return ct.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ct.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ct.dir(e,"previousSibling",n)},siblings:function(e){return ct.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ct.sibling(e.firstChild)},contents:function(e){return ct.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ct.merge([],e.childNodes)}},function(e,t){ct.fn[e]=function(n,r){var i=ct.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ct.filter(r,i)),this.length>1&&(Xt[e]||(i=ct.unique(i)),It.test(e)&&(i=i.reverse())),this.pushStack(i)}}),ct.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ct.find.matchesSelector(r,e)?[r]:[]:ct.find.matches(e,ct.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!ct(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vt=/ jQuery\d+="(?:null|\d+)"/g,Yt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Jt=/^\s+/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Kt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ct.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},un=d(G),ln=un.appendChild(G.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,ct.fn.extend({text:function(e){return ct.access(this,function(e){return e===t?ct.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ct.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ct.cleanData(x(n)),n.parentNode&&(t&&ct.contains(n.ownerDocument,n)&&y(x(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ct.cleanData(x(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ct.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ct.clone(this,e,t)})},html:function(e){return ct.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Vt,""):t;if(!("string"!=typeof e||en.test(e)||!ct.support.htmlSerialize&&Yt.test(e)||!ct.support.leadingWhitespace&&Jt.test(e)||sn[(Qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Gt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(ct.cleanData(x(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ct.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),ct(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=rt.apply([],e);var r,i,o,a,s,u,l=0,c=this.length,f=this,p=c-1,d=e[0],h=ct.isFunction(d);if(h||!(1>=c||"string"!=typeof d||ct.support.checkClone)&&nn.test(d))return this.each(function(r){var i=f.eq(r);h&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(u=ct.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=u.firstChild,1===u.childNodes.length&&(u=r),r)){for(a=ct.map(x(u,"script"),g),o=a.length;c>l;l++)i=u,l!==p&&(i=ct.clone(i,!0,!0),o&&ct.merge(a,x(i,"script"))),t.call(this[l],i,l);if(o)for(s=a[a.length-1].ownerDocument,ct.map(a,m),l=0;o>l;l++)i=a[l],rn.test(i.type||"")&&!ct._data(i,"globalEval")&&ct.contains(s,i)&&(i.src?ct._evalUrl(i.src):ct.globalEval((i.text||i.textContent||i.innerHTML||"").replace(an,"")));u=r=null}return this}}),ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ct.fn[e]=function(e){for(var n,r=0,i=[],o=ct(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ct(o[r])[t](n),it.apply(i,n.get());return this.pushStack(i)}}),ct.extend({clone:function(e,t,n){var r,i,o,a,s,u=ct.contains(e.ownerDocument,e);if(ct.support.html5Clone||ct.isXMLDoc(e)||!Yt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ln.innerHTML=e.outerHTML,ln.removeChild(o=ln.firstChild)),!(ct.support.noCloneEvent&&ct.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ct.isXMLDoc(e)))for(r=x(o),s=x(e),a=0;null!=(i=s[a]);++a)r[a]&&b(i,r[a]);if(t)if(n)for(s=s||x(e),r=r||x(o),a=0;null!=(i=s[a]);a++)v(i,r[a]);else v(e,o);return r=x(o,"script"),r.length>0&&y(r,!u&&x(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,f=e.length,p=d(t),h=[],g=0;f>g;g++)if(o=e[g],o||0===o)if("object"===ct.type(o))ct.merge(h,o.nodeType?[o]:o);else if(Zt.test(o)){for(s=s||p.appendChild(t.createElement("div")),u=(Qt.exec(o)||["",""])[1].toLowerCase(),c=sn[u]||sn._default,s.innerHTML=c[1]+o.replace(Gt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ct.support.leadingWhitespace&&Jt.test(o)&&h.push(t.createTextNode(Jt.exec(o)[0])),!ct.support.tbody)for(o="table"!==u||Kt.test(o)?"<table>"!==c[1]||Kt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ct.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ct.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(o));for(s&&p.removeChild(s),ct.support.appendChecked||ct.grep(x(h,"input"),w),g=0;o=h[g++];)if((!r||-1===ct.inArray(o,r))&&(a=ct.contains(o.ownerDocument,o),s=x(p.appendChild(o),"script"),a&&y(s),n))for(i=0;o=s[i++];)rn.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ct.expando,u=ct.cache,l=ct.support.deleteExpando,c=ct.event.special;null!=(n=e[a]);a++)if((t||ct.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ct.event.remove(n,r):ct.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Y?n.removeAttribute(s):n[s]=null,tt.push(i))}},_evalUrl:function(e){return ct.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ct.fn.extend({wrapAll:function(e){if(ct.isFunction(e))return this.each(function(t){ct(this).wrapAll(e.call(this,t))});if(this[0]){var t=ct(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ct.isFunction(e)?function(t){ct(this).wrapInner(e.call(this,t))}:function(){var t=ct(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ct.isFunction(e);return this.each(function(n){ct(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ct.nodeName(this,"body")||ct(this).replaceWith(this.childNodes)}).end()}});var cn,fn,pn,dn=/alpha\([^)]*\)/i,hn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,yn=/^margin/,vn=new RegExp("^("+ft+")(.*)$","i"),bn=new RegExp("^("+ft+")(?!px)[a-z%]+$","i"),xn=new RegExp("^([+-])=("+ft+")","i"),wn={BODY:"block"},Tn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},Nn=["Top","Right","Bottom","Left"],kn=["Webkit","O","Moz","ms"];ct.fn.extend({css:function(e,n){return ct.access(this,function(e,n,r){var i,o,a={},s=0;if(ct.isArray(n)){for(o=fn(e),i=n.length;i>s;s++)a[n[s]]=ct.css(e,n[s],!1,o);return a}return r!==t?ct.style(e,n,r):ct.css(e,n)},e,n,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){C(this)?ct(this).show():ct(this).hide()})}}),ct.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ct.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=ct.camelCase(n),l=e.style;if(n=ct.cssProps[u]||(ct.cssProps[u]=T(l,u)),s=ct.cssHooks[n]||ct.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=xn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(ct.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||ct.cssNumber[u]||(r+="px"),ct.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=ct.camelCase(n);return n=ct.cssProps[u]||(ct.cssProps[u]=T(e.style,u)),s=ct.cssHooks[n]||ct.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=pn(e,n,i)),"normal"===a&&n in Cn&&(a=Cn[n]),""===r||r?(o=parseFloat(a),r===!0||ct.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(fn=function(t){return e.getComputedStyle(t,null)},pn=function(e,n,r){var i,o,a,s=r||fn(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||ct.contains(e.ownerDocument,e)||(u=ct.style(e,n)),bn.test(u)&&yn.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):G.documentElement.currentStyle&&(fn=function(e){return e.currentStyle},pn=function(e,n,r){var i,o,a,s=r||fn(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),bn.test(u)&&!gn.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u}),ct.each(["height","width"],function(e,t){ct.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&mn.test(ct.css(e,"display"))?ct.swap(e,Tn,function(){return S(e,t,r)}):S(e,t,r):void 0},set:function(e,n,r){var i=r&&fn(e);return k(e,n,r?E(e,t,r,ct.support.boxSizing&&"border-box"===ct.css(e,"boxSizing",!1,i),i):0)}}}),ct.support.opacity||(ct.cssHooks.opacity={get:function(e,t){return hn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ct.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ct.trim(o.replace(dn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=dn.test(o)?o.replace(dn,i):o+" "+i)}}),ct(function(){ct.support.reliableMarginRight||(ct.cssHooks.marginRight={get:function(e,t){return t?ct.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):void 0}}),!ct.support.pixelPosition&&ct.fn.position&&ct.each(["top","left"],function(e,t){ct.cssHooks[t]={get:function(e,n){return n?(n=pn(e,t),bn.test(n)?ct(e).position()[t]+"px":n):void 0}}})}),ct.expr&&ct.expr.filters&&(ct.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ct.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ct.css(e,"display"))},ct.expr.filters.visible=function(e){return!ct.expr.filters.hidden(e)}),ct.each({margin:"",padding:"",border:"Width"},function(e,t){ct.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Nn[r]+t]=o[r]||o[r-2]||o[0];return i}},yn.test(e)||(ct.cssHooks[e+t].set=k)});var En=/%20/g,Sn=/\[\]$/,An=/\r?\n/g,jn=/^(?:submit|button|image|reset|file)$/i,Dn=/^(?:input|select|textarea|keygen)/i;ct.fn.extend({serialize:function(){return ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ct.prop(this,"elements");return e?ct.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ct(this).is(":disabled")&&Dn.test(this.nodeName)&&!jn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ct(this).val();return null==n?null:ct.isArray(n)?ct.map(n,function(e){return{name:t.name,value:e.replace(An,"\r\n")}}):{name:t.name,value:n.replace(An,"\r\n")}}).get()}}),ct.param=function(e,n){var r,i=[],o=function(e,t){t=ct.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ct.ajaxSettings&&ct.ajaxSettings.traditional),ct.isArray(e)||e.jquery&&!ct.isPlainObject(e))ct.each(e,function(){o(this.name,this.value)});else for(r in e)D(r,e[r],n,o);return i.join("&").replace(En,"+")},ct.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ct.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ct.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ln,Hn,qn=ct.now(),_n=/\?/,Mn=/#.*$/,On=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pn=/^(?:GET|HEAD)$/,Rn=/^\/\//,Wn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,$n=ct.fn.load,In={},zn={},Xn="*/".concat("*");try{Hn=J.href}catch(Un){Hn=G.createElement("a"),Hn.href="",Hn=Hn.href}Ln=Wn.exec(Hn.toLowerCase())||[],ct.fn.load=function(e,n,r){if("string"!=typeof e&&$n)return $n.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),ct.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&ct.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?ct("<div>").append(ct.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ct.fn[t]=function(e){return this.on(t,e)}}),ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hn,type:"GET",isLocal:Bn.test(Ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ct.parseJSON,"text xml":ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,ct.ajaxSettings),t):q(ct.ajaxSettings,e)},ajaxPrefilter:L(In),ajaxTransport:L(zn),ajax:function(e,n){function r(e,n,r,i){var o,f,v,b,w,C=n;2!==x&&(x=2,u&&clearTimeout(u),c=t,s=i||"",T.readyState=e>0?4:0,o=e>=200&&300>e||304===e,r&&(b=_(p,T,r)),b=M(p,b,T,o),o?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(ct.lastModified[a]=w),w=T.getResponseHeader("etag"),w&&(ct.etag[a]=w)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=b.state,f=b.data,v=b.error,o=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(n||C)+"",o?g.resolveWith(d,[f,C,T]):g.rejectWith(d,[T,C,v]),T.statusCode(y),y=t,l&&h.trigger(o?"ajaxSuccess":"ajaxError",[T,p,o?f:v]),m.fireWith(d,[T,C]),l&&(h.trigger("ajaxComplete",[T,p]),--ct.active||ct.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,u,l,c,f,p=ct.ajaxSetup({},n),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?ct(d):ct.event,g=ct.Deferred(),m=ct.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!f)for(f={};t=Fn.exec(s);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)y[t]=[y[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,p.url=((e||p.url||Hn)+"").replace(Mn,"").replace(Rn,Ln[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ct.trim(p.dataType||"*").toLowerCase().match(pt)||[""],null==p.crossDomain&&(i=Wn.exec(p.url.toLowerCase()),p.crossDomain=!(!i||i[1]===Ln[1]&&i[2]===Ln[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ln[3]||("http:"===Ln[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ct.param(p.data,p.traditional)),H(In,p,n,T),2===x)return T;l=p.global,l&&0===ct.active++&&ct.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pn.test(p.type),a=p.url,p.hasContent||(p.data&&(a=p.url+=(_n.test(a)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=On.test(a)?a.replace(On,"$1_="+qn++):a+(_n.test(a)?"&":"?")+"_="+qn++)),p.ifModified&&(ct.lastModified[a]&&T.setRequestHeader("If-Modified-Since",ct.lastModified[a]),ct.etag[a]&&T.setRequestHeader("If-None-Match",ct.etag[a])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Xn+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)T.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===x))return T.abort();w="abort";for(o in{success:1,error:1,complete:1})T[o](p[o]);if(c=H(zn,p,n,T)){T.readyState=1,l&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,c.send(v,r)}catch(C){if(!(2>x))throw C;r(-1,C)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return ct.get(e,t,n,"json")},getScript:function(e,n){return ct.get(e,t,n,"script")}}),ct.each(["get","post"],function(e,n){ct[n]=function(e,r,i,o){return ct.isFunction(r)&&(o=o||i,i=r,r=t),ct.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ct.globalEval(e),e}}}),ct.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ct.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=G.head||ct("head")[0]||G.documentElement;return{send:function(t,i){n=G.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Vn=[],Yn=/(=)\?(?=&|$)|\?\?/;ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vn.pop()||ct.expando+"_"+qn++;return this[e]=!0,e}}),ct.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Yn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ct.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Yn,"$1"+o):n.jsonp!==!1&&(n.url+=(_n.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||ct.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Vn.push(o)),s&&ct.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0});var Jn,Gn,Qn=0,Kn=e.ActiveXObject&&function(){var e;for(e in Jn)Jn[e](t,!0)};ct.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||F()}:O,Gn=ct.ajaxSettings.xhr(),ct.support.cors=!!Gn&&"withCredentials"in Gn,Gn=ct.support.ajax=!!Gn,Gn&&ct.ajaxTransport(function(n){if(!n.crossDomain||ct.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,f;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=ct.noop,Kn&&delete Jn[a]),i)4!==u.readyState&&u.abort();else{f={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(f.text=u.responseText);try{c=u.statusText}catch(p){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(d){i||o(-1,d)}f&&o(s,c,f,l)},n.async?4===u.readyState?setTimeout(r):(a=++Qn,Kn&&(Jn||(Jn={},ct(e).unload(Kn)),Jn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Zn,er,tr=/^(?:toggle|show|hide)$/,nr=new RegExp("^(?:([+-])=|)("+ft+")([a-z%]*)$","i"),rr=/queueHooks$/,ir=[$],or={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=nr.exec(t),o=i&&i[3]||(ct.cssNumber[e]?"":"px"),a=(ct.cssNumber[e]||"px"!==o&&+r)&&nr.exec(ct.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ct.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ct.Animation=ct.extend(R,{tweener:function(e,t){ct.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],or[n]=or[n]||[],or[n].unshift(t)},prefilter:function(e,t){t?ir.unshift(e):ir.push(e)}}),ct.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ct.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?ct.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ct.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ct.fx.step[e.prop]?ct.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ct.cssProps[e.prop]]||ct.cssHooks[e.prop])?ct.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ct.each(["toggle","show","hide"],function(e,t){var n=ct.fn[t];ct.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(z(t,!0),e,r,i)}}),ct.fn.extend({fadeTo:function(e,t,n,r){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ct.isEmptyObject(e),o=ct.speed(t,n,r),a=function(){var t=R(this,ct.extend({},e),o);(i||ct._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ct.timers,a=ct._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&rr.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&ct.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ct._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ct.timers,a=r?r.length:0;for(n.finish=!0,ct.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ct.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ct.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ct.speed=function(e,t,n){var r=e&&"object"==typeof e?ct.extend({},e):{complete:n||!n&&t||ct.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ct.isFunction(t)&&t};return r.duration=ct.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ct.fx.speeds?ct.fx.speeds[r.duration]:ct.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ct.isFunction(r.old)&&r.old.call(this),r.queue&&ct.dequeue(this,r.queue)},r},ct.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ct.timers=[],ct.fx=I.prototype.init,ct.fx.tick=function(){var e,n=ct.timers,r=0;for(Zn=ct.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ct.fx.stop(),Zn=t},ct.fx.timer=function(e){e()&&ct.timers.push(e)&&ct.fx.start()},ct.fx.interval=13,ct.fx.start=function(){er||(er=setInterval(ct.fx.tick,ct.fx.interval))},ct.fx.stop=function(){clearInterval(er),er=null},ct.fx.speeds={slow:600,fast:200,_default:400},ct.fx.step={},ct.expr&&ct.expr.filters&&(ct.expr.filters.animated=function(e){return ct.grep(ct.timers,function(t){return e===t.elem}).length}),ct.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ct.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,ct.contains(n,o)?(typeof o.getBoundingClientRect!==Y&&(i=o.getBoundingClientRect()),r=X(a),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},ct.offset={setOffset:function(e,t,n){var r=ct.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=ct(e),s=a.offset(),u=ct.css(e,"top"),l=ct.css(e,"left"),c=("absolute"===r||"fixed"===r)&&ct.inArray("auto",[u,l])>-1,f={},p={};c?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),ct.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},ct.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ct.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ct.nodeName(e[0],"html")||(n=e.offset()),n.top+=ct.css(e[0],"borderTopWidth",!0),n.left+=ct.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ct.css(r,"marginTop",!0),left:t.left-n.left-ct.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!ct.nodeName(e,"html")&&"static"===ct.css(e,"position");)e=e.offsetParent;return e||Q})}}),ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);ct.fn[e]=function(i){return ct.access(this,function(e,i,o){var a=X(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(r?ct(a).scrollLeft():o,r?o:ct(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),ct.each({Height:"height",Width:"width"},function(e,n){ct.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ct.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return ct.access(this,function(n,r,i){var o;return ct.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?ct.css(n,r,s):ct.style(n,r,i,s)},n,a?i:t,a,null)}})}),ct.fn.size=function(){return this.length},ct.fn.andSelf=ct.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ct:(e.jQuery=e.$=ct,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ct}))}(window);
;!function(e){function t(t){return"function"==typeof u[t]&&(u[t]=u[t](e,a,f)),u[t]}function n(t,n,o){u[t]=o?n(e,a,f):n}function o(e,t){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1),r=s.length,i=t.style;if("string"==typeof i[e])n=!0;else for(;r--;)if("string"==typeof i[s[r]+o]){n=!0;break}return n}function r(e){if(e)for(;e.lastChild;)e.removeChild(e.lastChild);return e}function i(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!c[n]}var c={"boolean":1,number:1,string:1,undefined:1},s=["Webkit","Moz","O","ms","Khtml"],a=i(e,"document")&&e.document,f=a&&i(a,"createElement")&&a.createElement("DiV"),m="object"==typeof exports&&exports,d="object"==typeof module&&module,u={};t.add=n,t.clearElement=r,t.cssprop=o,t.isHostType=i,t._tests=u,t.add("dom",function(e,t,n){return t&&n&&i(e,"location")&&i(t,"documentElement")&&i(t,"getElementById")&&i(t,"getElementsByName")&&i(t,"getElementsByTagName")&&i(t,"createComment")&&i(t,"createElement")&&i(t,"createTextNode")&&i(n,"appendChild")&&i(n,"insertBefore")&&i(n,"removeChild")&&i(n,"getAttribute")&&i(n,"setAttribute")&&i(n,"removeAttribute")&&i(n,"style")&&"string"==typeof n.style.cssText});try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("has",[],function(){return t}):m?d&&d.exports==m?(d.exports=t).has=t:m.has=t:e.has=t}(this);
;require.config({baseUrl:"/assets/js",paths:{styles:"../css",templates:"../templates",moment:"vendor/moment",log:"vendor/logger"},config:{"require/css":{useLinks:!0}},map:{"*":{css:"require/css",hgn:"require/hgn",hogan:"require/hogan",json:"require/json",text:"require/text"}},shim:{"Core/Events":["Core"],"comments/default":{exports:"Comments"},Fn:["vendor/spin","Core"],"utils/ckeditor/ckeditor":{exports:"CKEDITOR"},"utils/colorpicker":{deps:["Fn","jquery/ui/draggable","jquery/ui/slider"],exports:"Utils.ColorPickers"},"utils/colorpicker-saver":{deps:["utils/colorpicker"],exports:"Utils.ColorPickerSavers"},"vendor/fileuploader":{exports:"qq"},"utils/FileUploaderMgr":{deps:["vendor/fileuploader","css!styles/utils/fileuploader.css"],exports:"Utils.FileUploaderMgr"},"vendor/history.adapter.jquery":["jquery"],"vendor/history":{deps:["vendor/history.adapter.jquery"],exports:"History"},"vendor/history.html4":{deps:["vendor/history"],exports:"History"},"utils/picturefill":{exports:"picturefill"},"vendor/iscroll":{exports:"iScroll"},"jquery/plugins/jquery.fancybox":["css!styles/jquery/plugins/jquery.fancybox","css!styles/jquery/plugins/jquery.fancybox-network"],"jquery/plugins/jquery.validation":["Fn","jquery/plugins/jquery.dirtyForm"],"jquery/plugins/jquery.tmpl":["jquery"],"jquery/plugins/jquery.hovermenu":["jquery"],"jquery/plugins/jquery.dirtyForm":["jquery","Core"],"jquery/plugins/jquery.Jcrop":["jquery"],"jquery/plugins/jquery.simpleCounter":["jquery/ui/core"],"jquery/plugins/jquery.custominput":["jquery/plugins/jquery.changeinput"],"jquery/plugins/jquery.popup":["jquery"],"jquery/plugins/jquery.locationi":["jquery/plugins/jquery.ui.autocomplete"],"jquery/ui/core":["jquery"],"jquery/ui/widget":["jquery/ui/core"],"jquery/ui/mouse":["jquery/ui/widget"],"jquery/ui/position":["jquery/ui/widget"],"jquery/ui/button":["jquery/ui/widget"],"jquery/ui/menu":["jquery/ui/position"],"jquery/ui/sortable":["jquery/ui/mouse"],"jquery/ui/draggable":["jquery/ui/mouse"],"jquery/ui/slider":["jquery/ui/mouse"],"jquery/ui/resizable":["jquery/ui/mouse"],"jquery/ui/autocomplete":["jquery/ui/menu"],"jquery/ui/dialog":["jquery/ui/position","jquery/ui/resizable","jquery/ui/button","jquery/ui/draggable"],"jquery/ui/progressbar":["jquery/ui/widget"],"jquery/plugins/jquery.ui.throttler":["jquery/ui/widget"],"jquery/plugins/jquery.ui.autocomplete":["Core","jquery/plugins/jquery.ui.listselector","jquery/plugins/jquery.ui.throttler","jquery/plugins/jquery.tmpl","Fn"],"jquery/be/previewcrop":["jquery/plugins/jquery.Jcrop","jquery/ui/widget"],"jquery/plugins/jquery.ui.coreext":["jquery/ui/mouse","jquery/ui/position"],"jquery/plugins/jquery.ui.listselector":["jquery/plugins/jquery.ui.coreext"],"jquery/plugins/jquery.ui.selectmenu":["jquery/plugins/jquery.ui.coreext","jquery/plugins/jquery.changeinput"],"jquery/plugins/jquery.ui.selectlist":["jquery/plugins/jquery.ui.listselector","jquery/plugins/jquery.tmpl"],"jquery/plugins/jquery.usercheck":["jquery/ui/widget"],"jquery/plugins/jquery.selectbubble":["jquery/plugins/jquery.ui.bubblelist"],"jquery/plugins/jquery.sticky":["jquery"],"jquery/plugins/jquery.textbubble":["jquery/plugins/jquery.ui.bubblelist"],"jquery/plugins/jquery.popupbubble":["jquery/plugins/jquery.ui.bubblelist"],"jquery/plugins/jquery.ui.fancyslider":["jquery/ui/slider"],"jquery/plugins/jquery.ui.previewCrop":["jquery/plugins/jquery.Jcrop","jquery/ui/widget"],"jquery/plugins/jquery.ui.bubblelist":["Core","jquery/plugins/jquery.ui.coreext"],"jquery/plugins/jquery.tinyscrollbar":["jquery","css!styles/jquery/plugins/jquery.tinyscrollbar.css"]},waitSeconds:9,hgn:{pathPrefix:"templates/"}});
;function spinFactory(t){$.fn.spin=function(){t=t||window.Spinner;var e=$(this),i=null,n=$.extend({lines:10,length:0,width:2,radius:6,color:"#f82d1e",speed:1.3,trail:38,shadow:!1},t.defaults);return e.each(function(){i=new t(n).spin(this),$(i.el).css({left:"10px",top:"11px",width:"23px",height:"23px","float":"left"}).addClass("progressbar"),$(this).data("spinner",i)}),this}}function sortBigToSmall(t,e){return e-t}function getScrollTop(){return self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function getScrollLeft(){return self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}function getWindowHeight(){var t=document.documentElement;return self.innerHeight||t&&t.clientHeight||document.body.clientHeight}function getWindowWidth(){var t=document.documentElement;return self.innerWidth||t&&t.clientWidth||document.body.clientWidth}function fitHorizontal(t,e){var i=parseInt(e)||jQuery(t).offset().left;return i+jQuery(t).width()<=getWindowWidth()+getScrollLeft()&&i-getScrollLeft()>=0}function fitVertical(t,e){var i=parseInt(e)||jQuery(t).offset().top;return i+jQuery(t).height()<=getWindowHeight()+getScrollTop()&&i-getScrollTop()>=0}!function(t){"use strict";var e={};e.VERSION="0.9.2";var i,n={},s=function(t,e){return function(){return e.apply(t,arguments)}},o=function(){var t,e,i=arguments,n=i[0];for(e=1;e<i.length;e++)for(t in i[e])t in n||!i[e].hasOwnProperty(t)||(n[t]=i[e][t]);return n},r=function(t,e){return{value:t,name:e}};e.DEBUG=r(1,"DEBUG"),e.INFO=r(2,"INFO"),e.WARN=r(4,"WARN"),e.ERROR=r(8,"ERROR"),e.OFF=r(99,"OFF");var a=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.debug};a.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},debug:function(){this.invoke(e.DEBUG,arguments)},info:function(){this.invoke(e.INFO,arguments)},warn:function(){this.invoke(e.WARN,arguments)},error:function(){this.invoke(e.ERROR,arguments)},invoke:function(t,e){i&&this.enabledFor(t)&&i(e,o({level:t},this.context))}};var l=new a({filterLevel:e.OFF});!function(){var t=e;t.enabledFor=s(l,l.enabledFor),t.debug=s(l,l.debug),t.info=s(l,l.info),t.warn=s(l,l.warn),t.error=s(l,l.error),t.log=t.debug}(),e.setHandler=function(t){i=t},e.setLevel=function(t){l.setLevel(t);for(var e in n)n.hasOwnProperty(e)&&n[e].setLevel(t)},e.get=function(t){return n[t]||(n[t]=new a(o({name:t},l.context)))},e.useDefaults=function(i){if("console"in t){var n=t.console;e.setLevel(i||e.DEBUG),e.setHandler(function(t,i){var s=n.log;i.name&&Array.prototype.splice.call(t,0,0,"["+i.name+"]"),i.level===e.WARN&&n.warn?s=n.warn:i.level===e.ERROR&&n.error?s=n.error:i.level===e.INFO&&n.info&&(s=n.info),s.apply(n,t)})}},"function"==typeof define&&define.amd?define("log",e):"undefined"!=typeof module&&module.exports?module.exports=e:t.Logger=e}(window),function(){if("object"==typeof Config){var t={baseUrl:Config.ASSETSURL+"js",urlArgs:Config.CBSTR};require.config(t)}require.onError=function(t){try{console.error(t.originalError||t,t.requireType,t.requireModules)}catch(e){}},window.onerror=function(t,e,i){e&&"undefined"!==e&&i&&console.error(t,e+":"+i)},require(["has","log"],function(t,e){"use strict";function i(t,e){t=Array.prototype.map.call(t,function(t){return t instanceof Error?{message:t.message,stack:t.stack}:t instanceof Event?{message:t.target&&t.target.src}:{message:t}});var n={context:e.name};n[e.level.name]=t,u.push(n),i.dirty||(setTimeout(function(){s(u),i.dirty=!1},0),i.dirty=!0)}function n(){l=!0}function s(t){if(l&&t&&t.length){var e=new XMLHttpRequest;e.open("post",r),e.setRequestHeader("Accept","*/*"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.send("log="+JSON.stringify(t))}}function o(t){var e,i,n;for(e=1;e<arguments.length;++e){n=arguments[e];for(i in n)t[i]=n[i]}return t}var r="/r/log",a=window.console,l=!1,u=[];e.restore=function(){window.console=a},e.setLevel(e.ERROR),e.setHandler(i),window.console=o({enableLogger:n},e)})}(),define("common",function(){}),define("require/text",["module"],function(t){"use strict";var e,i,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,o=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r="undefined"!=typeof location&&location.href,a=r&&location.protocol&&location.protocol.replace(/\:/,""),l=r&&location.hostname,u=r&&(location.port||void 0),c=[],h=t.config&&t.config()||{};return e={version:"2.0.5",strip:function(t){if(t){t=t.replace(s,"");var e=t.match(o);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=n[e];try{t=new ActiveXObject(i)}catch(s){}if(t){n=[i];break}}return t},parseName:function(t){var e,i,n,s=!1,o=t.indexOf("."),r=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!r||o>1)?(e=t.substring(0,o),i=t.substring(o+1,t.length)):e=t,n=i||e,o=n.indexOf("!"),-1!==o&&(s="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:e=n),{moduleName:e,ext:i,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,s){var o,r,a,l=e.xdRegExp.exec(t);return l?(o=l[2],r=l[3],r=r.split(":"),a=r[1],r=r[0],!(o&&o!==i||r&&r.toLowerCase()!==n.toLowerCase()||(a||r)&&a!==s)):!0},finishLoad:function(t,i,n,s){n=i?e.strip(n):n,h.isBuild&&(c[t]=n),s(n)},load:function(t,i,n,s){if(s.isBuild&&!s.inlineText)return void n();h.isBuild=s.isBuild;var o=e.parseName(t),c=o.moduleName+(o.ext?"."+o.ext:""),d=i.toUrl(c),f=h.useXhr||e.useXhr;!r||f(d,a,l,u)?e.get(d,function(i){e.finishLoad(t,o.strip,i,n)},function(t){n.error&&n.error(t)}):i([c],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,n)})},write:function(t,i,n){if(c.hasOwnProperty(i)){var s=e.jsEscape(c[i]);n.asModule(t+"!"+i,"define(function () { return '"+s+"';});\n")}},writeFile:function(t,i,n,s,o){var r=e.parseName(i),a=r.ext?"."+r.ext:"",l=r.moduleName+a,u=n.toUrl(r.moduleName+a)+".js";e.load(l,n,function(){var i=function(t){return s(u,t)};i.asModule=function(t,e){return s.asModule(t,u,e)},e.write(t,l,i,o)},o)}},"node"===h.env||!h.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(i=require.nodeRequire("fs"),e.get=function(t,e){var n=i.readFileSync(t,"utf8");0===n.indexOf("﻿")&&(n=n.substring(1)),e(n)}):"xhr"===h.env||!h.env&&e.createXhr()?e.get=function(t,i,n,s){var o,r=e.createXhr();if(r.open("GET",t,!0),s)for(o in s)s.hasOwnProperty(o)&&r.setRequestHeader(o.toLowerCase(),s[o]);h.onXhr&&h.onXhr(r,t),r.onreadystatechange=function(){var e,s;4===r.readyState&&(e=r.status,e>399&&600>e?(s=new Error(t+" HTTP status: "+e),s.xhr=r,n(s)):i(r.responseText))},r.send(null)}:("rhino"===h.env||!h.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(e.get=function(t,e){var i,n,s="utf-8",o=new java.io.File(t),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),s)),l="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),i.append(n);null!==(n=a.readLine());)i.append(r),i.append(n);l=String(i.toString())}finally{a.close()}e(l)}),e}),define("require/normalize",["require","module"],function(){function t(t,i,s){return t=o(t),t.match(/^\/|([^\:\/]*:)/)?t:n(e(t,i),s)}function e(t,e){"./"==t.substr(0,2)&&(t=t.substr(2));var i=e.split("/"),n=t.split("/");for(i.pop();curPart=n.shift();)".."==curPart?i.pop():i.push(curPart);return i.join("/")}function n(t,e){var n=e.split("/");for(n.pop(),e=n.join("/")+"/",i=0;e.substr(i,1)==t.substr(i,1);)i++;for(;"/"!=e.substr(i,1);)i--;e=e.substr(i+1),t=t.substr(i+1),n=e.split("/");var s=t.split("/");for(out="";n.shift();)out+="../";for(;curPart=s.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var s=/([^:])\/+/g,o=function(t){return t.replace(s,"$1/")},r=function(e,i,n){i=o(i),n=o(n);for(var s,r,e,a=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;s=a.exec(e);){r=s[3]||s[2]||s[5]||s[6]||s[4];var l=t(r,i,n),u=s[5]||s[6]?1:0;e=e.substr(0,a.lastIndex-r.length-u-1)+l+e.substr(a.lastIndex-u-1),a.lastIndex=a.lastIndex+(l.length-r.length)}return e};return r.convertURIBase=t,r}),define("require/css",["./normalize","module"],function(t,e){if("undefined"==typeof window)return{load:function(t,e,i){i()}};var i,n,s=document.getElementsByTagName("head")[0],o=window.navigator.userAgent.match(/Chrome\/([^ \.]*)|MSIE ([^ ;]*)|Firefox\/([^ ;]*)|Version\/([\d\.]*) Safari\//);window.opera&&(n="opera",i=!0),o&&(o[4]&&(n="webkit"),o[3]?n="mozilla":o[2]?n="ie":o[1]&&(n="webkit"),i=n&&(parseInt(o[4])>5||parseInt(o[3])>8||parseInt(o[2])>9||parseInt(o[1])>18)||void 0);var r=e.config();r&&void 0!==r.useLinks&&(i=r.useLinks);var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l={},u=function(t,e,i){if(l[t])return void e(l[t]);var n,s,o;if("undefined"!=typeof XMLHttpRequest)n=new XMLHttpRequest;else if("undefined"!=typeof ActiveXObject)for(s=0;3>s;s+=1){o=a[s];try{n=new ActiveXObject(o)}catch(r){}if(n){a=[o];break}}n.open("GET",t,requirejs.inlineRequire?!1:!0),n.onreadystatechange=function(){var s,o;4===n.readyState&&(s=n.status,s>399&&600>s?(o=new Error(t+" HTTP status: "+s),o.xhr=n,i(o)):(l[t]=n.responseText,e(n.responseText)))},n.send(null)},c={};c.pluginBuilder="./css-builder";var h=document.createElement("style");h.type="text/css",s.appendChild(h),c.inject=h.styleSheet?function(t){h.styleSheet.cssText+=t}:function(t){h.appendChild(document.createTextNode(t))};var d=function(t,e){setTimeout(function(){for(var i=0;i<document.styleSheets.length;i++){var n=document.styleSheets[i];if(n.href==t.href)return e()}d(t,e)},10)},f=function(t,e){setTimeout(function(){try{return t.sheet.cssRules,e()}catch(i){}f(t,e)},10)},p=function(t){var e=document.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e};c.linkLoad=function(t,e){var i=setTimeout(e,1e3*v-100),r=function(){clearTimeout(i),e()};if("webkit"==n){var a=p(t);d(a,r),s.appendChild(a)}else if("mozilla"==n&&parseInt(o[3])<18){var l=document.createElement("style");l.textContent='@import "'+t+'"',f(l,r),s.appendChild(l)}else{var a=p(t);a.onload=r,s.appendChild(a)}},c.inspect=function(){return h.styleSheet?h.styleSheet.cssText:h.innerHTML?h.innerHTML:void 0},c.normalize=function(t,e){return".css"==t.substr(t.length-4,4)&&(t=t.substr(0,t.length-4)),e(t)};var m=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,g=window.location.pathname.split("/");g.pop(),g=g.join("/")+"/";var v,y=function(e,i,n){"/"!=e.substr(0,1)&&(e="/"+t.convertURIBase(e,g,"/")),u(e,function(s){s=t(s,e,g);for(var o,r=[],a=[],l=[];o=m.exec(s);){var u=o[4]||o[5]||o[7]||o[8]||o[9];-1==u.indexOf(".")&&(u+=".less"),r.push(u),a.push(m.lastIndex-o[0].length),l.push(o[0].length)}for(var c=0,h=0;h<r.length;h++)(function(t){y(r[t],function(e){s=s.substr(0,a[t])+e+s.substr(a[t]+l[t]);for(var n=e.length-l[t],o=t+1;o<r.length;o++)a[o]+=n;c++,c==r.length&&i(s)},n)})(h);0==r.length&&i(s)},n)};return c.load=function(t,e,n,s,o){v=v||s.waitSeconds||7;var r=t;".css"==r.substr(r.length-4,4)||o||(r+=".css"),r=e.toUrl(r);var a=!0,l=/^(\w+:)?\/\/([^\/]+)/.exec(r);l&&(a=l[2]===window.location.host,l[1]&&(a&=l[1]===window.location.protocol)),o||i===!1||a&&!i?y(r,function(t){o&&(t=o(t)),c.inject(t),n(c)},n.error):c.linkLoad(r,function(){n(c)})},c});var Hogan={};!function(t,e){function i(t,e,i){var n;return e&&"object"==typeof e&&(null!=e[t]?n=e[t]:i&&e.get&&"function"==typeof e.get&&(n=e.get(t))),n}function n(t,e,i,n){function s(){}function o(){}s.prototype=t,o.prototype=t.subs;var r,a=new s;a.subs=new o,a.subsText={},a.ib();for(r in e)a.subs[r]=e[r],a.subsText[r]=n;for(r in i)a.partials[r]=i[r];return a}function s(t){return String(null===t||void 0===t?"":t)}function o(t){return t=s(t),h.test(t)?t.replace(r,"&amp;").replace(a,"&lt;").replace(l,"&gt;").replace(u,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,e,i,n){t=t||{},this.r=t.code||this.r,this.c=i,this.options=n||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(){return""},v:o,t:s,render:function(t,e,i){return this.ri([t],e||{},i)},ri:function(t,e,i){return this.r(t,e,i)},ep:function(t,e){var i=this.partials[t],s=e[i.name];if(i.instance&&i.base==s)return i.instance;if("string"==typeof s){if(!this.c)throw new Error("No compiler available.");s=this.c.compile(s,this.options)}return s?(this.partials[t].base=s,i.subs&&(void 0===this.activeSub&&(e.stackText=this.text),s=n(s,i.subs,i.partials,e.stackText||this.text)),this.partials[t].instance=s,s):null},rp:function(t,e,i,n){var s=this.ep(t,i);return s?s.ri(e,i,n):""},rs:function(t,e,i){var n=t[t.length-1];if(!d(n))return void i(t,e,this);for(var s=0;s<n.length;s++)t.push(n[s]),i(t,e,this),t.pop()},s:function(t,e,i,n,s,o,r){var a;return d(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,i,n,s,o,r)),a=!!t,!n&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,n,s){var o,r=t.split("."),a=this.f(r[0],e,n,s),l=this.options.modelGet,u=null;if("."===t&&d(e[e.length-2]))a=e[e.length-1];else for(var c=1;c<r.length;c++)o=i(r[c],a,l),null!=o?(u=a,a=o):a="";return s&&!a?!1:(s||"function"!=typeof a||(e.push(u),a=this.mv(a,e,n),e.pop()),a)},f:function(t,e,n,s){for(var o=!1,r=null,a=!1,l=this.options.modelGet,u=e.length-1;u>=0;u--)if(r=e[u],o=i(t,r,l),null!=o){a=!0;break}return a?(s||"function"!=typeof o||(o=this.mv(o,e,n)),o):s?!1:""},ls:function(t,e,i,n,o){var r=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(s(t.call(e,n)),e,i)),this.options.delimiters=r,!1},ct:function(t,e,i){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,i)},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=e?[]:""},ms:function(t,e,i,n,s,o,r){var a,l=e[e.length-1],u=t.call(l);return"function"==typeof u?n?!0:(a=this.activeSub&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,l,i,a.substring(s,o),r)):u},mv:function(t,e,i){var n=e[e.length-1],o=t.call(n);return"function"==typeof o?this.ct(s(o.call(n)),n,i):o},sub:function(t,e,i,n){var s=this.subs[t];s&&(this.activeSub=t,s(e,i,this,n),this.activeSub=!1)}};var r=/&/g,a=/</g,l=/>/g,u=/\'/g,c=/\"/g,h=/[&<>\"\']/,d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function i(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function n(t,e,i){if(e.charAt(i)!=t.charAt(0))return!1;for(var n=1,s=t.length;s>n;n++)if(e.charAt(i+n)!=t.charAt(n))return!1;return!0}function s(e,i,n,a){var l=[],u=null,c=null,h=null;for(c=n[n.length-1];e.length>0;){if(h=e.shift(),c&&"<"==c.tag&&!(h.tag in _))throw new Error("Illegal content in < super tag.");if(t.tags[h.tag]<=t.tags.$||o(h,a))n.push(h),h.nodes=s(e,h.tag,n,a);else{if("/"==h.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+h.n);if(u=n.pop(),h.n!=u.n&&!r(h.n,u.n,a))throw new Error("Nesting error: "+u.n+" vs. "+h.n);return u.end=h.i,l}"\n"==h.tag&&(h.last=0==e.length||"\n"==e[0].tag)}l.push(h)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return l}function o(t,e){for(var i=0,n=e.length;n>i;i++)if(e[i].o==t.n)return t.tag="#",!0}function r(t,e,i){for(var n=0,s=i.length;s>n;n++)if(i[n].c==t&&i[n].o==e)return!0}function a(t){var e=[];for(var i in t)e.push('"'+u(i)+'": function(c,p,t,i) {'+t[i]+"}");return"{ "+e.join(",")+" }"}function l(t){var e=[];for(var i in t.partials)e.push('"'+u(i)+'":{name:"'+u(t.partials[i].name)+'", '+l(t.partials[i])+"}");return"partials: {"+e.join(",")+"}, subs: "+a(t.subs)}function u(t){return t.replace(y,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r")}function c(t){return~t.indexOf(".")?"d":"f"}function h(t,e){var i="<"+(e.prefix||""),n=i+t.n+b++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+u(n)+'",c,p,"'+(t.indent||"")+'"));',n}function d(t,e){e.code+="t.b(t.t(t."+c(t.n)+'("'+u(t.n)+'",c,p,0)));'}function f(t){return"t.b("+t+");"}var p=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,y=/\\/g;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(s,o){function r(){y.length>0&&(_.push({tag:"_t",text:new String(y)}),y="")}function a(){for(var e=!0,i=x;i<_.length;i++)if(e=t.tags[_[i].tag]<t.tags._v||"_t"==_[i].tag&&null===_[i].text.match(p),!e)return!1;return e}function l(t,e){if(r(),t&&a())for(var i,n=x;n<_.length;n++)_[n].text&&((i=_[n+1])&&">"==i.tag&&(i.indent=_[n].text.toString()),_.splice(n,1));else e||_.push({tag:"\n"});b=!1,x=_.length}function u(t,e){var n="="+k,s=t.indexOf(n,e),o=i(t.substring(t.indexOf("=",e)+1,s)).split(" ");return C=o[0],k=o[o.length-1],s+n.length-1}var c=s.length,h=0,d=1,f=2,m=h,g=null,v=null,y="",_=[],b=!1,w=0,x=0,C="{{",k="}}";for(o&&(o=o.split(" "),C=o[0],k=o[1]),w=0;c>w;w++)m==h?n(C,s,w)?(--w,r(),m=d):"\n"==s.charAt(w)?l(b):y+=s.charAt(w):m==d?(w+=C.length-1,v=t.tags[s.charAt(w+1)],g=v?s.charAt(w+1):"_v","="==g?(w=u(s,w),m=h):(v&&w++,m=f),b=w):n(k,s,w)?(_.push({tag:g,n:i(y),otag:C,ctag:k,i:"/"==g?b-C.length:w+k.length}),y="",w+=k.length-1,m=h,"{"==g&&("}}"==k?w++:e(_[_.length-1]))):y+=s.charAt(w);return l(b,!0),_};var _={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+l(e)+"}"};var b=0;t.generate=function(e,i,n){b=0;var s={code:"",subs:{},partials:{}};return t.walk(e,s),n.asString?this.stringify(s,i,n):this.makeTemplate(s,i,n)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,i){var n=this.makePartials(t);return n.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(n,e,this,i)},t.makePartials=function(t){var e,i={subs:{},partials:t.partials,name:t.name};for(e in i.partials)i.partials[e]=this.makePartials(i.partials[e]);for(e in t.subs)i.subs[e]=new Function("c","p","t","i",t.subs[e]);return i},t.codegen={"#":function(e,i){i.code+="if(t.s(t."+c(e.n)+'("'+u(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,i),i.code+="});c.pop();}"},"^":function(e,i){i.code+="if(!t.s(t."+c(e.n)+'("'+u(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,i),i.code+="};"},">":h,"<":function(e,i){var n={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,n);var s=i.partials[h(e,i)];s.subs=n.subs,s.partials=n.partials},$:function(e,i){var n={subs:{},code:"",partials:i.partials,prefix:e.n};t.walk(e.nodes,n),i.subs[e.n]=n.code,i.inPartial||(i.code+='t.sub("'+u(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=f('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+c(t.n)+'("'+u(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=f('"'+u(t.text)+'"')},"{":d,"&":d},t.walk=function(e,i){for(var n,s=0,o=e.length;o>s;s++)n=t.codegen[e[s].tag],n&&n(e[s],i);return i},t.parse=function(t,e,i){return i=i||{},s(t,"",[],i.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,i){i=i||{};var n=t.cacheKey(e,i),s=this.cache[n];return s?s:(s=this.generate(this.parse(this.scan(e,i.delimiters),e,i),e,i),this.cache[n]=s)}}("undefined"!=typeof exports?exports:Hogan),"function"==typeof define&&define.amd&&define("require/hogan",Hogan),define("require/hgn",["hogan","text"],function(t,e){function i(e,i,n,s){var o=s.hgn||{};r(e,i,o,function(i){var r=o.compilationOptions?l({},o.compilationOptions):{};s.isBuild&&(r.asString=!0,p[e]=t.compile(i,r));var u=t.compile(i,r),c=a(u.render,u);c.text=u.text,c.template=u,n(c)})}function n(t,e,i,n){var a=null!=i.pathPrefix?i.pathPrefix:d,l=i.pathSeparator||f,u=o(t,a,l),c=0,h=0;u.length||n(t);for(var p=function(o){r(o,e,i,function(e){var i=new RegExp("{{> *"+s(o.substring(a.length).replace("/",l))+" *}}");t=t.replace(i,e),++c===u.length&&n(t)})};h<u.length;h++)p(u[h])}function s(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(e,i,n){for(var s=t.scan(e),o=s.length,r=0,a=[];o>r;r++)">"===s[r].tag&&s[r].n.indexOf(n)>-1&&a.push(i+s[r].n.replace(n,"/"));return a}function r(t,i,s,o){var r=t;r+=null!=s.templateExtension?s.templateExtension:h,e.get(i.toUrl(r),function(t){n(t,i,s,o)})}function a(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function u(e,i,n){if(i in p){c||(c=t.compile(m));var s=p[i];n(c.render({pluginName:e,moduleName:i,fn:s}))}}var c,h=".mustache",d="",f="/",p={},m='define("{{pluginName}}!{{moduleName}}", ["hogan"], function(hogan){  var tmpl = new hogan.Template({{{fn}}}, "", hogan);  function render(){ return tmpl.render.apply(tmpl, arguments); } render.template = tmpl; return render;});\n';return{load:i,write:u}}),define("nbd/Class",[],function(){"use strict";var t,e,i,n=function(){},s=/xyz/.test(function(){return xyz})?/\b_super\b/:/.*/;return e=function(t){var e={};return Object.keys(t).forEach(function(i){e[i]={configurable:!0,writable:!0,enumerable:!1,value:t[i]}}),Object.defineProperties(this.prototype,e),this},i=function(t){var e,i=!1;if("function"==typeof t)return t.prototype.isPrototypeOf(this.prototype);if("object"==typeof t){i=!0;for(e in t)if(t.hasOwnProperty(e)&&t[e]!==this.prototype[e]){i=!1;break}}return i},t=function(n,o){function r(t,e){var i=function(){return l[t].apply(this,arguments)};return function(){var t=this.hasOwnProperty("_super"),n=this._super;this._super=i;try{return e.apply(this,arguments)}catch(s){throw s}finally{t&&(this._super=n)}}}function a(){"function"==typeof this.init&&this.init.apply(this,arguments)}var l=this.prototype,u=function(t){a[t]=this[t]},c=Object.create(l);return n=n||{},o=o||{},Object.keys(n).forEach(function(t){var e=n[t];c[t]="function"==typeof e&&"function"==typeof l[t]&&s.test(e)?r(t,e):e}),Object.keys(this).forEach(u,this),Object.keys(o).forEach(u,o),a.prototype=c,Object.defineProperty(a.prototype,"constructor",{value:a}),Object.defineProperties(a,{extend:{value:t,enumerable:!1},mixin:{value:e},inherits:{value:i}}),a},n.extend=t,n}),define("nbd/util/async",[],function(){"use strict";function canUseNextTick(){return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}function canUseMessageChannel(){return!!global.MessageChannel}function canUsePostMessage(){if(!global.postMessage||global.importScripts)return!1;var t=!0,e=global.onmessage;return global.onmessage=function(){t=!1},global.postMessage("","*"),global.onmessage=e,t}function canUseReadyStateChange(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")}function nextTickImplementation(){return function(){var t=tasks.addFromSetImmediateArguments(arguments);return process.nextTick(function(){tasks.runIfPresent(t)}),t}}function messageChannelImplementation(){var t=new global.MessageChannel;return t.port1.onmessage=function(t){var e=t.data;tasks.runIfPresent(e)},function(){var e=tasks.addFromSetImmediateArguments(arguments);return t.port2.postMessage(e),e}}function postMessageImplementation(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===global&&t(e.data,i)){var n=e.data.substring(i.length);tasks.runIfPresent(n)}}var i="async-message"+Math.random();return global.addEventListener?global.addEventListener("message",e,!1):global.attachEvent("onmessage",e),function(){var t=tasks.addFromSetImmediateArguments(arguments);return global.postMessage(i+t,"*"),t}}function readyStateChangeImplementation(){return function(){var t=tasks.addFromSetImmediateArguments(arguments),e=global.document.createElement("script");return e.onreadystatechange=function(){tasks.runIfPresent(t),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e),t}}function setTimeoutImplementation(){return function(){var t=tasks.addFromSetImmediateArguments(arguments);return global.setTimeout(function(){tasks.runIfPresent(t)},0),t}}var global="undefined"!=typeof global?global:"undefined"!=typeof window?window:this,async,tasks=function(){function Task(t,e){this.handler=t,this.args=e}Task.prototype.run=function(){if("function"==typeof this.handler)this.handler.apply(void 0,this.args);else{var scriptSource=""+this.handler;eval(scriptSource)}};var nextHandle=1,tasksByHandle={},currentlyRunningATask=!1;return{addFromSetImmediateArguments:function(t){var e=t[0],i=Array.prototype.slice.call(t,1),n=new Task(e,i),s=nextHandle++;return tasksByHandle[s]=n,s},runIfPresent:function(t){if(currentlyRunningATask)global.setTimeout(function(){tasks.runIfPresent(t)},0);else{var e=tasksByHandle[t];if(e){currentlyRunningATask=!0;try{e.run()}finally{delete tasksByHandle[t],currentlyRunningATask=!1}}}},remove:function(t){delete tasksByHandle[t]}}}();return global.setImmediate?async=global.setImmediate:(async=canUseNextTick()?nextTickImplementation():canUsePostMessage()?postMessageImplementation():canUseMessageChannel()?messageChannelImplementation():canUseReadyStateChange()?readyStateChangeImplementation():setTimeoutImplementation(),async.clearImmediate=tasks.remove),async}),define("nbd/util/extend",[],function(){"use strict";return function(t){var e,i,n;for(e=1;e<arguments.length;++e){n=arguments[e];for(i in n)t[i]=n[i]}return t}}),define("nbd/util/diff",["./extend"],function(t){"use strict";function e(t,n){var s,o=!0;if(Object.getPrototypeOf(t)!==Object.prototype||Object.getPrototypeOf(n)!==Object.prototype)return!1;for(s in t){if(t[s]!==n[s])return!1;if(t.hasOwnProperty(s)&&"object"==typeof t[s]&&t[s]&&Object.getPrototypeOf(t[s])===Object.prototype){if(~i.indexOf(t[s]))continue;try{i.push(t[s]),o=o&&e(n[s],t[s])}catch(r){}finally{i.pop()}}if(!o)return o}return o}var i=[];return function(i,n,s){var o,r,a,l={};if("object"!=typeof n||"object"!=typeof i||null===n||null===i)throw new TypeError("Arguments must be objects");n=t({},n);for(o in i)if(i.hasOwnProperty(o)){if(r=i[o],a=n[o],delete n[o],r===a)continue;"object"==typeof r&&"object"==typeof a&&r&&a&&e(r,a)||(l[o]=[r,a],s&&s.apply(this,[o,r,a]))}for(o in n)n.hasOwnProperty(o)&&void 0!==n[o]&&(l[o]=[i[o]],s&&s.apply(this,[o,void 0,n[o]]));return l}}),define("nbd/trait/pubsub",[],function(){"use strict";var t=/\s+/,e=function i(t){return i.i=i.i||0,(t||"")+ ++i.i};return{on:function(e,i,n){var s,o,r;if(!i)return this;for(e=e.split(t),this._callbacks||Object.defineProperty(this,"_callbacks",{configurable:!0,value:{},writable:!0}),s=this._callbacks;o=e.shift();)r=s[o]||(s[o]=[]),r.push(i,n);return this},off:function(e,i,n){var s,o,r,a;if(!(o=this._callbacks))return this;if(!(e||i||n))return delete this._callbacks,this;for(e=e?e.split(t):Object.keys(o);s=e.shift();)if((r=o[s])&&(i||n))for(a=r.length-2;a>=0;a-=2)i&&r[a]!==i||n&&r[a+1]!==n||r.splice(a,2);else delete o[s];return this},trigger:function(e){var i,n,s,o,r,a,l,u;if(!(n=this._callbacks))return this;for(u=[],e=e.split(t),o=1,r=arguments.length;r>o;o++)u[o-1]=arguments[o];for(;i=e.shift();){if((l=n.all)&&(l=l.slice()),(s=n[i])&&(s=s.slice()),s)for(o=0,r=s.length;r>o;o+=2)s[o].apply(s[o+1]||this,u);if(l)for(a=[i].concat(u),o=0,r=l.length;r>o;o+=2)l[o].apply(l[o+1]||this,a)}return this},listenTo:function(t,i,n){var s=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=e("l"));return s[o]=t,t.on(i,n||this,this),this},stopListening:function(t,e,i){var n=this._listeners;if(n){if(t)t.off(e,i,this),e||i||delete n[t._listenerId];else{for(var s in n)n[s].off(null,null,this);this._listeners={}}return this}}}}),define("nbd/Model",["./Class","./util/async","./util/extend","./util/diff","./trait/pubsub"],function(t,e,i,n,s){"use strict";var o=function(t,e){if(this._dirty){if(this._dirty!==!0)for(var i in this._dirty)this.trigger(i,this._data[i],this._dirty[i]);else{if(!t)return;n.call(this,e||this._data,t,this.trigger)}this._dirty=0}},r=t.extend({init:function(t,e){"string"==typeof t&&t.match(/^\d+$/)&&(t=+t),void 0===e&&"object"==typeof t&&(e=t,t=void 0),this.id=function(){return t};try{Object.defineProperty(this,"_dirty",{value:0,writable:!0}),Object.defineProperty(this,"_data",{enumerable:!1,configurable:!0,value:e||{},writable:!0})}catch(i){this._dirty=0,this._data=e}},destroy:function(){this.off(),this._data=null},data:function(){return this._dirty!==!0&&(e(o.bind(this,i({},this._data,this._dirty||void 0))),this._dirty=!0),this._data},get:function(t){return this._data[t]},set:function(t,i){var n,s=this._data;if(this._dirty||e(o.bind(this)),"string"==typeof t)return this._dirty!==!0&&(this._dirty=this._dirty||{},n in this._dirty||(this._dirty[t]=s[t])),s[t]=i,this;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&(this._dirty!==!0&&(this._dirty=this._dirty||{},n in this._dirty||(this._dirty[n]=s[n])),s[n]=t[n]);return this}},toJSON:function(){return this._data}}).mixin(s);return r}),define("nbd/View",["./Class","./trait/pubsub"],function(t,e){"use strict";var i=t.extend({$view:null,render:function(t){var e=this.$view;return this.trigger("prerender",e),this.$view=this.template(t||this.templateData()),e&&e.length&&e.replaceWith(this.$view),this.trigger("postrender",this.$view),this.rendered&&this.rendered(this.$view),this.$view},template:function(){},templateData:function(){return{}},destroy:function(){this.$view&&this.$view.remove&&this.$view.remove(),this.$view=null,this.off()}}).mixin(e);return i}),define("nbd/View/Entity",["../View"],function(t){"use strict";var e=t.extend({init:function(t){"object"==typeof t&&(this._model=this.Model=t),this.id=t&&t.id||function(){return t}},destroy:function(t){this._model.off(null,null,this),t||(this._model=this.Model=null),this._super()},templateData:function(){return this._model&&this._model.data?this._model.data():this.id()},render:function(t){var e=this.$view,i=!(e&&t);return i&&(this.trigger("prerender",e),this.$view=this.template(this.templateData())),t?this.$view&&this.$view.appendTo(t):e&&e.replaceWith(this.$view),i&&(this.trigger("postrender",this.$view),"function"==typeof this.rendered&&this.rendered(this.$view)),this.$view}});return e}),define("nbd/View/Element",["../View"],function(t){"use strict";var e=t.extend({$parent:null,init:function(t){this.$parent=t},render:function(t){var e=this.$view;return this.trigger("prerender",e),this.$view=this.template(t||this.templateData()),e&&e.length?e.replaceWith(this.$view):this.$view.appendTo(this.$parent),this.trigger("postrender",this.$view),this.rendered&&this.rendered(this.$view),this.$view}});return e}),define("nbd/util/construct",[],function(){"use strict";var t=Object.prototype.toString;return function(){if(!~t.call(this).indexOf("Function"))throw new TypeError("construct called on incompatible Object");var e=Object.create(this.prototype),i=this.apply(e,arguments);return Object(i)===i?i:e}}),define("nbd/Controller",["./Class","./util/construct"],function(t,e){"use strict";var i=t.extend({destroy:function(){},_initView:function(t){var i=Array.prototype.slice.call(arguments,1);this._view=this.View=e.apply(t,i),this._view._controller=this._view.Controller=this},switchView:function(){var t=this._view;this._initView.apply(this,arguments),t&&(t.$view&&(this._view.$view=t.$view,this._view.render()),t.destroy())}});return i}),define("nbd/Controller/Entity",["../util/construct","../Controller","../View/Entity","../Model"],function(t,e,i,n){"use strict";
var s=e.extend({init:function(){this._model=this.Model=t.apply(this.constructor.MODEL_CLASS,arguments),this._initView(this.constructor.VIEW_CLASS,this._model)},render:function(t,e){e=e||this.constructor.VIEW_CLASS,this.requestView(e),this._view.render(t)},destroy:function(){this._view.destroy(),this._model.destroy(),this._model=this._view=null},requestView:function(t){this._view instanceof t||this.switchView(t,this._model)}},{VIEW_CLASS:i,MODEL_CLASS:n});return s}),define("nbd/event",["./util/extend","./trait/pubsub"],function(t,e){"use strict";var i=t({},e);return i.bind=i.on,i.unbind=i.off,i.fire=i.trigger,i}),define("nbd/trait/promise",["../util/async","../util/extend"],function(t,e){"use strict";function i(){function e(e){e.length&&t(function(){for(var t=0;t<e.length;++t)e[t](a)}),u=c=[]}function n(t){h||(h=1,a=t,e(u))}function s(t){h||(h=-1,a=t,e(c))}function o(t){if(t===l&&s(new TypeError("Cannot resolve with self")),t instanceof i)return void t.then(o,s);if(("object"==typeof t||"function"==typeof t)&&null!==t){var e;try{e=t.then}catch(r){return void s(r)}if("function"==typeof e)return function(){var i=!1;try{e.call(t,function(e){i||((e===t?n:o)(e),i=!0)},function(t){i||(s(t),i=!0)})}catch(r){i||s(r)}}()}n(t)}function r(e,n){function s(t){return function(e){var i;try{i=t(e)}catch(n){o.reject(n)}o.resolve(i)}}var o=new i;if(h){var r=h>0?e:n;"function"==typeof r?(r=s(r),t(function(){r(a)})):o[h>0?"resolve":"reject"](a)}else u.push("function"==typeof e?s(e):o.resolve),c.push("function"==typeof n?s(n):o.reject);return o}var a,l=this,u=[],c=[],h=0;Object.defineProperties(this,{reject:{value:s},resolve:{value:o}}),this.then=r}i.prototype.thenable=function(){return{then:this.then}},i.prototype.promise=function(){var t=this.then,e=function(){return i},i={done:function(){var e=Array.prototype.concat.apply([],arguments);return e.forEach(function(e){t(e)}),i},fail:function(){var e=Array.prototype.concat.apply([],arguments);return e.forEach(function(e){t(void 0,e)}),i},then:t,progress:e,promise:e};return i};var n=function(){this._promise||Object.defineProperty(this,"_promise",{value:new i})};return e(i,{then:function(t,e){return n.call(this),this._promise.then(t,e)},resolve:function(t){return n.call(this),this._promise.resolve(t),this},reject:function(t){return n.call(this),this._promise.reject(t),this},thenable:function(){return n.call(this),this._promise.thenable()},promise:function(){return n.call(this),this._promise.promise()}}),i}),define("nbd/util/deparam",[],function(){"use strict";return function(t,e){var i={},n={"true":!0,"false":!1,"null":null};return t.replace(/\+/g," ").split("&").forEach(function(t){var s,o=t.split("="),r=decodeURIComponent(o[0]),a=i,l=0,u=r.split("]["),c=u.length-1;if(/\[/.test(u[0])&&/\]$/.test(u[c])?(u[c]=u[c].replace(/\]$/,""),u=u.shift().split("[").concat(u),c=u.length-1):c=0,2===o.length)if(s=decodeURIComponent(o[1]),e&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==n[s]?n[s]:s),c)for(l;c>=l;l++)r=""===u[l]?a.length:u[l],a=a[r]=c>l?a[r]||(u[l+1]&&isNaN(u[l+1])?{}:[]):s;else Array.isArray(i[r])?i[r].push(s):i[r]=void 0!==i[r]?[i[r],s]:s;else r&&(i[r]=e?void 0:"")}),i}}),define("nbd/util/media",["./extend","../trait/pubsub"],function(t,e){"use strict";function i(t,e){var i;(i=r[t])&&i.removeListener(i.listener),i=a(e),i.listener=o.bind(i,t),i.addListener(i.listener),r[t]=i,i.matches&&o.call(i,t)}function n(t){return r[t]&&r[t].matches}function s(t,e){var n;if(!a)throw new Error("Media queries not supported.");if("string"==typeof t)return i(t,e),s;if("object"==typeof t)for(n in t)t.hasOwnProperty(n)&&(e=t[n],i(n,e));return s}var o,r={},a="undefined"!=typeof matchMedia?matchMedia:"undefined"!=typeof msMatchMedia?msMatchMedia:null;return t(s,e),o=function(t){s.trigger(t+(this.matches?":enter":":exit")),s.trigger(t,this.matches)},s.is=n,s.getState=function(t){return t?n(t):Object.keys(r).filter(n)},s}),define("nbd/util/pipe",[],function(){"use strict";return function(){var t=arguments;return function(){var e,i;for(e=0;e<t.length;++e)i=t[e].apply(this,0===e?arguments:[i]);return i}}}),define("nbd/util/when",["../trait/promise"],function(t){"use strict";var e=function(){return this};return function(){function i(t,e){a[t]=e}var n,s,o,r=new t,a=[];for(s=0;s<arguments.length;++s)arguments[s]instanceof t?n=arguments[s]:(n=new t,n.resolve(arguments[s])),n.then(i.bind(null,s)),o=o?o.then(e.bind(n)):n;return arguments.length?o.then(r.resolve.bind(null,a),r.reject):r.resolve(a),r}}),define("nbd/build/all",["nbd/Class","nbd/Model","nbd/View","nbd/View/Entity","nbd/View/Element","nbd/Controller","nbd/Controller/Entity","nbd/event","nbd/trait/promise","nbd/trait/pubsub","nbd/util/async","nbd/util/construct","nbd/util/deparam","nbd/util/diff","nbd/util/extend","nbd/util/media","nbd/util/pipe","nbd/util/when"],function(t,e,i,n,s,o,r,a,l,u,c,h,d,f,p,m,g,v){"use strict";var y={Class:t,Model:e,View:i,Controller:o,event:a,trait:{promise:l,pubsub:u},util:{async:c,construct:h,deparam:d,diff:f,extend:p,media:m,pipe:g,when:v}};return y.View.Element=s,y.View.Entity=n,y.Controller.Entity=r,y}),function(t){function e(t,e){return function(i){return l(t.call(this,i),e)}}function i(t){return function(e){return this.lang().ordinal(t.call(this,e))}}function n(){}function s(t){r(this,t)}function o(t){var e=this._data={},i=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,s=t.weeks||t.week||t.w||0,o=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,l=t.minutes||t.minute||t.m||0,u=t.seconds||t.second||t.s||0,c=t.milliseconds||t.millisecond||t.ms||0;this._milliseconds=c+1e3*u+6e4*l+36e5*r,this._days=o+7*s,this._months=n+12*i,e.milliseconds=c%1e3,u+=a(c/1e3),e.seconds=u%60,l+=a(u/60),e.minutes=l%60,r+=a(l/60),e.hours=r%24,o+=a(r/24),o+=7*s,e.days=o%30,n+=a(o/30),e.months=n%12,i+=a(n/12),e.years=i}function r(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(t){return 0>t?Math.ceil(t):Math.floor(t)}function l(t,e){for(var i=t+"";i.length<e;)i="0"+i;return i}function u(t,e,i){var n,s=e._milliseconds,o=e._days,r=e._months;s&&t._d.setTime(+t+s*i),o&&t.date(t.date()+o*i),r&&(n=t.date(),t.date(1).month(t.month()+r*i).date(Math.min(n,t.daysInMonth())))}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;n>i;i++)~~t[i]!==~~e[i]&&o++;return o+s}function d(t,e){return e.abbr=t,D[t]||(D[t]=new n),D[t].set(e),D[t]}function f(t){return t?(!D[t]&&j&&require("./lang/"+t),D[t]):M.fn._lang}function p(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function m(t){var e,i,n=t.match(H);for(e=0,i=n.length;i>e;e++)n[e]=se[n[e]]?se[n[e]]:p(n[e]);return function(s){var o="";for(e=0;i>e;e++)o+="function"==typeof n[e].call?n[e].call(s,t):n[e];return o}}function g(t,e){function i(e){return t.lang().longDateFormat(e)||e}for(var n=5;n--&&N.test(e);)e=e.replace(N,i);return ee[e]||(ee[e]=m(e)),ee[e](t)}function v(t){switch(t){case"DDDD":return V;case"YYYY":return z;case"YYYYY":return q;case"S":case"SS":case"SSS":case"DDD":return R;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return U;case"X":return Q;case"Z":case"ZZ":return B;case"T":return Y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return W;default:return new RegExp(t.replace("\\",""))}}function y(t,e,i){var n,s=i._a;switch(t){case"M":case"MM":s[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":n=f(i._l).monthsParse(e),null!=n?s[1]=n:i._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(s[2]=~~e);break;case"YY":s[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":s[0]=~~e;break;case"a":case"A":i._isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":s[3]=~~e;break;case"m":case"mm":s[4]=~~e;break;case"s":case"ss":s[5]=~~e;break;case"S":case"SS":case"SSS":s[6]=~~(1e3*("0."+e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,n=(e+"").match(G),n&&n[1]&&(i._tzh=~~n[1]),n&&n[2]&&(i._tzm=~~n[2]),n&&"+"===n[0]&&(i._tzh=-i._tzh,i._tzm=-i._tzm)}null==e&&(i._isValid=!1)}function _(t){var e,i,n=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];n[3]+=t._tzh||0,n[4]+=t._tzm||0,i=new Date(0),t._useUTC?(i.setUTCFullYear(n[0],n[1],n[2]),i.setUTCHours(n[3],n[4],n[5],n[6])):(i.setFullYear(n[0],n[1],n[2]),i.setHours(n[3],n[4],n[5],n[6])),t._d=i}}function b(t){var e,i,n=t._f.match(H),s=t._i;for(t._a=[],e=0;e<n.length;e++)i=(v(n[e]).exec(s)||[])[0],i&&(s=s.slice(s.indexOf(i)+i.length)),se[n[e]]&&y(n[e],i,t);t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),_(t)}function w(t){for(var e,i,n,o,a=99;t._f.length;){if(e=r({},t),e._f=t._f.pop(),b(e),i=new s(e),i.isValid()){n=i;break}o=h(e._a,i.toArray()),a>o&&(a=o,n=i)}r(t,n)}function x(t){var e,i=t._i;if(X.exec(i)){for(t._f="YYYY-MM-DDT",e=0;4>e;e++)if(K[e][1].exec(i)){t._f+=K[e][0];break}B.exec(i)&&(t._f+=" Z"),b(t)}else t._d=new Date(i)}function C(e){var i=e._i,n=L.exec(i);i===t?e._d=new Date:n?e._d=new Date(+n[1]):"string"==typeof i?x(e):c(i)?(e._a=i.slice(0),_(e)):e._d=new Date(i instanceof Date?+i:i)}function k(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}function T(t,e,i){var n=$(Math.abs(t)/1e3),s=$(n/60),o=$(s/60),r=$(o/24),a=$(r/365),l=45>n&&["s",n]||1===s&&["m"]||45>s&&["mm",s]||1===o&&["h"]||22>o&&["hh",o]||1===r&&["d"]||25>=r&&["dd",r]||45>=r&&["M"]||345>r&&["MM",$(r/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=i,k.apply({},l)}function S(t,e,i){var n=i-e,s=i-t.day();return s>n&&(s-=7),n-7>s&&(s+=7),Math.ceil(M(t).add("d",s).dayOfYear()/7)}function E(t){var e=t._i,i=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=f().preparse(e)),M.isMoment(e)?(t=r({},e),t._d=new Date(+e._d)):i?c(i)?w(t):b(t):C(t),new s(t))}function P(t,e){M.fn[t]=M.fn[t+"s"]=function(t){var i=this._isUTC?"UTC":"";return null!=t?(this._d["set"+i+e](t),this):this._d["get"+i+e]()}}function I(t){M.duration.fn[t]=function(){return this._data[t]}}function O(t,e){M.duration.fn["as"+t]=function(){return+this/e}}for(var M,A,F="2.0.0",$=Math.round,D={},j="undefined"!=typeof module&&module.exports,L=/^\/?Date\((\-?\d+)/i,H=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,W=/\d\d?/,R=/\d{1,3}/,V=/\d{3}/,z=/\d{1,4}/,q=/[+\-]?\d{1,6}/,U=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,B=/Z|[\+\-]\d\d:?\d\d/i,Y=/T/i,Q=/[\+\-]?\d+(\.\d{1,3})?/,X=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Z="YYYY-MM-DDTHH:mm:ssZ",K=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],G=/([\+\-]|\d\d)/gi,J="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),te={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ee={},ie="DDD w W M D d".split(" "),ne="M D H h m s w W".split(" "),se={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(t/60),2)+":"+l(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+l(~~(10*t/6),4)},X:function(){return this.unix()}};ie.length;)A=ie.pop(),se[A+"o"]=i(se[A]);for(;ne.length;)A=ne.pop(),se[A+A]=e(se[A],2);for(se.DDDD=e(se.DDD,3),n.prototype={set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,i,n;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(i=M([2e3,e]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[e]=new RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var i=this._calendar[t];return"function"==typeof i?i.apply(e):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(t,e,i,n):s.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return S(t,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},M=function(t,e,i){return E({_i:t,_f:e,_l:i,_isUTC:!1})},M.utc=function(t,e,i){return E({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:e})},M.unix=function(t){return M(1e3*t)},M.duration=function(t,e){var i,n=M.isDuration(t),s="number"==typeof t,r=n?t._data:s?{}:t;return s&&(e?r[e]=t:r.milliseconds=t),i=new o(r),n&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},M.version=F,M.defaultFormat=Z,M.lang=function(t,e){return t?(e?d(t,e):D[t]||f(t),void(M.duration.fn._lang=M.fn._lang=f(t))):M.fn._lang._abbr},M.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),f(t)},M.isMoment=function(t){return t instanceof s},M.isDuration=function(t){return t instanceof o},M.fn=s.prototype={clone:function(){return M(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return M.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!h(this._a,(this._isUTC?M.utc(this._a):M(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){var e=g(this,t||M.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var i;return i="string"==typeof t?M.duration(+e,t):M.duration(t,e),u(this,i,1),this},subtract:function(t,e){var i;return i="string"==typeof t?M.duration(+e,t):M.duration(t,e),u(this,i,-1),this},diff:function(t,e,i){var n,s,o=this._isUTC?M(t).utc():M(t).local(),r=6e4*(this.zone()-o.zone());return e&&(e=e.replace(/s$/,"")),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+o.daysInMonth()),s=12*(this.year()-o.year())+(this.month()-o.month()),s+=(this-M(this).startOf("month")-(o-M(o).startOf("month")))/n,"year"===e&&(s/=12)):(n=this-o-r,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?n/864e5:"week"===e?n/6048e5:n),i?s:a(s)},from:function(t,e){return M.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(M(),t)},calendar:function(){var t=this.diff(M().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},isDST:function(){return this.zone()<M([this.year()]).zone()||this.zone()<M([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},startOf:function(t){switch(t=t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.day(0),this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+M(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+M(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+M(t).startOf(e)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return M.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=$((M(this).startOf("day")-M(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},isoWeek:function(t){var e=S(this,1,4);return null==t?e:this.add("d",7*(t-e))},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},lang:function(e){return e===t?this._lang:(this._lang=f(e),this)}},A=0;A<J.length;A++)P(J[A].toLowerCase().replace(/s$/,""),J[A]);P("year","FullYear"),M.fn.days=M.fn.day,M.fn.weeks=M.fn.week,M.fn.isoWeeks=M.fn.isoWeek,M.duration.fn=o.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,i=T(e,!t,this.lang());return t&&(i=this.lang().pastFuture(e,i)),this.lang().postformat(i)},lang:M.fn.lang};for(A in te)te.hasOwnProperty(A)&&(O(A,te[A]),I(A.toLowerCase()));O("Weeks",6048e5),M.lang("en",{ordinal:function(t){var e=t%10,i=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),j&&(module.exports=M),"undefined"==typeof ender&&(this.moment=M),"function"==typeof define&&define.amd&&define("moment",[],function(){return M})}.call(this),function(t){t.fn.popup=function(){var e,i,n=this,s="<div>Loading...</div>",o=Config.$body||t("body"),r=t(window),a=n.data("params")||{removeAll:!0,blockingDiv:!0,outerDiv:!0,outerZIndex:500,outerPad:30,innerZIndex:501,input:s,observeScroll:!0,observeResize:!0,observeKeyUp:!0,innerClass:"",innerWrapClass:"popup-inner-wrap",outerWrapClass:"popup-outer",lightbox:!1,innerDivOffset:0},l=function(){n.trigger("beforeWindowCreate"),o.append(n),n.css({position:"absolute","z-index":a.innerZIndex}),n.addClass("popup-inner"),a.innerClass&&n.addClass(a.innerClass),n.trigger("afterWindowCreate")},u=function(){i&&(i.clonePosition(n),i.css({position:"absolute",display:"block","z-index":0,border:"none"}))},c=function(e){return n.trigger("beforeUpdate"),a.innerWrapClass&&(e=t("<div>").addClass(a.innerWrapClass).html(e)),n.html(e),f(),n.trigger("afterUpdate"),t("#popup-force-close").click(function(){h()}),n},h=function(){return n.data("outerDiv.popup")&&n.data("outerDiv.popup").remove(),n.data("blockingDiv.popup")&&n.data("blockingDiv.popup").remove(),t.each(n.find("[class*=validate]"),function(){t(".formError."+this.id).remove()}),r.unbind("scroll.popup",n.data("popup.position")),r.unbind("resize.popup",n.data("popup.position")),n.remove(),n},d=function(){if(!n.data("outerDiv.popup")){var e=t("<div>").css({position:"absolute","z-index":a.outerZIndex});a.outerWrapClass&&e.addClass(a.outerWrapClass),a.lightbox&&e.addClass("full-screen"),o.append(e),n.data("outerDiv.popup",e)}},f=function(){var i=n.height(),s=n.width(),o=window.innerWidth||r.width(),l=window.innerHeight||r.height(),c=r.scrollLeft(),h=r.scrollTop(),d=null,f=null,p=null,m=null;return d=h+l/2,f=a.lightbox?a.innerDivOffset:Math.max(0,d-i/2),d=Math.max(0,c+o/2),p=d-s/2,n.css({top:f+"px",left:p+"px"}),u(),e=n.data("outerDiv.popup"),e&&(a.lightbox||(m=Math.round(a.outerPad/2-a.outerPad),e.clonePosition(n,{offsetLeft:m,offsetTop:m})),e.css({width:s+a.outerPad+"px",height:a.lightbox?t(document).height()+"px":i+a.outerPad+"px"})),t.each(n.find("[class*=validate]"),function(){var e=t(this),i=t(".formError."+this.id);i.css({top:e.offset().top-i.outerHeight()+"px",left:e.offset().left+e.outerWidth()-i.outerHeight()+"px"})}),n.trigger("popup.positioned"),n},p=function(){if(a.removeAll&&t(".popup-inner").popup("destroy"),a.outerDiv&&d(),a.blockingDiv){var e=t('<div class="blocking-div">').css({position:"absolute","z-index":a.outerZIndex,width:"100%",height:"100%",top:"0px",left:"0px"});t("body").append(e),n.data("blockingDiv.popup",e),n.data("popup.position",f)}l(),c(a.input),a.observeScroll&&r.bind("scroll.popup",f),a.observeResize&&r.bind("resize.popup",f)};if(!arguments.length||"object"==typeof arguments[0])return"object"==typeof arguments[0]&&(a=t.extend(a,arguments[0])),n.data("params",a),p(),this;if(arguments.length&&"string"==typeof arguments[0])switch(arguments[0]){case"destroy":return n.trigger("popup.destroyed"),h();case"position":return f();case"html":return"string"==typeof arguments[1]?c(t("<div>").html(arguments[1])):arguments[1]instanceof jQuery?c(arguments[1]):n.html()}}}(jQuery),define("jquery/plugins/jquery.popup",function(){}),function(t){var e="Core";"function"==typeof define?define("Core",["jquery","jquery/plugins/jquery.popup"],function(i){var n=t.apply(this,arguments);return i&&(i[e]=n),n}):jQuery[e]=t.call(this,jQuery)}(function(t){function e(t){window.setTimeout(t,0)}function i(t,e){e&&e.showButtons(),t.showMessages([{type:"error",message:"Unknown server error"}])}function n(t){return t.toString().replace(/<br(?:\s*\/)?>/g,"\n")}function s(t){var e=window.location.protocol+"//"+window.location.hostname,i=Config.ASSETSURL.replace(window.location.protocol+"//"+window.location.hostname,"").substr(1),n=e+"/"+i;return t.match(window.location.protocol)?t.match("http://use.typekit.com/")||(t=t.replace(n,Config.ASSETSURL)):t=t.replace("/"+i,Config.ASSETSURL),t}function o(e){return e=e.replace(/[\s_]+/g,"-"),t.camelCase(e)}function r(t){var e,i=[];for(e=0;e<t.length;++e)t[e]&&(i[i.length]=t[e]);return i}function a(){var t=!1,e=Array.prototype.slice.call(arguments);if("object"==typeof console&&"function"==typeof console.log)try{console.log.apply(!1,e)}catch(i){t=!0}else t=!0;t===!0&&_({description:"Error:<br />"+e.join("<br />")})}function l(e){e=e||this;var i,n=t.Deferred(),s=n.promise();for(i in s)"function"==typeof s[i]&&(e[i]=s[i]);return n}function u(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function c(){var t=[].slice.call(arguments),e=t[0],i=null;p(e)?i=t.splice(1,t.length):(e="X",i=t.splice(0,t.length));try{console.log(i),console.exception(i.join(" "))}catch(n){}throw{code:e,message:i.join(" ")}}function h(t){return d(parseFloat(t).toFixed(2))}function d(t){"number"==typeof t&&(t=t.toString());var e,i,n,s;for(t+="",e=t.split("."),i=e[0],n=e.length>1?"."+e[1]:"",s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1,$2");return i+n}function f(t){return p(t)&&t>0}function p(t){return"number"==typeof t&&!isNaN(t)&&1/0!==t}function m(t){var e=new Date,i=e.getTime()-t.getTime();return i/=1e3,(i/=60)<1?"just now":1>i/60?1===~~i?"a minute ago":~~i+" minutes ago":(i/=60,1>i/24?1===~~i?"an hour ago":~~i+" hours ago":(i/=24,7>i?"on "+t.format("l"):4>i/7?2>i/7?"a week ago":~~(i/7)+" weeks ago":1>i/365?31>i?"a month ago":~~(i/31)+" months ago":(i/=365,2>i?"a year ago":6>i?~~i+" years ago":"a long time ago")))}function g(t){return t=t.toString(),t.replace(/\n/g,"<br />")}function v(t){var e,i=[];"object"!=typeof t&&c("Must pass object, passed "+typeof t);for(e in t)i[i.length]=e;return i.length>0?i:!1}function y(e){"object"!=typeof e&&c("Must pass object, passed "+typeof e);var i=[];return t.each(e,function(t,e){i.push(e)}),i}function _(e){return e=t.extend({template_id:"popup-template",header:!1,close_btn:!0,confirm_btn:!1,save_btn:!1,dont_save_btn:!1,cancel_btn:!1,width_class:"popup-template",confirm_type:"button",form_id:"popup-form",action:"#",description:""},e),"function"!=typeof t.fn.popup&&c("Must load $.fn.popup"),"object"==typeof e.description&&"function"==typeof e.description.data&&(1!==e.description.length&&c("Must pass one element when using $ reference. Passed: ",e.description),e.description=t("<div />").append(e.description).html()),e.input=t("<div />").append(t("#"+e.template_id).tmpl(e)).html(),t("<div />").popup(e)}function b(t){return-1===t.indexOf("://")?"http://"+t:t}function w(t,e){return t.splice(e,1),t}function x(e,i){var n=t.inArray(i,e);return-1===n?e:w(e,n)}function C(){return t("html:not(:animated), body:not(:animated)")}function k(t){var e=parseInt(t,10);return p(e)?e:0}function T(t,e,i){return i="undefined"==typeof i?"&#8230;":i,e=e||255,t.length>e&&(t=t.substr(0,e)+i),t}function S(t){return t.replace(/\w/,function(t){return t.toLocaleUpperCase()})}function E(t){return t.replace(/\b(\w)(\w*)\b/g,function(t,e,i){return e.toLocaleUpperCase()+i})}var P=function(){function t(){}return function(e,i){t.prototype=e.prototype;var n=new t;return e.prototype.constructor.apply(n,i),n}}();return{applyCtor:P,ajax500:i,async:e,br2nl:n,cachedUrl:s,camelCase:o,compact:r,debug:a,defer:l,escapeRegEx:u,exception:c,formatMoney:h,formatNumberCommas:d,isIntegerId:f,isValidNumber:p,getTimeAgo:m,nl2br:g,objectMembers:Object.keys||v,objectToArray:y,popup:_,prefixUrl:b,removeArrayValue:x,removeArrayIndex:w,scrollElement:C,toInt:k,truncate:T,uCWord:S,uCWords:E}}),function(t,e){"function"==typeof define&&define.amd?define("Core/Class",[],function(){return t.Class=e.apply(this,arguments)}):t.Class=e()}(jQuery&&jQuery.Core||this,function(){"use strict";var t,e,i=!1,n=/xyz/.test(function(){})?/\b_super\b/:/.*/;return t=function(){},t.inherits=function(t){var e;if("function"==typeof this&&"function"==typeof t)for(e=this.prototype;e.constructor.__super__;)if(e=e.constructor.__super__,e===t.prototype)return!0;return!1},t.extend=function s(t,o){function r(t,e,i){return function(){var n=this.hasOwnProperty("_super"),s=this._super;this._super=d[t],i&&this._super.apply(this,arguments);try{return e.apply(this,arguments)}catch(o){}finally{n&&(this._super=s)}}}function a(t,e){return function(){return t.apply(this,arguments),e.apply(this,arguments)}}function l(){i||"function"!=typeof this.init||this.init.apply(this,arguments)}var u,c,h,d=this.prototype;i=!0,u=new this,i=!1;for(c in t)t.hasOwnProperty(c)&&(h="init"===c&&!(o&&o.hasOwnProperty("_")&&o._),u[c]="function"==typeof t[c]&&"function"==typeof d[c]&&(h||n.test(t[c]))?r(c,t[c],h):t[c]);for(c in this)this.hasOwnProperty(c)&&(l[c]=this[c]);for(c in o)o.hasOwnProperty(c)&&(h="init"===c&&!(o&&o.hasOwnProperty("_")&&o._),l[c]=h&&"function"==typeof l[c]&&"function"==typeof o[c]?a(l[c],o[c]):o[c]);return l.prototype=u,l.prototype.constructor=l,l.extend=s,l.mixin=e,l.__super__=d,l},e=function(t){var e;for(e in t)t.hasOwnProperty(e)&&(this.prototype[e]=t[e]);return this},t}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/Model",["jquery","Core/Class"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,t.Class)}("jQuery.Core.Model",function(t,e){"use strict";var i=e.extend({type:null,init:function(t,e){e=e||{},"string"==typeof t&&t.match(/^\d+$/)&&(t=+t),this.id=function(){return t},this.data=function(){return e}},get:function(e,i){i="boolean"!=typeof i?!0:i;var n=this.data();return i&&!n.hasOwnProperty(e)&&t.error("Invalid property in "+this.type+" : "+e),n[e]},set:function(e,i,n){function s(e,i){n&&!r.hasOwnProperty(e)&&t.error("Invalid property in "+a+" : "+e),r[e]=i}"object"==typeof e&&(n=i),n="boolean"==typeof n?n:!0;var o,r=this.data(),a=this.type;switch(typeof e){case"string":s(e,i);break;case"object":for(o in e)e.hasOwnProperty(o)&&s(o,e[o])}},update:function(e,i){i=i||{};var n=this,s=this.constructor.UPDATE_AJAX_TYPE;return t.ajax({url:this.constructor.URL_UPDATE,type:s,data:e}).done(function(i){(n.constructor.API===!0||i.updated)&&(n.constructor.API&&(e=t.extend(i[0],t.parseJSON(e)[0]),n.constructor.filterUpdateData&&n.constructor.filterUpdateData(e)),n.set(e))})}},{create:function(e){return t.ajax({url:this.URL_CREATE,type:"POST",data:e})},UPDATE_AJAX_TYPE:"POST"});return i}),function(t){function e(e,i,n,s){var o={data:s||0===s||s===!1?s:i?i.data:{},_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:u,nest:c,wrap:h,html:d,update:f};return e&&t.extend(o,e,{nodes:[],parent:i}),n&&(o.tmpl=n,o._ctnt=o._ctnt||o.tmpl(t,o),o.key=++w,(C.length?_:y)[w]=o),o}function i(e,s,o){var r,a=o?t.map(o,function(t){return"string"==typeof t?e.key?t.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+e.key+'" $2'):t:i(t,e,t._ctnt)}):e;return s?a:(a=a.join(""),a.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,i,s,o){r=t(s).get(),l(r),i&&(r=n(i).concat(r)),o&&(r=r.concat(n(o)))}),r?r:n(a))}function n(e){var i=document.createElement("div");return i.innerHTML=e,t.makeArray(i.childNodes)}function s(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+t.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,i,n,s,o,a,l){var u,c,h,d=t.tmpl.tag[n];if(!d)throw"Unknown template tag: "+n;return u=d._default||[],a&&!/\w$/.test(o)&&(o+=a,a=""),o?(o=r(o),l=l?","+r(l)+")":a?")":"",c=a?o.indexOf(".")>-1?o+r(a):"("+o+").call($item"+l:o,h=a?c:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):h=c=u.$1||"null",s=r(s),"');"+d[i?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(h).split("$1").join(c).split("$2").join(s||u.$2||"")+"__.push('"})+"');}return __;")}function o(e,n){e._wrap=i(e,!0,t.isArray(n)?n:[v.test(n)?n:t(n).html()]).join("")}function r(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function a(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function l(i){function n(i){function n(t){t+=u,r=c[t]=c[t]||e(r,y[r.parent.key+u]||r.parent)}var s,o,r,a,l=i;if(a=i.getAttribute(g)){for(;l.parentNode&&1===(l=l.parentNode).nodeType&&!(s=l.getAttribute(g)););s!==a&&(l=l.parentNode?11===l.nodeType?0:l.getAttribute(g)||0:0,(r=y[a])||(r=_[a],r=e(r,y[l]||_[l]),r.key=++w,y[w]=r),x&&n(a)),i.removeAttribute(g)
}else x&&(r=t.data(i,"tmplItem"))&&(n(r.key),y[r.key]=r,l=t.data(i.parentNode,"tmplItem"),l=l?l.key:0);if(r){for(o=r;o&&o.key!=l;)o.nodes.push(i),o=o.parent;delete r._ctnt,delete r._wrap,t.data(i,"tmplItem",r)}}var s,o,r,a,l,u="_"+x,c={};for(r=0,a=i.length;a>r;r++)if(1===(s=i[r]).nodeType){for(o=s.getElementsByTagName("*"),l=o.length-1;l>=0;l--)n(o[l]);n(s)}}function u(t,e,i,n){return t?void C.push({_:t,tmpl:e,item:this,data:i,options:n}):C.pop()}function c(e,i,n){return t.tmpl(t.template(e),i,n,this)}function h(e,i){var n=e.options||{};return n.wrapped=i,t.tmpl(t.template(e.tmpl),e.data,n,e.item)}function d(e,i){var n=this._wrap;return t.map(t(t.isArray(n)?n.join(""):n).filter(e||"*"),function(t){return i?t.innerText||t.textContent:t.outerHTML||a(t)})}function f(){var e=this.nodes;t.tmpl(null,null,null,this).insertBefore(e[0]),t(e).remove()}var p,m=t.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,y={},_={},b={key:0,data:{}},w=0,x=0,C=[];t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){t.fn[e]=function(n){var s,o,r,a,l=[],u=t(n),c=1===this.length&&this[0].parentNode;if(p=y||{},c&&11===c.nodeType&&1===c.childNodes.length&&1===u.length)u[i](this[0]),l=this;else{for(o=0,r=u.length;r>o;o++)x=o,s=(o>0?this.clone(!0):this).get(),t(u[o])[i](s),l=l.concat(s);x=0,l=this.pushStack(l,e,u.selector)}return a=p,p=null,t.tmpl.complete(a),l}}),t.fn.extend({tmpl:function(e,i,n){return t.tmpl(this[0],e,i,n)},tmplItem:function(){return t.tmplItem(this[0])},template:function(e){return t.template(e,this[0])},domManip:function(e,i,n){if(e[0]&&t.isArray(e[0])){for(var s,o=t.makeArray(arguments),r=e[0],a=r.length,l=0;a>l&&!(s=t.data(r[l++],"tmplItem")););s&&x&&(o[2]=function(e){t.tmpl.afterManip(this,e,n)}),m.apply(this,o)}else m.apply(this,arguments);return x=0,p||t.tmpl.complete(y),this}}),t.extend({tmpl:function(n,s,r,a){var l,u=!a;if(u)a=b,n=t.template[n]||t.template(null,n),_={};else if(!n)return n=a.tmpl,y[a.key]=a,a.nodes=[],a.wrapped&&o(a,a.wrapped),t(i(a,null,a.tmpl(t,a)));return n?("function"==typeof s&&(s=s.call(a||{})),r&&r.wrapped&&o(r,r.wrapped),l=t.isArray(s)?t.map(s,function(t){return t?e(r,a,n,t):null}):[e(r,a,n,s)],u?t(i(a,null,l)):l):[]},tmplItem:function(e){var i;for(e instanceof t&&(e=e[0]);e&&1===e.nodeType&&!(i=t.data(e,"tmplItem"))&&(e=e.parentNode););return i||b},template:function(e,i){return i?("string"==typeof i?i=s(i):i instanceof t&&(i=i[0]||{}),i.nodeType&&(i=t.data(i,"tmpl")||t.data(i,"tmpl",s(i.innerHTML))),"string"==typeof e?t.template[e]=i:i):e?"string"!=typeof e?t.template(null,e):t.template[e]||t.template(null,v.test(e)?e:t(e)):null},encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),t.extend(t.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){y={}},afterManip:function(e,i,n){var s=11===i.nodeType?t.makeArray(i.childNodes):1===i.nodeType?[i]:[];n.call(e,i),l(s),x++}})}(jQuery),define("jquery/plugins/jquery.tmpl",function(){}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/View",["jquery","Core/Class","jquery/plugins/jquery.tmpl"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,t.Class)}("jQuery.Core.View",function(t,e){"use strict";var i=e.extend({$parent:null,$view:null,init:function(){},templateScript:function(){return this.constructor.templateScript()},destroy:function(){this.$view instanceof t&&this.$view.remove(),this.$view=null}},{templateScript:function(e){if(e="undefined"!=typeof e?e:!0,this.$TEMPLATE&&this.$TEMPLATE.length||(this.$TEMPLATE=t("#"+this.TEMPLATE_ID)),!this.$TEMPLATE.length){if(e!==!0)return!1;t.error("Missing template: "+this.TEMPLATE_ID)}return this.$TEMPLATE}});return i}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/View/Entity",["jquery","Core/View","Core/Model","jquery/plugins/jquery.tmpl"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,t,jQuery.Core.Model)}("jQuery.Core.View.Entity",function(t,e,i){"use strict";var n=e.extend({init:function(t){t instanceof i?(this.Model=t,this.id=this.Model.id):this.id=function(){return t}},templateData:function(){return{Model:this.Model}},render:function(e){var i=this.$view,n=!!i^!!e;if(n)"string"!=typeof i&&(this.$view=this.templateScript().tmpl(this.templateData()));else if(!i)return;("string"!=typeof i||(this.$view=t(this.$view),n=!!e))&&(e?e.append(this.$view):i.replaceWith(this.$view),n&&"function"==typeof this.rendered&&this.rendered())}});return n}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/View/Element",["jquery","Core/View","jquery/plugins/jquery.tmpl"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,t)}("jQuery.Core.View.Element",function(t,e){"use strict";var i=e.extend({init:function(t){this.$parent=t},render:function(e){var i=this.$view;if(this.$view=this.templateScript().tmpl(e),i&&i.length)i.replaceWith(this.$view);else{if(!this.$parent||!this.$parent.length){if(!this.PARENT_ID&&!this.constructor.PARENT_ID)return void t.error("Must define a parent or parent selector");this.$parent=t("#"+(this.PARENT_ID||this.constructor.PARENT_ID))}this.$parent.append(this.$view)}}});return i}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/Events",["jquery","Core"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,jQuery.Core)}("jQuery.Core.Events",function(t,e){"use strict";function i(e,i,n){"string"!=typeof e&&t.error("Invalid event name"),t.isFunction(i)||t.error("Invalid callback"),n&&a[e]&&t.error("Provided options after initial bind"),a[e]||(n=n||"stopOnFalse",a[e]={cb:t.Callbacks(n),funcs:[]}),a[e].cb.add(i),a[e].funcs.push(i)}function n(e,i){var n,s,o;if(!a[e])return void(a[e]={cb:t.Callbacks(i),funcs:[]});for(a[e].cb.empty(),a[e].cb=t.Callbacks(i),n=0,s=a[e].funcs.length;s>n;++n)o=a[e].funcs[n],a[e].cb.add(o)}function s(e,i){return a[e]||t.error("Event does not exist"),n(e,i)}function o(e,i){if(a[e]){if(!i)return a[e].cb.empty(),void delete a[e];a[e].cb.remove(i),a[e].funcs=t.grep(a[e].funcs,function(t){return t!==i})}}function r(t){if(a[t]){var e=Array.prototype.slice.call(arguments,1);a[t].cb.fireWith(null,e)}}var a={};return e.Events={bind:i,unbind:o,trigger:r,option:n,updateOptions:s},e.Events}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/View/Dialog",["jquery","Core","Core/View","Core/Events"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,jQuery.Core,t,jQuery.Core.Events)}("jQuery.Core.View.Dialog",function(t,e,i,n){"use strict";var s=i.extend({$popup:null,options:{close_btn:!0},init:function(){this.destroy=t.proxy(function(t,e){e!==!1&&this._destroy.apply(this,arguments)},this)},_destroy:function(){this.$view&&(n.trigger("keyboard.off"),this.$view.popup("destroy"),this.$view=null,this.$popup=null)},render:function(){var i;this.$view=this.$popup=e.popup(this.options),i=this.$view.find("form").first(),this.$view.find("#popup-force-close").off("click").add(this.$view.find("#popup-cancel")).on("click",this.destroy),n.trigger("keyboard.on",{escape:t.proxy(this._destroy,this)}),this.rendered&&this.rendered(i),this.$view.popup("position")}});return s}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/Controller",["jquery","Core/Class","Core/View"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,t.Class,t.View)}("jQuery.Core.Controller",function(t,e,i){"use strict";var n=e.extend({init:function(){},render:function(){},destroy:function(){}},{inherits:function(t,e){var i,n=!1;if(e||(e=t,t=this),"function"!=typeof t||"function"!=typeof e)return n;for(i=t.prototype;i.constructor.__super__;)if(i=i.constructor.__super__,i===e.prototype){n=!0;break}return n},addTemplate:function(e,i){return t('<script id="'+e+'" type="text/x-jquery-tmpl">'+i+"</script>").appendTo(document.body)},loadTemplate:function(e,s){var o,r,a=t.Deferred();return e.inherits&&e.inherits(i)&&(s="function"==typeof s&&s!==e?s:null,o=e.TEMPLATE_ID,r=e.TEMPLATE_URL),t("#"+o).length?t.Deferred().resolve():o&&r?(t.ajax({url:r,cache:!0}).then(function(e){var i=arguments;return e.html?void t(function(){n.addTemplate(o,e.html),t.isFunction(s)&&s(o),a.resolve.apply(a,i)}):!1},a.reject,a.notify),a.promise()):(t.error("No template found"),!1)}});return n}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/Controller/Entity",["jquery","Core/Controller"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,t)}("jQuery.Core.Controller.Entity",function(t,e){var i=e.extend({View:null,Model:null,init:function(t,e){this.Model=new this.constructor.MODEL_CLASS(t,e),this._initView(this.Model)},render:function(t,e){e=e||this.constructor.VIEW_CLASS,this.requestView(e),this.View.render(t)},update:function(){this.View.update()},fix:function(){this.View.fix()},destroy:function(){this.View.destroy(),this.Model=this.View=null},_initView:function(t){this.View=new this.constructor.VIEW_CLASS(t),this.View.Controller=this},requestView:function(t){this.View instanceof t||!this.Model||this.switchView(t)},switchView:function(e){var i=this.View;this.constructor.inherits(e,t.Core.View.Entity)||t.error("Entity Controller: Non-Entity View"),this.View=new e(this.Model),this.View.Controller=this,i&&null!==i.$view&&(this.View.$view=i.$view,this.View.render()),i.destroy()}},{VIEW_CLASS:null,MODEL_CLASS:null});return i}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/Controller/Dialog",["jquery","Core/Events","Core/Controller"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,jQuery.Core.Events,t)}("jQuery.Core.Controller.Dialog",function(t,e,i){"use strict";var n=i.extend({blocking:!1,View:null,init:function(){function i(t){e.bind(t,n)}var n=this.render=t.proxy(this.render,this);this.constructor.RENDER_EVENT&&("string"==typeof this.constructor.RENDER_EVENT?i(this.constructor.RENDER_EVENT):t.isArray(this.constructor.RENDER_EVENT)&&t.map(this.constructor.RENDER_EVENT,i))},render:function(t){var e=this,i=arguments;if(!this.blocking)return this.constructor.VIEW_CLASS.templateScript(!1)===!1?(this.constructor.loadTemplate(this.constructor.VIEW_CLASS).done(function(t){t.html&&(e.blocking=!1,e.render.apply(e,i))}),void(this.blocking=!0)):void((!t||!this.constructor.ENTITY_CLASS||t instanceof this.constructor.ENTITY_CLASS)&&(this.View&&(this.View.destroy(),this.View=null),this.View=new this.constructor.VIEW_CLASS,this.View.Controller=this,this.View.render.apply(this.View,arguments)))},destroy:function(){function i(t){e.unbind(t,n)}var n=this.render;this.constructor.RENDER_EVENT&&("string"==typeof this.constructor.RENDER_EVENT?i(this.constructor.RENDER_EVENT):t.isArray(this.constructor.RENDER_EVENT)&&t.map(this.constructor.RENDER_EVENT,i)),this.View&&(this.View.destroy(),this.View=null)}},{RENDER_EVENT:null,ENTITY_CLASS:null,VIEW_CLASS:null});return n}),function(t,e){var i,n;"string"==typeof t&&(i=t.split("."),n=i.pop(),t=i.reduce(function(t,e){return t&&t[e]},this)),"function"==typeof define&&define.amd?define("Core/Keyhandler",["jquery","Core/Class","Core/Events"],function(){var i=e.apply(this,arguments);return t&&(t[n]=i),i}):(t||this)[n]=e.call(this,jQuery,t.Class,t.Events)}("jQuery.Core.Keyhandler",function(t,e,i){return e.extend({listeners:null,globals:null,ignoredElements:{INPUT:!0,TEXTAREA:!0},init:function(e){e=e||{},this.globals=e.global||{},this.listeners=[],this.ignoredElements=t.extend({},this.ignoredElements),this.addListener=t.proxy(this.addListener,this),this.appendListener=t.proxy(this.appendListener,this),this.removeListener=t.proxy(this.removeListener,this),this.keydownHandler=t.proxy(this.keydownHandler,this),i.bind("keyboard.on",this.addListener),i.bind("keyboard.add",this.appendListener),i.bind("keyboard.off",this.removeListener),t(document.body).on("keydown",this.keydownHandler)},destroy:function(){i.unbind("keyboard.on",this.addListener),i.unbind("keyboard.add",this.appendListener),i.unbind("keyboard.off",this.removeListener),t(document.body).off("keydown",this.keydownHandler)},translate:function(e,i){function n(t,e){return function(i){var n=t.map(function(t){return t?t.toLowerCase()+"Key":null}).reduce(function(t,e){return t&&(e?i.originalEvent[e]:!0)},!0);return n?e.call(this,i):void 0}}var s,o,r,a=/^((?:(?:meta|shift|ctrl|alt)-)*)(.+)$/i;i=i||{};for(s in e)if(e.hasOwnProperty(s)){if(r=a.exec(s),!r)continue;o=this.constructor.keyCodes[r[2].toLowerCase()],o&&(i[o]=i[o]||t.Callbacks("unique stopOnFalse"),i[o].add(r[1]?n(r[1].split("-"),e[s]):e[s]))}return i},addListener:function(t){this.listeners.push(this.translate(t))},appendListener:function(t){this.listeners.length||this.listeners.push({}),this.translate(t,this.listeners[this.listeners.length-1])},removeListener:function(){this.listeners.pop()},keydownHandler:function(t){var e=this.listeners.length?this.listeners[this.listeners.length-1]:{};(e.hasOwnProperty(t.which)||this.globals.hasOwnProperty(t.which))&&(!e[t.which]||!this.constructor.bypassCodes[t.which]&&this.ignoredElements[t.target.tagName]||e[t.which].fire(t),this.globals[t.which]&&this.globals[t.which].fire(t))},keyupHandler:function(){}},{keyCodes:{backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},bypassCodes:{16:!0,17:!0,18:!0,19:!0,20:!0,27:!0,45:!0,112:!0,113:!0,114:!0,115:!0,116:!0,117:!0,118:!0,119:!0,120:!0,121:!0,122:!0,123:!0}})}),define("Core/Stylesheet",["jquery"],function(t){"use strict";return{add:function(e,i){"undefined"!=typeof e.styleSheet?(e.styleSheet.cssText||(e.styleSheet.cssText=""),e.styleSheet.cssText+=i):t(e).append(i)},set:function(t,e){if(t.styleSheet&&"undefined"!=typeof t.styleSheet.cssText){if("string"!=typeof e||!e.length)return;t.styleSheet.cssText=e}else t.innerHTML=e},get:function(t){return t.styleSheet&&"undefined"!=typeof t.styleSheet.cssText?t.styleSheet.cssText:t.innerHTML}}}),function(t,e){function i(e,i){var s,o,r,a=e.nodeName.toLowerCase();return"area"===a?(s=e.parentNode,o=s.name,e.href&&o&&"map"===s.nodeName.toLowerCase()?(r=t("img[usemap=#"+o+"]")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,s,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(r,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(r,s(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i){var n,s=t.plugins[e];if(s&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)}})}(jQuery),define("jquery/ui/core",function(){}),function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(o){}s(e)},t.widget=function(e,i,n){var s,o,r,a,l={},u=e.split(".")[0];e=e.split(".")[1],s=u+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[u]=t[u]||{},o=t[u][e],r=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:e},l,{constructor:r,namespace:u,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r)},t.widget.extend=function(i){for(var s,o,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==e&&(i[s]=t.isPlainObject(o)?t.isPlainObject(i[s])?t.widget.extend({},i[s],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),u=this;return r=!a&&l.length?t.widget.extend.apply(null,[r].concat(l)):r,this.each(a?function(){var n,s=t.data(this,o);return s?t.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==e?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}:function(){var e=t.data(this,o);e?e.option(r||{})._init():t.data(this,o,new s(r,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=t.widget.extend({},this.options[i]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),n===e)return o[i]===e?null:o[i];o[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,r){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?s.delegate(c,u,a):i.bind(u,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(jQuery),define("jquery/ui/widget",function(){}),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),define("jquery/ui/mouse",function(){}),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,s=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),n?!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),s)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,n){var s,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));
return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],s):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||n+u>a&&l>n+u,d="y"===this.options.axis||e+c>o&&r>e+c,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=i&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return s?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:s&&("down"===s&&i||"up"===s&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,s,o,r=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(s=t(l[i]),n=s.length-1;n>=0;n--)o=t.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){r.push(this)});return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,o,r,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(s=t(d[i]),n=s.length-1;n>=0;n--)o=t.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(r=h[i][1],a=h[i][0],n=0,u=a.length;u>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",r),c.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(s)}):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var s,o,r,a,l,u,c,h,d,f,p=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!t.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(p&&t.contains(this.containers[s].element[0],p.element[0]))continue;p=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",n,this._uiHash(this)),this.containers[s].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,a=null,f=p.floating||i(this.currentItem),l=f?"left":"top",u=f?"width":"height",c=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!f||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[l],d=!1,Math.abs(h-c)>Math.abs(h+this.items[o][u]-c)&&(d=!0,h+=this.items[o][u]),Math.abs(h-c)<r&&(r=Math.abs(h-c),a=this.items[o],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,o=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),define("jquery/ui/sortable",function(){}),define("Core/SortableList",["jquery","Core/Class","jquery/ui/sortable"],function(t,e){"use strict";var i=e.extend({order:[],$list:null,previous:!1,options:null,init:function(e,i,n){this.order=e,this.$list=i,this.options=t.extend({appendTo:"body",helper:"original",items:"> *",placeholder:"block ui-state-ghost bordered"},n),this.findPos=this._findPos.bind(this),this.sortstart=this._sortstart.bind(this),this.sortremove=this._sortremove.bind(this),this.sortreceive=this._sortreceive.bind(this),this.sortupdate=this._sortupdate.bind(this),this.initSortable()},destroy:function(){this.$list.sortable("destroy").off("sortstart",this.sortstart).off("sortstop",this.sortstop).off("sortremove",this.sortremove).off("sortreceive",this.sortreceive).off("sortupdate",this.sortupdate).removeData("sortable")},add:function(t,e){this.order.splice(e,0,t)},remove:function(t){return this.order.splice(t,1)[0]},get:function(t){return this.order[t]},move:function(t,e){if(-1!==e&&e!==!1&&-1!==t&&t!==!1){var i=this.order.splice(t,1)[0];this.order.splice(e,0,i),this.moved&&this.moved(i)}},updated:function(t){this.$list.on("sortupdate",t)},_findPos:function(e){return t.inArray(e[0],this.$list.find(this.options.items))},initSortable:function(){this.$list&&this.$list.sortable(this.options).on("sortstart",this.sortstart).on("sortstop",this.sortstop).on("sortremove",this.sortremove).on("sortreceive",this.sortreceive).on("sortupdate",this.sortupdate)},_sortstart:function(t,e){this.previous=this.findPos(e.item),e.item.data("as_id",this.get(this.previous))},sortstop:function(t,e){e.item.data("sortcancel")&&e.item.data("sortcancel",null),e.item.attr("style",null)},_sortremove:function(t,e){e.item.data("sortcancel")||(this.remove(this.previous),this.previous=!1)},_sortreceive:function(t,e){e.item.data("sortcancel")||this.add(e.item.data("as_id"),this.findPos(e.item))},_sortupdate:function(t,e){if(e.item.data("sortcancel"))return this.$list.sortable("cancel"),!1;var i=this.findPos(e.item);e.item.data("internalsort",!!~i),i!==!1&&-1!==i&&(this.move(this.previous,i),this.previous=!1)}});return i}),!function(t,e,i){function n(t,i){var n,s=e.createElement(t||"div");for(n in i)s[n]=i[n];return s}function s(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function o(t,e,i,n){var s=["opacity",e,~~(100*t),i,n].join("-"),o=.01+i/n*100,r=Math.max(1-(1-t)/e*(100-o),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[s]||(f.insertRule("@"+l+"keyframes "+s+"{0%{opacity:"+r+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",f.cssRules.length),d[s]=1),s}function r(t,e){var n,s,o=t.style;if(o[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),s=0;s<h.length;s++)if(n=h[s]+e,o[n]!==i)return n}function a(t,e){for(var i in e)t.style[r(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)t[s]===i&&(t[s]=n[s])}return t}function u(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var c,h=["webkit","Moz","ms","O"],d={},f=function(){var t=n("style",{type:"text/css"});return s(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},m=function g(t){return this.spin?void(this.opts=l(t||{},g.defaults,p)):new g(t)};m.defaults={},l(m.prototype,{spin:function(t){this.stop();var e,i,s=this,o=s.opts,r=s.el=a(n(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(t&&(t.insertBefore(r,t.firstChild||null),i=u(t),e=u(r),a(r,{left:("auto"==o.left?i.x-e.x+(t.offsetWidth>>1):parseInt(o.left,10)+l)+"px",top:("auto"==o.top?i.y-e.y+(t.offsetHeight>>1):parseInt(o.top,10)+l)+"px"})),r.setAttribute("aria-role","progressbar"),s.lines(r,s.opts),!c){var h=0,d=o.fps,f=d/o.speed,p=(1-o.opacity)/(f*o.trail/100),m=f/o.lines;!function g(){h++;for(var t=o.lines;t;t--){var e=Math.max(1-(h+t*m)%f*p,o.opacity);s.opacity(r,o.lines-t,e,o)}s.timeout=s.el&&setTimeout(g,~~(1e3/d))}()}return s},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(t,e){function i(t,i){return a(n(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*l+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var r,l=0;l<e.lines;l++)r=a(n(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:c&&o(e.opacity,e.trail,l,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&s(r,a(i("#000","0 0 4px #000"),{top:"2px"})),s(t,s(r,i(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),function(){function t(t,e){return n("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=a(n("group"),{behavior:"url(#default#VML)"});!r(e,"transform")&&e.adj?(f.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(e,i){function n(){return a(t("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function o(e,o,r){s(h,s(a(n(),{rotation:360/i.lines*e+"deg",left:~~o}),s(a(t("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:r}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}var r,l=i.length+i.width,u=2*l,c=2*-(i.width+i.length)+"px",h=a(n(),{position:"absolute",top:c,left:c});if(i.shadow)for(r=1;r<=i.lines;r++)o(r,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(r=1;r<=i.lines;r++)o(r);return s(e,h)},m.prototype.opacity=function(t,e,i,n){var s=t.firstChild;n=n.shadow&&n.lines||0,s&&e+n<s.childNodes.length&&(s=s.childNodes[e+n],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=i))}):c=r(e,"animation")}(),"function"==typeof define&&define.amd?define("vendor/spin",[],function(){return m}):t.Spinner=m}(window,document);var Config=Config||{};Config.$document=$(document),Config.$document.ready(function(){Config.$document=$(document),Config.$body=$(document.body),Config.$window=$(window)}),$.fn.addPseudoClasses=function(t){var e=$(this);return t!==!0&&(e=e.filter(":visible")),e.removeClass("only-child").removeClass("first-child").removeClass("last-child"),1===e.length?e.first().addClass("only-child"):(e.first().addClass("first-child"),e.last().addClass("last-child")),e},$.fn.attrToInt=function(t){return $.Core.toInt($(this).attr(t))},$.fn.increaseCount=function(t){t=t||1,$(this).updateCount(t)},$.fn.decreaseCount=function(t){t=t||1,$(this).updateCount(-1*t)},$.fn.updateCount=function(t){if("undefined"==typeof t)return!1;var e=parseFloat($(this).text());return isNaN(e)?!1:(e+=t,0>e?!1:void $(this).text(e))},$.fn.clonePosition=function(t,e){var i=$.extend({setWidth:!0,setHeight:!0,setLeft:!0,setTop:!0,offsetLeft:0,offsetTop:0,func:"offset",factor_scroll:!1},e),n=null,s={};return"offset"!==i.func&&"position"!==i.func&&$.Core.exception("Invalid function passed: ",i.func),n=t[i.func](),i.factor_scroll===!0&&(n.top+=Config.$document.scrollTop(),n.left+=Config.$document.scrollLeft()),i.setWidth===!0&&(s.width=t.outerWidth()+"px"),i.setHeight===!0&&(s.height=t.outerHeight()+"px"),i.setLeft===!0&&(s.left=n.left+parseInt(i.offsetLeft,10)+"px"),i.setTop===!0&&(s.top=n.top+parseInt(i.offsetTop,10)+"px"),this.css(s)},$.fn.cssToInt=function(t){return $.Core.toInt($(this).css(t))},$.fn.defaultValue=function(t){return this.each(function(){var e=$(this),i=function(){return e.val()},n=function(t){e.trigger("defaultvalue.beforevalueset"),e.val(t),e.trigger("defaultvalue.aftervalueset")},s=function(){i()===t&&(n(""),e.removeClass("form-text-placeholder"))},o=function(){i()?i()!==t&&e.removeClass("form-text-placeholder"):(n(t),e.addClass("form-text-placeholder"))};$.fn.defaultValue.destroy=function(){n(""),e.off({focus:s,blur:o}),e.removeData("defaultValue")},e.on({focus:s,blur:o}),e.data("defaultValue",t),e.trigger("blur")}),this},$.fn.equalHeights=function(){var t=0;return this.each(function(){var e=$(this).height();t=e>t?e:t}),this.css({minHeight:t}),this},$.fn.firstChild=function(){return this.children().first()},$.fn.formatMoney=function(t){this.html($.Core.formatMoney(t))},$.fn.hideButtons=function(t){t=t||"Saving...";var e="",i=null,n=this.find(".form-button");return n.each(function(){var t=$(this),e=t.parent();t.hide(),e.hasClass("form-item-a")&&e.hide()}),this.addClass("button-arrow-none"),i=this.find(".form-submit-processing"),i.length?i.html(t):(e=$('<div class="left" style="left:7px; top:3px; position:relative;">'+t+"</div>"),$("<div>").addClass("form-submit-processing cfix relative").html(e).appendTo(this).spin()),this},$.fn.hoverToggleClass=function(t){return t=t||"hover",this.hover(function(){$(this).addClass(t)},function(){$(this).removeClass(t)}),this},$.fn.implode=function(t,e){return $(this).pluck(e).join(t)},$.fn.moreToggle=function(t){return t=t||{},this.each(function(){var e=$(this),i=e.next(),n=t.$more||e.find(t.more_css||".variable-text-link"),s=t.$less||i.find(t.less_css||".variable-text-link"),o=i.removeClass("hide").height(),r=t.speed||250,a=e.height();i.addClass("hide").css({overflow:"hidden",height:a+"px"}),n.on("click",function(){e.addClass("hide"),i.removeClass("hide").animate({height:o+"px"},r)}),s.on("click",function(){i.animate({height:a+"px"},r,function(){e.removeClass("hide"),i.addClass("hide")})})})},$.fn.placeholder=function(){return this.each(function(){var t=$(this),e=t.parent();t.on("focus blur",function(t){e.toggleClass("focused","focus"===t.type),e.toggleClass("has-value",!!this.value)}).on("keyup input propertychange",function(){e.toggleClass("has-value",!!this.value)}),e.addClass("be-placeholder").toggleClass("has-value",!!this.value)})},$.fn.pluck=function(t,e){var i,n,s=[];for(i=0;i<this.length;++i)n=$(this[i]).attr(t),e===!0&&n.match(/^-?\d+$/)&&(n=parseInt(n,10)),s[s.length]=n;return s},$.fn.showButtons=function(){var t=this.find(".form-button");return t.each(function(){var t=$(this),e=t.parent();t.show(),e.hasClass("form-item-a")&&e.show()}),this.removeClass("button-arrow-none"),this.find(".form-submit-processing").remove(),this},$.fn.showMessages=function(t,e){if(!t)return this;var i=this,n=i.find(".messages"),s=[],o=!0;return e=e||{},o="undefined"!=typeof e.fade?e.fade:!0,n.length||(n=$('<div class="messages"></div>').hide().addClass(e.classes||""),e.floating&&e.floating===!0&&n.addClass("messages-floating"),e.prepend&&e.prepend===!0?n.prependTo(i):n.appendTo(i)),$.each(t,function(){switch(this.type=this.type||"message",this.type){case"error":case"message":case"success":break;default:throw'"'+this.type+'" is not a valid message type'}s.push('<div class="'+this.type+'"><span class="icon-status-'+this.type+' icon sprite-site-elements"></span>'+this.message+"</div>")}),n.html(s.join("")).show(),o&&n.delay(5e3).fadeOut(1e3),this},"function"==typeof require?require(["vendor/spin"],spinFactory):spinFactory(window.Spinner),$.fn.sumHeight=function(t){var e=0;return this.each(function(){e+=$(this).outerHeight(!!t)}),e},$.fn.valueToInt=function(){return $.Core.toInt($(this).val())},$.fn.vForm=function(t,e){"function"!=typeof $.fn.validation&&$.Core.exception("$.fn.validation required"),"function"!=typeof $.fn.dirtyForm&&$.Core.exception("$.fn.dirtyForm required"),t=t||{},e=e||{};
var i=t.ajax_type||"POST",n=$(this),s=t.$message_container||n,o=t.$btns||n,r=n.find("input[type=submit]"),a=!1,l=n.attr("action"),u=t.message_params||{},c=["redirecting","beforesubmit","aftersubmit","inputfailure"],h=t.expectedResponses||[403,417],d=function(t){return 1===t.valid||"yes"===t.valid},f=function(t){return o.showButtons(),t&&t.messages&&($(".messages").remove(),s.showMessages(t.messages,u),n.trigger("vform.messagesshown")),n.trigger("vform.resize"),n.trigger("vform.failure",t),n.trigger("vform.failureinvalid",t),n.trigger("vform.complete",!1),!1};return"function"==typeof t.ajaxSuccessValidCheck&&(d=t.ajaxSuccessValidCheck),n.bind("vform.newaction",function(t,e){n.attr("action",e),l=e}),r.length||(r=n.find("a.form-submit"),r.bind("keypress",function(t){return r.hasClass("form-button-disabled")?!1:t.which===$.ui.keyCode.ENTER||t.which===$.ui.keyCode.NUMPAD_ENTER?(n.trigger("submit"),!1):void 0}),r.bind("click",function(){return r.hasClass("form-button-disabled")?!1:(n.trigger("submit"),!1)}),a=$('<input type="submit" style="position: absolute;left:-99999px;top:-99999px;" />'),n.append(a)),e=$.extend({$submit:r,ajaxSuccessValidCheck:d,success:function(){var e={},r=t.hiding_text,a=$.Event("vform.beforesend"),c="update",p=function(t){$(".formError").remove(),n.trigger("vform.beforehandleresponse",[t,e]);var i=$.validation.handleResponse(n,{data:t,failure:f,message_params:u,$message_container:s});if(i){if(o.showButtons(),n.trigger("vform.resize"),!t)return!1;1===t.reset&&n.find(":input").not("[type=button], [type=submit]").changeInput("value","").changeInput("uncheck"),d(t)&&(n.trigger("vform.success",[t,e]),n.trigger("vform.complete",!0))}},m=function(t,e,i){var r,a={};o.showButtons(),($.isArray(h)?-1!==$.inArray(t.status,h):t.status in h)||("undefined"!=typeof JSON&&"function"==typeof JSON.parse&&t.responseText&&(a=JSON.parse(t.responseText)),a.messages||404!==t.status||(a.messages=[{type:"error",message:"Unable to reach URL"}]),a.messages||0!==t.status||(a.messages=[{type:"error",message:"Unable to reach server"}]),r=a.messages||[{type:"error",message:"Unknown server error"}],s.showMessages(r,u)),n.trigger("vform.messagesshown").trigger("vform.resize").trigger("vform.failure",{}).trigger("vform.failureserver",t,e,i).trigger("vform.complete",!1)};return"function"==typeof r&&(r=r()),r!==!1&&(o.hideButtons(r),n.trigger("vform.resize")),n.find(".messages").hide(),n.trigger("vform.action",[n.attr("action")]),$.extend(e,$.fn.dirtyForm.getValues(n)),n.trigger(a,[e]),a.isDefaultPrevented()?(o.showButtons(),n.trigger("vform.resize"),void n.trigger("vform.beforesendprevented")):($.isFunction(t.dataOverride)&&(e=t.dataOverride(e)),t.json===!0&&(e=$.toJSON(e)),l&&"#"!==l||t.Model?t.Model?(t.model_method&&(c=t.model_method),"update"===c&&"function"!=typeof t.Model[c]?(f(),$.Core.exception("options.Model does not have the model_method "+c+", received, ",t.Model),!1):"create"===c&&"function"!=typeof t.Model?(f(),$.Core.exception("options.Model must be a function for creation, received, ",t.Model),!1):void $.when(t.Model[c](e)).done(p).fail(m)):void $.ajax(l,{type:i,data:e,success:p,error:m}):(o.showButtons(),n.trigger("vform.resize"),n.trigger("vform.success",[{},e]),void n.trigger("vform.complete",!0)))},failure:f},e),n.dirtyForm().validation(e),$.each(c,function(t,e){n.bind("validation."+e,function(){var t=[].slice.call(arguments),i=t.splice(1,t.length);n.trigger("vform."+e,i)})}),n.data("vform.options",t),this},$.fn.vForm.options=function(t){return t.data("vform.options")},define("Fn",function(){}),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;return s.containment?"window"===s.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=t(s.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,s,o,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,u=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,u=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),s=n.options,o=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var n=t(this).data("ui-draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("ui-draggable"),s=this;t.each(n.sortables,function(){var o=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,s,o,r,a,l,u,c,h,d,f=t(this).data("ui-draggable"),p=f.options,m=p.snapTolerance,g=i.offset.left,v=g+f.helperProportions.width,y=i.offset.top,_=y+f.helperProportions.height;for(h=f.snapElements.length-1;h>=0;h--)a=f.snapElements[h].left,l=a+f.snapElements[h].width,u=f.snapElements[h].top,c=u+f.snapElements[h].height,a-m>v||g>l+m||u-m>_||y>c+m||!t.contains(f.snapElements[h].item.ownerDocument,f.snapElements[h].item)?(f.snapElements[h].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[h].item})),f.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(u-_)<=m,s=Math.abs(c-y)<=m,o=Math.abs(a-v)<=m,r=Math.abs(l-g)<=m,n&&(i.position.top=f._convertPositionTo("relative",{top:u-f.helperProportions.height,left:0}).top-f.margins.top),s&&(i.position.top=f._convertPositionTo("relative",{top:c,left:0}).top-f.margins.top),o&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a-f.helperProportions.width}).left-f.margins.left),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l}).left-f.margins.left)),d=n||s||o||r,"outer"!==p.snapMode&&(n=Math.abs(u-y)<=m,s=Math.abs(c-_)<=m,o=Math.abs(a-g)<=m,r=Math.abs(l-v)<=m,n&&(i.position.top=f._convertPositionTo("relative",{top:u,left:0}).top-f.margins.top),s&&(i.position.top=f._convertPositionTo("relative",{top:c-f.helperProportions.height,left:0}).top-f.margins.top),o&&(i.position.left=f._convertPositionTo("relative",{top:0,left:a}).left-f.margins.left),r&&(i.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left-f.margins.left)),!f.snapElements[h].snapping&&(n||s||o||r||d)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,e,t.extend(f._uiHash(),{snapItem:f.snapElements[h].item})),f.snapElements[h].snapping=n||s||o||r||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),define("jquery/ui/draggable",function(){}),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;i>e;e++)r.push(o);this.handles=s.add(t(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,o,r,a,l,u,c=this,h=this.options;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(s>i||s===i&&(e===c._lastChangedValue||c.values(e)===h.min))&&(s=i,o=t(this),r=e)}),a=this._start(e,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,o.addClass("ui-state-active").focus(),l=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),o!==!1&&this.values(e,i,!0))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,o,r=this.options.range,a=this.options,l=this,u=this._animateOff?!1:a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),s=this._valueMin(),o=this._valueMax(),i=o!==s?(n-s)/(o-s)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(i){var n,s,o,r,a=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,a),n===!1))return}switch(r=this.options.step,s=o=this.options.values&&this.options.values.length?this.values(a):this.value(),i.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;o=this._trimAlignValue(s+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;o=this._trimAlignValue(s-r)}this._slide(i,a,o)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))
}}})}(jQuery),define("jquery/ui/slider",function(){}),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),define("jquery/ui/progressbar",function(){}),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,r=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,f=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];return t("body").append(s),i=r.offsetWidth,s.css("overflow","scroll"),n=r.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=t.extend({},e);var o,f,m,g,v,y,_=t(e.of),b=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(b),x=(e.collision||"flip").split(" "),C={};return y=s(_),_[0].preventDefault&&(e.at="left top"),f=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=h.exec(n[0]),i=h.exec(n[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=f:"center"===e.at[0]&&(v.left+=f/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=i(C.at,f,m),v.left+=o[0],v.top+=o[1],this.each(function(){var s,u,c=t(this),h=c.outerWidth(),d=c.outerHeight(),p=n(this,"marginLeft"),y=n(this,"marginTop"),k=h+p+n(this,"marginRight")+w.width,T=d+y+n(this,"marginBottom")+w.height,S=t.extend({},v),E=i(C.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?S.left-=h:"center"===e.my[0]&&(S.left-=h/2),"bottom"===e.my[1]?S.top-=d:"center"===e.my[1]&&(S.top-=d/2),S.left+=E[0],S.top+=E[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),s={marginLeft:p,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](S,{targetWidth:f,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:s,collisionWidth:k,collisionHeight:T,offset:[o[0]+E[0],o[1]+E[1]],my:e.my,at:e.at,within:b,elem:c})}),e.using&&(u=function(t){var i=g.left-S.left,n=i+f-h,s=g.top-S.top,o=s+m-d,l={target:{element:_,left:g.left,top:g.top,width:f,height:m},element:{element:c,left:S.left,top:S.top,width:h,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};h>f&&a(i+n)<f&&(l.horizontal="center"),d>m&&a(s+o)<m&&(l.vertical="middle"),l.important=r(a(i),a(n))>r(a(s),a(o))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(S,{using:u}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,l=s-a,u=a+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&0>=u?(i=t.left+l+e.collisionWidth-o-s,t.left+=l-i):t.left=u>0&&0>=l?s:l>u?s+o-e.collisionWidth:s:l>0?t.left+=l:u>0?t.left-=u:t.left=r(t.left-a,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=s-a,u=a+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&0>=u?(i=t.top+l+e.collisionHeight-o-s,t.top+=l-i):t.top=u>0&&0>=l?s:l>u?s+o-e.collisionHeight:s:l>0?t.top+=l:u>0?t.top-=u:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,r=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>c?(i=t.left+d+f+p+e.collisionWidth-r-o,(0>i||i<a(c))&&(t.left+=d+f+p)):h>0&&(n=t.left-e.collisionPosition.marginLeft+d+f+p-l,(n>0||a(n)<h)&&(t.left+=d+f+p))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,r=s.height,l=s.isWindow?s.scrollTop:s.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-r-l,d="top"===e.my[1],f=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(n=t.top+f+p+m+e.collisionHeight-r-o,t.top+f+p+m>c&&(0>n||n<a(c))&&(t.top+=f+p+m)):h>0&&(i=t.top-e.collisionPosition.marginTop+f+p+m-l,t.top+f+p+m>h&&(i>0||a(i)<h)&&(t.top+=f+p+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,r=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(a),i=r||document.documentElement,i.insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",s=t(a).offset().left,t.support.offsetFractions=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(jQuery),define("jquery/ui/position",function(){}),function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,o,r,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,s=this.previousFilter||"",o=String.fromCharCode(e.keyCode),r=!1,clearTimeout(this.filterTimer),o===s?r=!0:o=s+o,a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(e.keyCode),a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),s=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,o,r,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=e.height(),0>s?this.activeMenu.scrollTop(o+s):s+a>r&&this.activeMenu.scrollTop(o+s-r+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-s<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),define("jquery/ui/menu",function(){}),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,r="input"===s;this.isMultiLine=o?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case o.UP:e=!0,this._keyEvent("previous",s);break;case o.DOWN:e=!0,this._keyEvent("next",s);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(n){i===e&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),define("jquery/ui/autocomplete",function(){}),function(t){"use strict";return"function"==typeof define&&define.amd?void define("jquery/be/autosuggest",["jquery","jquery/ui/autocomplete"],function(){var e=t.apply(this,arguments);return e}):jQuery&&t.call(this,jQuery)}(function(t){"use strict";function e(){return!1}return t.widget("be.autosuggest",t.ui.autocomplete,{options:{focus:e},_create:function(){this._super(),this.options.messages&&this.options.messages.placeholder&&this.element.prop("placeholder",this.options.messages.placeholder)},_resizeMenu:function(){var e=this.menu.element,i=this.options.width;t.isNumeric(i)?e.outerWidth(i):this._super()},_renderItem:function(e,i){var n=this.options.itemTemplate;return t.isFunction(n)?t(n(i)).appendTo(e):this._super(e,i)},clear:function(){this._value("")}})}),function(t){"use strict";return"function"==typeof define&&define.amd?void define("jquery/be/autoselect",["jquery","jquery/be/autosuggest"],function(){var e=t.apply(this,arguments);return e}):jQuery&&t.call(this,jQuery)}(function(t){"use strict";return t.widget("be.autoselect",t.be.autosuggest,{options:{limit:0,toggle:!1,select:function(){return t(this).autoselect("clear"),!1}},_selected:null,_create:function(){this._super();var e=this;this._on(this.menu.element,{menuselect:function(t,i){var n=i.item.data("ui-autocomplete-item");e.select(n)}}),this._selected=t.isArray(this.options.value)?this.options.value:[],this._selected.length&&this._changeValue(!0)},select:function(e){e=t.isArray(e)?e:[e];var i,n,s,o=!1;for(n=0;n<e.length;++n)s=e[n],(i=this._selected.indexOf(s))<0?this._selected.length<(this.options.limit||1/0)?(this._selected.push(s),o=!0):this._trigger("limit",null,{item:s}):this.options.toggle&&(this._selected.splice(i,1),o=!0);o&&this._changeValue()},unselect:function(t){var e;(e=this._selected.indexOf(t))>=0&&(this._selected.splice(e,1),this._changeValue())},_changeValue:function(t){var e=this._selected.length>=(this.options.limit||1/0),i=this.options.messages[e?"limited":"placeholder"];this.element.prop("disabled",e).prop("aria-disabled",e).toggleClass("ui-state-disabled",e),e&&this.element.blur(),i&&this.element.prop("placeholder",i),t||this._trigger("value",null,{value:this._selected})},value:function(){return this._selected},empty:function(){this._selected=[],this._changeValue()}})}),function(t){t.fn.changeInput=function(e,i,n){var s="object"==typeof n&&"undefined"!=typeof n.extra_event_args?n.extra_event_args:[];return"undefined"!=typeof e&&t(this).each(function(){var n,o,r,a,l,u=t(this);if(u.is("input, button, textarea, select, optgroup, option")&&(n=u.val(),"undefined"==typeof i||"val"!==e&&"value"!==e||(u.data("uiSelectmenu")||u.data("selectmenu")?u.selectmenu("value",i):(u.val(i),u.triggerHandler("change",s)))),u.is("input:not([type=hidden]), button, textarea, select, optgroup, option, .form-button")){switch(o=this.disabled||u.attr("disabled"),l=!1,e){case"disable":l=!0;break;case"enable":l=!1;break;case"toggleDisabled":l="undefined"!=typeof i?Boolean(i):!this.disabled}l!=o&&(r=u.is("[type=submit], [type=button], button, .form-button, .form-submit")?"disabled form-button-disabled":"disabled",l?(u.addClass(r).trigger("disable",s).attr("disabled",!0),u.is("select")&&u.next().addClass(r),(u.data("uiSelectmenu")||u.data("selectmenu"))&&u.selectmenu("disable")):(u.removeClass(r).attr("disabled",!1).trigger("enable",s),u.is("select")&&u.next().removeClass(r),(u.data("uiSelectmenu")||u.data("selectmenu"))&&u.selectmenu("enable")))}if(u.is("[type=checkbox], [type=radio]")){switch(a=this.checked,e){case"check":this.checked=!0;break;case"uncheck":this.checked=!1;break;case"toggleChecked":this.checked="undefined"!=typeof i?Boolean(i):!this.checked}this.checked!=a&&(u.triggerHandler("click",s),this.checked?u.addClass("checked").attr("checked",!0).trigger("check",s):u.removeClass("checked").attr("checked",!1).trigger("uncheck",s))}}),this}}(jQuery),define("jquery/plugins/jquery.changeinput",function(){}),function(t){t.fn.customInput=function(e){return e=t.extend({container:t(document.body)},e),t(this).each(function(){if(t(this).is("[type=checkbox],[type=radio]")&&0===t(this).parent(".custom-"+t(this).attr("type")).length){var i=t(this),n=e.container.find("label[for="+i.attr("id")+"]");if(!n.length)return;var s=i.is("[type=checkbox]")?"checkbox":"radio";t('<div class="custom-'+s+'"></div>').insertBefore(i).append(i,n);var o=e.container.find("input[name="+i.attr("name")+"]"),r=n.find("a[target=_blank]");r.each(function(){var e=this.href;t(this).bind("click",function(t){return t.stopPropagation(),t.preventDefault(),window.open(e,"_blank"),!1}),this.href="#",this.removeAttribute("target")}),n.hover(function(){t(this).addClass("hover"),"checkbox"==s?i.trigger("customOver"):e.container.find("[name="+i.attr("name")+"]").each(function(){t(this).trigger("customOverName")}),"checkbox"==s&&i.is(":checked")&&t(this).addClass("checkedHover")},function(){t(this).removeClass("hover checkedHover"),"checkbox"==s?i.trigger("customOut"):e.container.find("[name="+i.attr("name")+"]").each(function(){t(this).trigger("customOutName")})}),i.bind("updateState",function(){o=e.container.find("input[name="+i.attr("name")+"]"),i.is(":checked")?(i.is(":radio")&&o.each(function(){e.container.find("label[for="+t(this).attr("id")+"]").removeClass("checked")}),n.addClass("checked")):n.removeClass("checked checkedHover checkedFocus")}).bind("updateState disable enable",function(t){i.is(":disabled")||t&&"disable"===t.type?(n.addClass("disabled"),i.is(":checked")&&n.addClass("checkedDisabled")):n.removeClass("disabled checkedDisabled")}).trigger("updateState").click(function(){t(this).trigger("updateState")}).focus(function(){n.addClass("focus"),"checkbox"==s&&i.is(":checked")&&n.addClass("checkedFocus")}).blur(function(){n.removeClass("focus checkedFocus")})}}),this}}(jQuery),define("jquery/plugins/jquery.custominput",function(){}),function(t){t.fn.hoverMenu=function(e,i){var n=t(window);return i=i||{},t.each(this,function(s){var o;if("string"==typeof e?"next"==e&&(o=t(this).next()):o=t(e),"object"==typeof o&&o.length&&"function"==typeof o.offset){var r=t(this),a=!1,l=o.find(".tooltip-title"),u=t.extend({},{container_position:"static",alignment:"left",mode:"menu",submenu:!1,tolerance:0,always_refresh:!1,submenu_alignment:"right",vertical_alignment:"bottom",submenu_top_offset:0},i),c=function(t){return t.pageX-n.scrollLeft()<a.toggleLeft-u.tolerance||t.pageX-n.scrollLeft()>a.toggleRight+u.tolerance||t.pageY-n.scrollTop()<a.toggleTop-u.tolerance||t.pageY-n.scrollTop()>a.toggleBottom+u.tolerance},h=function(t){return t.pageX-n.scrollLeft()<a.menuLeft-u.tolerance||t.pageX-n.scrollLeft()>a.menuRight+u.tolerance||t.pageY-n.scrollTop()<a.menuTop-u.tolerance||t.pageY-n.scrollTop()>a.menuBottom+u.tolerance},d=function(t){return t.find(".hovermenu-hover").length>0
},f=function(t){var e=c(t),i=h(t),n=d(o);e&&i&&!n&&p()},p=function(){o.hide(),r.removeClass("hovermenu-hover"),Config.$body.unbind("mousemove."+r[0].id,f),r.trigger("hovermenu.close",[o])},m=function(){var t={},e=!1,i=r.offset(),n="static"===u.container_position?r.offset().top:0,s="bottom"===u.vertical_alignment?r.outerHeight()+n:n,l="static"===u.container_position?r.offset().left:r.position().left;switch(u.alignment){case"corner_left":e=l-o.outerWidth();break;case"right":e=l+r.outerWidth()-o.outerWidth();break;case"center":e=l-Math.abs(r.outerWidth()-o.outerWidth())/2,"static"!==u.container_position&&(e+=r.cssToInt("margin-left"));break;case"left":e=l;break;default:e=l}u.submenu===!0&&(s="static"==u.container_position?n:r.position().top+r.outerHeight(),e="right"==u.submenu_alignment?l+r.outerWidth():l-o.outerWidth(),s+=u.submenu_top_offset),o.css({left:e+"px",top:s+"px"}),t=o.offset(),a={menuLeft:t.left,menuRight:t.left+o.outerWidth(),menuTop:t.top,menuBottom:t.top+o.outerHeight(),toggleLeft:i.left,toggleRight:i.left+r.outerWidth(),toggleTop:i.to,toggleBottom:i.top+r.outerHeight()}},g=function(){o.show(),r.addClass("hovermenu-hover"),(!a||u.always_refresh)&&m(),Config.$body.bind("mousemove."+r[0].id,f),r.trigger("hovermenu.open",[o])};this.id||(this.id="tooltip-hovermenu-"+s+"-"+Math.round(1e5*Math.random())),l.length&&""==l.html()&&l.remove(),u.submenu===!0&&r.addClass("hovermenu-has_submenu"),r.hasClass("onclick")?r.click(g):r.mouseover(g),this.setCoords=m,this.closeAction=p,t(window).bind("resize",function(){a=!1}),"tooltip"==u.mode&&o.wrapInner('<div class="tooltip-content drop-shadow" />').append(t('<div class="tooltip-nub tooltip-nub-top tooltip-nub-top-image arrow" />'))}})}}(jQuery),define("jquery/plugins/jquery.hovermenu",function(){}),function(t){function e(e,n){var s,o=this,r=t(e),a=t('<div class="fg-menu-container ui-widget ui-widget-content drop-shadow"></div>');this.menuOpen=!1,this.menuExists=!1,this.container=a;var l={content:null,width:180,maxHeight:180,positionOpts:{posX:"left",posY:"bottom",offsetX:0,offsetY:0,directionH:"right",directionV:"down",detectH:!0,detectV:!0,linkToFront:!1},showSpeed:200,containerClass:"",callerOnState:"ui-state-active",loadingState:"ui-state-loading",linkHover:"ui-state-hover",linkHoverSecondary:"li-hover",crossSpeed:200,crumbDefaultText:"Choose an option:",backLink:!0,backLinkText:"Back",flyOut:!1,flyOutOnState:"ui-state-default",nextMenuLink:"ui-icon-triangle-1-e",topLinkText:"All",nextCrumbLink:"ui-icon-carat-1-e"},u=!1;"auto"==n.width&&(u=!0,delete n.width);var c=t.extend(!0,l,n);if(null!==c.content)a.append(c.content);else{if(!r.siblings(".menu-button-items").length)return;var h=r.siblings(".menu-button-items");a.append(h.html()),u===!0&&(t.browser.opera&&h.show(),c.width=h.css("width"),t.browser.opera&&h.hide())}var d=function(){t.each(i,function(t){i[t].menuOpen&&i[t].kill()})};this.kill=function(){r.removeClass(c.loadingState).removeClass("fg-menu-open").removeClass(c.callerOnState),a.find("li").removeClass(c.linkHoverSecondary).find("a").removeClass(c.linkHover),c.flyOutOnState&&a.find("li a").removeClass(c.flyOutOnState),c.callerOnState&&r.removeClass(c.callerOnState),a.is(".fg-menu-ipod")&&o.resetDrilldownMenu(),a.is(".fg-menu-flyout")&&o.resetFlyoutMenu(),a.parent().hide(),r.trigger("menuClose",[s,r]),o.menuOpen=!1,t(document).unbind("click",d),t(document).unbind("keydown")},this.showLoading=function(){r.addClass(c.loadingState)},this.showMenu=function(){d(),o.menuExists||o.create(),r.addClass("fg-menu-open").addClass(c.callerOnState),a.parent().show().click(function(){o.kill()}),s=a.hide().slideDown(c.showSpeed).find(".fg-menu:eq(0)"),r.trigger("menuOpen",[s,r]),a.parent().clonePosition(r),o.menuOpen=!0,r.removeClass(c.loadingState),t(document).click(d),t(document).keydown(function(e){var i;""!=e.which?i=e.which:""!=e.charCode?i=e.charCode:""!=e.keyCode&&(i=e.keyCode);var n=t(e.target).parents("div").is(".fg-menu-flyout")?"flyout":"ipod";switch(i){case 37:return"flyout"==n&&(t(e.target).trigger("mouseout"),t("."+c.flyOutOnState).size()>0&&t("."+c.flyOutOnState).trigger("mouseover")),"ipod"==n&&(t(e.target).trigger("mouseout"),t(".fg-menu-footer").find("a").size()>0&&t(".fg-menu-footer").find("a").trigger("click"),t(".fg-menu-header").find("a").size()>0&&t(".fg-menu-current-crumb").prev().find("a").trigger("click"),t(".fg-menu-current").prev().is(".fg-menu-indicator")&&t(".fg-menu-current").prev().trigger("mouseover")),!1;case 38:if(t(e.target).is("."+c.linkHover)){var s=t(e.target).parent().prev().find("a:eq(0)");s.size()>0&&(t(e.target).trigger("mouseout"),s.trigger("mouseover"))}else a.find("a:eq(0)").trigger("mouseover");return!1;case 39:return t(e.target).is(".fg-menu-indicator")&&("flyout"==n?t(e.target).next().find("a:eq(0)").trigger("mouseover"):"ipod"==n&&(t(e.target).trigger("click"),setTimeout(function(){t(e.target).next().find("a:eq(0)").trigger("mouseover")},c.crossSpeed))),!1;case 40:if(t(e.target).is("."+c.linkHover)){var o=t(e.target).parent().next().find("a:eq(0)");o.size()>0&&(t(e.target).trigger("mouseout"),o.trigger("mouseover"))}else a.find("a:eq(0)").trigger("mouseover");return!1;case 27:d();break;case 13:t(e.target).is(".fg-menu-indicator")&&"ipod"==n&&(t(e.target).trigger("click"),setTimeout(function(){t(e.target).next().find("a:eq(0)").trigger("mouseover")},c.crossSpeed))}})},this.create=function(){if(a.addClass(c.containerClass).css({width:c.width}).appendTo("body").find("ul:first").not(".fg-menu-breadcrumb").addClass("fg-menu"),a.find("ul").attr("role","menu").eq(0).attr("aria-activedescendant","active-menuitem").attr("aria-labelledby",r.attr("id")),a.find("li").attr("role","menuitem"),a.find("li:has(ul)").attr("aria-haspopup","true").find("ul").attr("aria-expanded","false"),a.find("a").attr("tabindex","-1"),a.find("li").addClass("menuitem").filter(":first").addClass("menuitem-first").end().filter(":last").addClass("menuitem-last"),a.find("ul").size()>1?c.flyOut?o.flyout(a,c):o.drilldown(a,c):a.find("a").click(function(){o.chooseItem(this)}),c.linkHover){var e=a.find(".fg-menu li a");e.hover(function(){t(this);t("."+c.linkHover).removeClass(c.linkHover).blur().parent().removeAttr("id"),t(this).addClass(c.linkHover).focus().parent().attr("id","active-menuitem")},function(){t(this).removeClass(c.linkHover).blur().parent().removeAttr("id")})}c.linkHoverSecondary&&a.find(".fg-menu li").hover(function(){t(this).siblings("li").removeClass(c.linkHoverSecondary),c.flyOutOnState&&t(this).siblings("li").find("a").removeClass(c.flyOutOnState),t(this).addClass(c.linkHoverSecondary)},function(){t(this).removeClass(c.linkHoverSecondary)}),o.setPosition(a,r,c),o.menuExists=!0},this.chooseItem=function(e){$item=t(e),$item.trigger("menuChooseItem",[$item,s,r]),o.kill()}}var i=[];t.fn.filamentmenu=function(n){var s=this,o=new e(s,n);i.push(o),t(this).mousedown(function(){o.menuOpen||o.showLoading()}).click(function(){return o.menuOpen===!1?o.showMenu():o.kill(),!1}).data("menu",o)},t.fn.menu=t.fn.menu||t.fn.filamentmenu,e.prototype.flyout=function(e,i){var n=this;this.resetFlyoutMenu=function(){var t=e.find("ul ul");t.removeClass("ui-widget-content").hide()},e.addClass("fg-menu-flyout").find("li:has(ul)").each(function(){var n,s,o=e.width(),r=t(this).find("ul");r.css({left:o,width:o}).hide(),t(this).find("a:eq(0)").addClass("fg-menu-indicator").html("<span>"+t(this).find("a:eq(0)").text()+'</span><span class="ui-icon '+i.nextMenuLink+'"></span>').hover(function(){clearTimeout(s);var e=t(this).next();fitVertical(e,t(this).offset().top)||e.css({top:"auto",bottom:0}),fitHorizontal(e,t(this).offset().left+100)||e.css({left:"auto",right:o,"z-index":999}),n=setTimeout(function(){e.addClass("ui-widget-content").show(i.showSpeed).attr("aria-expanded","true")},300)},function(){clearTimeout(n);var e=t(this).next();s=setTimeout(function(){e.removeClass("ui-widget-content").hide(i.showSpeed).attr("aria-expanded","false")},400)}),t(this).find("ul a").hover(function(){clearTimeout(s),t(this).parents("ul").prev().is("a.fg-menu-indicator")&&t(this).parents("ul").prev().addClass(i.flyOutOnState)},function(){s=setTimeout(function(){r.hide(i.showSpeed),e.find(i.flyOutOnState).removeClass(i.flyOutOnState)},500)})}),e.find("a").click(function(){return n.chooseItem(this),!1})},e.prototype.setPosition=function(e,i,n){var s,o,r=e,a=i,l={refX:a.offset().left,refY:a.offset().top,refW:a.getTotalWidth(),refH:a.getTotalHeight()},u=t('<div class="positionHelper"></div>');switch(u.css({position:"absolute",left:l.refX,top:l.refY,width:l.refW,height:l.refH}),r.wrap(u),n.positionOpts.posX){case"left":s=0;break;case"center":s=l.refW/2;break;case"right":s=l.refW}switch(n.positionOpts.posY){case"top":o=0;break;case"center":o=l.refH/2;break;case"bottom":o=l.refH}s+=n.positionOpts.offsetX,o+=n.positionOpts.offsetY,"up"==n.positionOpts.directionV?(r.css({top:"auto",bottom:o}),n.positionOpts.detectV&&!fitVertical(r)&&r.css({bottom:"auto",top:o})):(r.css({bottom:"auto",top:o}),n.positionOpts.detectV&&!fitVertical(r)&&r.css({top:"auto",bottom:o})),"left"==n.positionOpts.directionH?(r.css({left:"auto",right:s}),n.positionOpts.detectH&&!fitHorizontal(r)&&r.css({right:"auto",left:s})):(r.css({right:"auto",left:s}),n.positionOpts.detectH&&!fitHorizontal(r)&&r.css({left:"auto",right:s})),n.positionOpts.linkToFront&&a.clone().addClass("linkClone").css({position:"absolute",top:0,right:"auto",bottom:"auto",left:0,width:a.width(),height:a.height()}).insertAfter(r)}}(jQuery),jQuery.fn.getTotalWidth=function(){return $(this).width()+parseInt($(this).css("paddingRight"))+parseInt($(this).css("paddingLeft"))+parseInt($(this).css("borderRightWidth"))+parseInt($(this).css("borderLeftWidth"))},jQuery.fn.getTotalHeight=function(){return $(this).height()+parseInt($(this).css("paddingTop"))+parseInt($(this).css("paddingBottom"))+parseInt($(this).css("borderTopWidth"))+parseInt($(this).css("borderBottomWidth"))},Number.prototype.pxToEm=String.prototype.pxToEm=function(t){t=jQuery.extend({scope:"body",reverse:!1},t);var e,i=""==this?0:parseFloat(this),n=function(){var t=document.documentElement;return self.innerWidth||t&&t.clientWidth||document.body.clientWidth};if("body"==t.scope&&jQuery.browser.msie&&(parseFloat(jQuery("body").css("font-size"))/n()).toFixed(1)>0){var s=function(){return 16*(parseFloat(jQuery("body").css("font-size"))/n()).toFixed(3)};e=s()}else e=parseFloat(jQuery(t.scope).css("font-size"));var o=t.reverse===!0?(i*e).toFixed(2)+"px":(i/e).toFixed(2)+"em";return o},define("jquery/plugins/jquery.menu",function(){}),function(t){"use strict";var e={text:{fields:["input:text","input:file","input:password","textarea"],nots:[".ui-popupbubble",".dirty-form-ignore",".autocomplete_field",".textboxlist-bit-editable-input",".ui-textboxlist-bit-input",".textboxlist-hidden",".selectbubble"],css_rule:[],event:"focus"},textboxlist:{fields:["input.textboxlist-hidden"],nots:[".dirty-form-ignore"],css_rule:[],event:"focus"},"ui-textboxlist":{fields:[".ui-textboxlist-hidden-text"],nots:[".dirty-form-ignore"],css_rule:[],event:"onLoad"},"dirty-form-html":{fields:[".dirty-form-html"],nots:[".dirty-form-ignore"],css_rule:[],event:"onLoad"},autocomplete:{fields:["div.autocomplete .autocomplete_field"],nots:[".dirty-form-ignore"],css_rule:[],event:"onLoad",parent_rules:"div.autocomplete"},popupbubble:{fields:[".ui-popupbubble"],nots:[".dirty-form-ignore"],css_rule:[],event:"onLoad"},selectlist:{fields:[".selectlist_container"],nots:[".dirty-form-ignore",".selectlist_field"],css_rule:[],event:"selectmenuopen",parent_rules:"form"},selectbubble:{fields:["select.selectbubble"],nots:[".dirty-form-ignore",".selectlist_field"],css_rule:[],event:"selectmenuopen",parent_rules:"form"},checkbox:{fields:["input:checkbox"],nots:[".dirty-form-ignore"],css_rule:[],event:"customOver"},radio:{fields:["input:radio"],nots:[".dirty-form-ignore"],css_rule:[],event:"customOverName"},"color-swatch":{fields:["div.color-swatch"],nots:[".dirty-form-ignore"],css_rule:[],event:"mousedown"},select:{fields:["select"],nots:[".dirty-form-ignore",".selectbubble"],css_rule:[],event:"selectmenuopen"},"activatable-list":{fields:["ul.activatable-list"],nots:[".dirty-form-ignore"],css_rule:[],event:"loaded"}};t.each(e,function(i){t.each(this.fields,function(){var n=this;e[i].nots.length&&(n+=':not("'),t.each(e[i].nots,function(){n+=this+","}),e[i].nots.length&&(n=n.substr(0,n.length-1),n+='")'),e[i].css_rule.push(n)}),e[i].css_rule=e[i].css_rule.join(",")}),t.fn.dirtyForm=function(){return this.each(function(){var i=t(this);i.hasClass("dirtyForm")||i.addClass("dirtyForm").data("dirtyForm",{dirty:0,fields:[]}),t.each(e,function(e){e="autocomplete_remove"===e?"autocomplete":e;var n=this,s=function(){var s,o=t(this);o.data("dirtyForm")&&o.data("dirtyForm").configured||(s=o.parent(),"undefined"!=typeof n.parent_rules&&(s=o.closest(n.parent_rules)),t.fn.dirtyForm.configureField(o,i,e),t.fn.dirtyForm.setStartingValues(i,{$container:s,clean:!1}))};i.delegate(this.css_rule,this.event,s),i.delegate(this.css_rule,"dirtyForm.forceConfig",s),"onLoad"===this.event&&i.find(this.css_rule).trigger("onLoad")})})},t.fn.dirtyForm.setStartingValues=function(i,n){n=n||{};var s="undefined"!=typeof n.$container?n.$container:i,o="undefined"!=typeof n.clean?n.clean:!0,r="undefined"!=typeof n.configured?n.configured:!0,a={dirty:!1,configured:r};return s.find("input:hidden, input:text, input:file, input:password, textarea, select").not(e.text.nots.join(", ")).each(function(e,n){var s=t(n);s.data("dirtyForm",t.extend({},a,{original:s.val()})),o&&t.fn.dirtyForm.clean(i,s)}),s.find("input.textboxlist-hidden").each(function(e,n){var s=t(n);s.data("dirtyForm",t.extend({},a,{original:s.val()})),o&&t.fn.dirtyForm.clean(i,s)}),s.find(".ui-textboxlist-hidden-text").each(function(e,n){var s=t(n);s.data("dirtyForm",t.extend({},a,{original:s.val()})),o&&t.fn.dirtyForm.clean(i,s)}),s.find(".autocomplete_field").each(function(e,i){var n=t(i),r=n.closest("div.autocomplete");r.data("dataLoaded")===!0||"ajax"===r.autocomplete("option","data_src")?n.data("dirtyForm",t.extend({},a,{original:r.autocomplete("delimited")})):r.bind("dataLoaded",function(){n.data("dirtyForm",t.extend({},a,{original:r.autocomplete("delimited")}))}),o&&t.fn.dirtyForm.clean(s,n)}),s.find(".ui-popupbubble").each(function(e,i){var n=t(i);n.data("dirtyForm",t.extend({},a,{original:n.popupbubble("value")})),o&&t.fn.dirtyForm.clean(s,n)}),s.find(".selectlist_container").each(function(e,i){var n=t(i);n.data("dataLoaded")===!0?n.data("dirtyForm",t.extend({},a,{original:n.selectlist("delimited")})):n.bind("dataLoaded",function(){n.data("dirtyForm",t.extend({},a,{original:n.selectlist("delimited")}))})}),s.find("select.selectbubble").each(function(e,i){var n=t(i);n.data("dirtyForm",t.extend({},a,{original:n.selectbubble("value")}))}),s.find("ul.activatable-list").each(function(e,i){var n=t(i);n.data("dirtyForm",t.extend({},a,{original:n.find("li.active").pluck("id").join("|")})),o&&t.fn.dirtyForm.clean(s,n)}),s.find("input:checkbox, input:radio").each(function(e,i){var n=t(i);n.data("dirtyForm",t.extend({},a,{original:n.is(":checked")})),o&&t.fn.dirtyForm.clean(s,n)}),s.find(".dirty-form-html").each(function(e,i){var n=t(i);n.data("dirtyForm",t.extend({},a,{original:n.html()})),o&&t.fn.dirtyForm.clean(s,n)}),s.find(".color-swatch").each(function(e,i){var n=t(i);n.data("dirtyForm",t.extend({},a,{original:n.css("background-color")})),o&&t.fn.dirtyForm.clean(s,n)}),o&&(i.data("dirtyForm").dirty=0),!0},t.fn.dirtyForm.dirty=function(t,e){if(!e.data("dirtyForm").dirty){e.addClass("dirtyField").data("dirtyForm").dirty=!0;var i=t.data("dirtyForm").dirty+1;t.data("dirtyForm").dirty=i,e.trigger("fieldDirty.dirtyForm").trigger("fieldChange.dirtyForm",[i,"dirty",e]),t.trigger("formDirty.dirtyForm",[e]).trigger("formChange.dirtyForm",[i,"dirty",e])}},t.fn.dirtyForm.clean=function(t,e){if(e.data("dirtyForm")&&e.data("dirtyForm").dirty){e.removeClass("dirtyField").data("dirtyForm").dirty=!1;var i=t.data("dirtyForm").dirty-1;t.data("dirtyForm").dirty=i,e.trigger("fieldClean.dirtyForm").trigger("fieldChange.dirtyForm",[i,"clean",e]),t.trigger("formClean.dirtyForm",[e]).trigger("formChange.dirtyForm",[i,"clean",e])}},t.fn.dirtyForm.configureField=function(e,i,n){var s,o,r=i.data("dirtyForm").fields;switch(r.push(e),i.data("dirtyForm").fields=r,n){case"text":e.bind("keyup",function(){e.val()!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"selectbubble":e.bind("bubblevalue",function(){e.selectbubble("value")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"select":e.bind("change",function(){e.val()!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)}),e.bind("keyup",function(){e.val()!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"checkbox":e.bind("change",function(){e.is(":checked")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)}),e.bind("keyup",function(){e.is(":checked")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"radio":e.bind("change",function(){t("[name="+e.attr("name")+"]").each(function(e,n){s=t(n),s.is(":checked")!==s.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,s):t.fn.dirtyForm.clean(i,s)})}),e.bind("keyup",function(){t("[name="+e.attr("name")+"]").each(function(e,n){s=t(n),s.is(":checked")!==s.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,s):t.fn.dirtyForm.clean(i,s)})});break;case"autocomplete":o=e.closest("div.autocomplete"),o.bind("toggleSelection",function(){("ajax"===o.autocomplete("option","data_src")||o.data("dataLoaded"))&&e.data("dirtyForm")&&(o.autocomplete("delimited")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e))});break;case"popupbubble":e.bind("bubblevalue",function(n,s){s!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"selectlist":e.bind("toggleSelection",function(){e.data("dataLoaded")&&e.data("dirtyForm")&&(e.selectlist("delimited")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e))});break;case"activatable-list":e.find("li").live("click",function(){e.find("li.active").pluck("id").join("|")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"ui-textboxlist":e.bind("textboxlist.change",function(){e.val()!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"dirty-form-html":e.bind("html.change",function(){e.html()!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)});break;case"color-swatch":e.bind("colorpicker.close",function(){e.css("background-color")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)}),e.bind("colorpicker.revert",function(){e.css("background-color")!==e.data("dirtyForm").original?t.fn.dirtyForm.dirty(i,e):t.fn.dirtyForm.clean(i,e)})}},t.fn.dirtyForm.getValues=function(e){function i(t){return"string"==typeof t&&(t=t.replace(/[\x01-\x1F]/g,"")),t}var n={};return e.find("input[type=text], input[type=file], input[type=password], textarea, select, input[type=hidden]").not(".dirty-form-ignore").each(function(e,s){var o=t(s);o.is(".autocomplete_field, .textboxlist-bit-editable-input, .ui-textboxlist-bit-input, .selectlist_field, .selectbubble")||(n[s.id]=o.is("textarea")?o.val():i(o.val()))}),e.find(".textboxlist-hidden").not(".dirty-form-ignore").each(function(e,s){n[s.id]=i(t(s).val().replace(/,/g,"|"))}),e.find(".ui-textboxlist-hidden-text").not(".dirty-form-ignore").each(function(e,s){n[s.id]=i(t(s).val().replace(/,/g,"|"))}),e.find("div.autocomplete .autocomplete_field").not(".dirty-form-ignore").each(function(e,s){n[s.name]=i(t(s).closest(".form-item.autocomplete").autocomplete("delimited"))}),e.find("input:checkbox").not(".dirty-form-ignore").each(function(e,i){n[i.id]=t(i).is(":checked")?i.value:"0"}),e.find("input:radio").not(".dirty-form-ignore").each(function(e,i){t("[name="+t(i).attr("name")+"]").each(function(e,i){var s=t(i);s.is(":checked")&&(n[i.name]=s.val())})}),e.find(".selectlist_container").not(".dirty-form-ignore").each(function(e,s){n[s.id]=i(t(s).selectlist("delimited"))}),e.find("select.selectbubble").not(".dirty-form-ignore").each(function(e,s){n[s.id]=i(t(s).selectbubble("value"))}),e.find(".ui-popupbubble").not(".dirty-form-ignore").each(function(e,s){n[s.id]=i(t(s).popupbubble("value"))}),e.find(".dirty-form-html").not(".dirty-form-ignore").each(function(e,i){var s=t(i);n[i.id]=s.html()}),delete n[""],t.each(n,function(e,i){n[e]=t.trim(i)}),n},t.fn.dirtyForm.resetValues=function(e){e.find("input:checkbox").not(".dirty-form-ignore").each(function(e,i){var n=t(i),s=n.data("dirtyForm");"undefined"!=typeof s&&n.changeInput(s.original?"check":"uncheck")}),e.find("input:radio").not(".dirty-form-ignore").each(function(e,i){t("[name="+t(i).attr("name")+"]").each(function(e,i){var n=t(i),s=n.data("dirtyForm");"undefined"!=typeof s&&n.changeInput(s.original?"check":"uncheck")})})},t.fn.dirtyForm.getFields=function(e){var i=t("");return i=i.add(e.find("input[type=text], input[type=file], input[type=password], textarea, select, input[type=hidden]").not(".dirty-form-ignore")),i=i.add(e.find(".textboxlist-hidden").not(".dirty-form-ignore")),i=i.add(e.find(".ui-textboxlist-hidden-text").not(".dirty-form-ignore")),i=i.add(e.find("div.autocomplete .autocomplete_field").not(".dirty-form-ignore")),i=i.add(e.find("input:checkbox").not(".dirty-form-ignore")),i=i.add(e.find("input:radio").not(".dirty-form-ignore")),i=i.add(e.find(".selectlist_container").not(".dirty-form-ignore")),i=i.add(e.find(".dirty-form-html").not(".dirty-form-ignore")),i=i.add(e.find(".ui-popupbubble").not(".dirty-form-ignore"))}}(jQuery),define("jquery/plugins/jquery.dirtyForm",function(){}),function(t){"function"==typeof define&&define.amd?define("jquery/plugins/jquery.validation",["jquery"],t):t.call(this,jQuery)}(function(t){"use strict";return t.extend(t.fn,{setValidationRules:function(e){var i=function(){var t,i=this.className.split(" ");for(t=0;t<i.length;++t)i[t].match(/validate\[[^\]+]/)&&(i[t]="validate["+e.join(",")+"]");this.className=i.join(" ")};t.each(this,i)},setValidationRequired:function(e){var i=function(){var t,i=this.className.split(" ");for(t=0;t<i.length;++t)i[t].match(/validate\[[^\]+]/)&&(i[t]=e?i[t].replace("optional","required"):i[t].replace("required","optional"));this.className=i.join(" ")};t.each(this,i)},validation:function(e){e=t.extend({promptPosition:"topRight",success:!1,scrolling:!0,failure:!1,ajaxSuccessValidCheck:function(t){return 1===t.valid||"yes"===t.valid}},e);var i=t(this).first(),n=(i.find("[class*=validate]").not("a"),15),s=function(e){var i=e.target;i.value&&(i.value=t.trim(i.value)),t.validation.check(t(i),2)},o=function(i,s){var o=t(document.createElement("div")),r=t(document.createElement("div")),a=t(document.createElement("div")),l=i,u=!1,c=!1,h=!1,d=!1,f=!1,p=!1,m=t(window).width(),g=!1,v=!1,y=!1,_=i,b=i.prop("type"),w="radio"===b||"checkbox"===b,x=w?"name":"id";return i.hasClass("autocomplete")&&(i=i.find("input").first()),y=t(".formError."+i.attr(x)),y.length&&y.remove(),o.addClass("formError").addClass(i.attr(x)),r.addClass("formErrorContent").addClass("drop-shadow"),t("body").append(o),o.append(r),a.addClass("formErrorArrow"),o.append(a),("bottomLeft"===e.promptPosition||"bottomRight"===e.promptPosition)&&(a.addClass("formErrorArrowBottom"),a.html('<div class="line1">&nbsp;</div><div class="line2">&nbsp;</div><div class="line3">&nbsp;</div><div class="line4">&nbsp;</div><div class="line5">&nbsp;</div><div class="line6">&nbsp;</div><div class="line7">&nbsp;</div><div class="line8">&nbsp;</div>')),("topLeft"===e.promptPosition||"topRight"===e.promptPosition)&&a.html('<div class="line8">&nbsp;</div><div class="line7">&nbsp;</div><div class="line6">&nbsp;</div><div class="line5">&nbsp;</div><div class="line4">&nbsp;</div><div class="line3">&nbsp;</div><div class="line2">&nbsp;</div><div class="line1">&nbsp;</div>'),r.html("<ul>"+s+"</ul>"),w&&(_=t("input").filter("[name="+i.attr("name")+"]").first()),l=t.validation.getVisibleEl(_),u=l.offset().top,c=l.offset().left,h=l.width(),f=o.height(),"topRight"===e.promptPosition?(c+=h-30,u+=-f-10):"topLeft"===e.promptPosition?u+=-f-10:"centerRight"===e.promptPosition?c+=h+13:"bottomLeft"===e.promptPosition?(d=l.height(),u=u+d+15):"bottomRight"===e.promptPosition&&(d=l.height(),c+=h-30,u+=d+15),p=o.width(),g=p+c,-1!==e.promptPosition.indexOf("Right")&&(g>m&&(v=g-m,c-=v,a.css("left",a.cssToInt("left")+v)),c+p===m&&(c-=n,a.css("left",a.cssToInt("left")+n))),o.css({top:u,left:c,opacity:0}).data("validationErrrorInput",i),o.animate({opacity:1},function(){return!0})},r=function(i,n){var s=".formError."+i.attr("id"),o=i,r=t(s),a=!1,l=!1,u=!1,c=!1,h=!1;r.find(".formErrorContent").html("<ul>"+n+"</ul>"),o=t.validation.getVisibleEl(i),a=o.offset().top,l=r.height(),"bottomLeft"===e.promptPosition||"bottomRight"===e.promptPosition?(h=o.height(),a=a+h+15):"centerRight"===e.promptPosition?(u=o.offset().left,c=o.width(),u+=c+13):("topLeft"===e.promptPosition||"topRight"===e.promptPosition)&&(a=a-l-10)};return i.bind("submit",function(){return i.trigger("validation.beforesubmit"),e.$submit&&e.$submit.hasClass("form-button-disabled")?!1:t.validation.submitValidation(i,e.scrolling)!==!1?("function"==typeof e.failure&&e.failure(),i.trigger("validation.aftersubmit"),!1):"function"==typeof e.success?(e.success(),i.trigger("validation.aftersubmit"),!1):void i.trigger("validation.aftersubmit")}),i.delegate("input[class*=validate][type=checkbox]","click",s),i.delegate("select[class*=validate], input[class*=validate][type!=checkbox], textarea[class*=validate]","blur selectmenuchange",s),i.delegate(".autocomplete[class*=validate]","toggleSelection",s),i.data("validation",{updatePromptText:r,buildPrompt:o,settings:e}),i}}),t.extend(t.fn.validation,{resetErrorPositions:function(){var e=t(".formError"),i=t(this);return e.each(function(){var e=t(this),n=e.data("validationErrrorInput"),s=e.find("ul").html();n&&n.length&&(e.remove(),e=t.validation.buildPrompt(i,n,s))}),e},removeAllErrors:function(){t(".formError").remove()}}),t.validation=t.validation||{},t.extend(t.validation,{rules:{Generic:{regex:/^[^<>]+$/,alertText:"This field may not contain less than signs (&lt) or greater than signs (&gt;)"},AlphaNumeric:{regex:/^[0-9A-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F]+$/,alertText:"This field must contain only alphanumeric characters"},Alpha:{regex:/^[A-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F]+$/,alertText:"This field must contain only alpha characters"},AlphaDash:{regex:/^[A-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F\-]+$/,alertText:"This field must contain only alpha characters or dashes"},ANDash:{regex:/^[0-9A-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F\-]+$/,alertText:"This field must contain only alphanumeric characters or dashes"},ANUnder:{regex:/^[0-9A-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F_]+$/,alertText:"This field must contain only alphanumeric characters with or without underscores"},ANUSpace:{regex:/^[0-9A-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F_ ]+$/,alertText:"This field must contain only alphanumeric characters with or without underscores and spaces"},ANEmail:{regex:/^([_\dA-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F\-]+|[A-Za-z0-9_\.\+\-]+@[A-Za-z0-9_\.\-]+\.[A-Za-z0-9_\-]+)$/,alertText:"This field must contain a valid username or email"},Integer:{regex:/^\-?\d+$/,alertText:"This field must only contain numbers, without any spaces"},CreditCardNumber:{regex:/^\d{13,16}$/,alertText:"This field must only contain numbers, without any spaces or dashes"},Decimal:{regex:/^\-?\d+(\.\d+)?$/,alertText:"This field must be a valid decimal number"},Date:{regex:/^\d{1,2}\-\d{1,2}-\d{4}( \d{2}:\d{2}:\d{2})?$/,alertText:"This field must be a valid date"},SqlDate:{regex:/^\d{4}\-\d{2}\-\d{2}$/,alertText:"This field must be a valid date"},SqlDateTime:{regex:/^\d{4}\-\d{2}\-\d{2}\s\d{2}\:\d{2}\:\d{2}$/,alertText:"This field must be a valid datetime"},SlashDate:{regex:/^\d{1,2}\/\d{1,2}\/\d{4}$/,alertText:"This field must be a valid date"},Email:{regex:/^[A-Za-z0-9_\.\+\-]+@[A-Za-z0-9_\.\-]+\.[A-Za-z0-9_\-]+$/,alertText:"This field must be a valid email address"},Name:{regex:/^[\wA-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F\'. \-]{2,50}$/,alertText:"This field must be a valid name"},Username:{regex:/^[A-Za-z0-9_\-]+$/,alertText:"This field contains invalid characters. Please use only letters, numbers, dash or underscore characters."},Password:{regex:/^\S{6,32}$/,alertText:"This field must be between 6 and 32 characters"},Address:{regex:/^[\w0-9A-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F# \' \.\,\&\-]+$/,alertText:"This field must be a valid address"},City:{regex:/^[\wA-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F \' \. \-]+$/,alertText:"This field must be a valid city"},Province:{regex:/^[\wA-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F ]+$/,alertText:"This field must be a valid province"},IntZip:{regex:/^[A-Za-z0-9#\. \-]+$/,alertText:"This field must be a valid zipcode"},UsZip:{regex:/^\d{5}(\-\d{4})?$/,alertText:"This field must be a valid US zipcode"},Country:{regex:/^[\wA-Za-z\u00C0-\u00FF\u0100-\u0259\u0386\u0388-\u04E9\u05D0-\u06D3\u1E80-\u200F\'. \-]{2,50}$/,alertText:"This field must be a valid country"},IntPhone:{regex:/^[0-9\+ \(\)\#\-]+$/,alertText:"This field must be a valid phone"},UsPhone:{regex:/^\d{3}\-\d{3}\-\d{4}$/,alertText:"This field must be a valid US phone"},PicExt:{regex:/^((jpg)|(jpeg)|(png)|(gif)){1}$/,alertText:"This field must be a valid image extension"},VideoExt:{regex:/^((mpg)|(mpeg)|(mov)|(avi)|(dv)|(qt)|(asf)|(flv)){1}$/,alertText:"This field must be a valid video extension"},Url:{regex:/^(http(?:s)?:\/\/|www.)[^<>]*$/,alertText:"This field must be a URL starting with http:// or www."},UrlExt:{regex:/^((?:https?):\/\/)?(?:(?:(?:[\w\.\-\+!$&\'\(\)*\+,;=_]|%[0-9a-f]{2})+:)*(?:[\w\.\-\+%!$&\'\(\)*\+,;=]|%[0-9a-f]{2})+@)?(?:[A-Za-z0-9_\-]+\.)(?:[A-Za-z0-9\-\._])+(?::\d+)?(?:[\/|\?](?:[\w#!:\.\?\+=&@$\'~*,;_\/\(\)\[\]\-]|%[0-9a-f]{2})*)?$/,alertText:"This field must be a valid URL"},Html:{regex:/<((?!\/?span|\/?h1|\/?h2|\/?h3|\/?h4|\/?h5|\/?h6|\/?a|\/?b|\/?ol|\/?ul|\/?li|\/?i|\/?em(?!bed)|\/?p|\/?div|\/?br|\/?unb|\/?uni|\/?\s|\/?\>)[^\>]*\>)/gi,alertText:"This field must be properly formed HTML"},Twitter:{regex:/^[A-Za-z0-9_\-]{1,15}$/,alertText:"This field must be a valid twitter username (without the @ character)"},required:{regex:null,alertText:"This field is required",alertTextCheckboxMultiple:"Please select an option",alertTextCheckboxe:"This checkbox is required"},length:{regex:null,alertText:"Between ",alertText2:" and ",alertText3:" characters allowed"},minCheckbox:{regex:null,alertText:"Checks allowed Exceeded"},confirm:{regex:null,alertText:"Your field is not matching"}},buildPrompt:function(t,e,i){return t.data("validation").buildPrompt(e,i)},handleResponse:function(e,i){var n,s=e.data("validation"),o=i.$message_container||e;if(i.data){if(i.data.messages&&"function"==typeof t.fn.showMessages&&o.showMessages(i.data.messages,i.message_params),i.data.errors&&(t.each(i.data.errors,function(n){t("#"+n).length?s.buildPrompt(t("#"+n),i.data.errors[n]):s.buildPrompt(e,i.data.errors[n])}),s.settings.scrolling&&(n=t(".formError").first().offset().top-200,t.Core.scrollElement().animate({scrollTop:n},1100))),"undefined"!=typeof i.data.destination&&i.data.destination)return e.trigger("validation.redirecting",[i.data]),window.location.href=i.data.destination,!1;
if(s.settings.ajaxSuccessValidCheck(i.data))return e.trigger("validation.success",[i.data]),!0}return e.trigger("validation.failure",[i.data]),"function"==typeof i.failure?(i.failure(i.data),!1):!0},getVisibleEl:function(t){return"object"==typeof t.data("selectmenu")&&(t=t.selectmenu("getNewElement")),"object"==typeof t.data("autocomplete")&&(t=t.autocomplete("field")),(!t.is(":visible")||"hidden"===t.css("visibility")||t.parent().hasClass("custom-checkbox")||t.parent().hasClass("custom-radio"))&&(t=t.parent().closest(":visible")),t},check:function(e,i){var n,s,o,r=e.attr("class"),a=/validate\[(.*)\]/,l=a.exec(r);return l||t.Core.exception("No rules for ",r,e),n=l[1],s=/\W+/,o=n.split(s),t.validation.validateRules(e,o,i)},validateRules:function(e,i,n){var s=e.data("defaultValue"),o=e.closest("form"),r="",a=e.attr("id"),l=e.attr("name"),u=e[0],c=t(u).prop("type"),h=!1,d=!1,f=0,p=function(){var n="text"===c||"password"===c||"textarea"===c,s="radio"===c||"checkbox"===c,o="alertTextCheckboxe";return n?e.val()?!0:(h=!0,r+="<li>"+t.validation.rules[i[f]].alertText+"</li>",!1):s?t("input[name="+l+"]:checked").length?!0:(h=!0,t("input[name="+l+"]").length>1&&(o="alertTextCheckboxMultiple"),r+="<li>"+t.validation.rules[i[f]][o]+"</li>",!1):"SELECT"===u.tagName?e.val()?!0:(h=!0,r+="<li>"+t.validation.rules[i[f]].alertText+"</li>",!1):e.hasClass("autocomplete")?e.autocomplete("delimited")?!0:(h=!0,r+="<li>"+t.validation.rules[i[f]].alertText+"</li>",!1):void 0},m=function(){var i=t.validation.rules[d],n=!1,s=e.val();i&&"object"==typeof i&&(e.hasClass("autocomplete")&&(s=e.autocomplete("delimited")),n=i.regex,n&&(h="Html"===d?n.test(s):!n.test(s),h&&(r+="<li>"+i.alertText+"</li>")))},g=function(){var n=i[f+1],s=t("label[for="+n+"]"),o=s.length?"The "+s.text().toLowerCase()+"s you entered do not match":t.validation.rules.confirm.alertText;e.val()!==t("#"+n).val()&&(h=!0,r+="<li>"+o+"</li>")},v=function(){var n=+i[f+1],s=+i[f+2],o=e.val().length;(n>o||o>s)&&(h=!0,r+="<li>"+t.validation.rules.length.alertText+n+t.validation.rules.length.alertText2+s+t.validation.rules.length.alertText3+"</li>")},y=function(){var e=+i[f+1],n=t("input[name="+l+"]:checked").length;n>e&&(h=!0,r+="<li>"+t.validation.rules.minCheckbox.alertText+"</li>")};for(s===e.val()&&e.val(""),f;f<i.length;++f)switch(d=i[f]){case"optional":if(!e.val())return t.validation.closePrompt(e),h;break;case"required":p()||(f=i.length);break;case"length":v();break;case"minCheckbox":y();break;case"confirm":g();break;default:m()}return h===!0?(e.trigger("validation.inputfailure",[r]),1===n&&(e.closest("form").trigger("saveFailure"),t("div.formError."+a).length?o.data("validation").updatePromptText(e,r):o.data("validation").buildPrompt(e,r))):t.validation.closePrompt(e),s&&""===e.val()&&e.val(s),h||!1},closePrompt:function(e){e=t(e),e.hasClass("autocomplete")&&(e=e.autocomplete("field"));var i=e.prop("type"),n="radio"===i||"checkbox"===i?"name":"id",s=t(".formError."+e.attr(n));s.fadeTo("fast",0,function(){s.remove()})},submitValidation:function(e,i){var n=!1,s=!1,o="";return e.find("[class*=validate]:not(a)").each(function(){var e=t.validation.check(t(this),1);e&&(n=!0)}),n?(i&&(s=t(".formError").first(),s.length&&(o=s.offset().top-200,t.Core.scrollElement().animate({scrollTop:o},1100))),!0):!1}}),t.validation}),function(t){t.Jcrop=function(e,i){function n(t){return t+"px"}function s(t){return L.baseClass+"-"+t}function o(){return t.fx.step.hasOwnProperty("backgroundColor")}function r(e){var i=t(e).offset();return[i.left,i.top]}function a(t){return[t.pageX-j[0],t.pageY-j[1]]}function l(e){"object"!=typeof e&&(e={}),L=t.extend(L,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof L[e]&&(L[e]=function(){})})}function u(t,e){if(j=r(q),me.setCursor("move"===t?t:t+"-resize"),"move"===t)return me.activateHandlers(h(e),g);var i=de.getFixed(),n=d(t),s=de.getCorner(d(n));de.setPressed(de.getCorner(n)),de.setCurrent(s),me.activateHandlers(c(t,i),g)}function c(t,e){return function(i){if(L.aspectRatio)switch(t){case"e":i[1]=e.y+1;break;case"w":i[1]=e.y+1;break;case"n":i[0]=e.x+1;break;case"s":i[0]=e.x+1}else switch(t){case"e":i[1]=e.y2;break;case"w":i[1]=e.y2;break;case"n":i[0]=e.x2;break;case"s":i[0]=e.x2}de.setCurrent(i),pe.update()}}function h(t){var e=t;return ge.watchKeys(),function(t){de.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,pe.update()}}function d(t){switch(t){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(t){return function(e){return L.disabled?!1:"move"!==t||L.allowMove?(j=r(q),se=!0,u(t,a(e)),e.stopPropagation(),e.preventDefault(),!1):!1}}function p(t,e,i){var n=t.width(),s=t.height();n>e&&e>0&&(n=e,s=e/t.width()*t.height()),s>i&&i>0&&(s=i,n=i/t.height()*t.width()),ie=t.width()/n,ne=t.height()/s,t.width(n).height(s)}function m(t){return{x:t.x*ie,y:t.y*ne,x2:t.x2*ie,y2:t.y2*ne,w:t.w*ie,h:t.h*ne}}function g(){var t=de.getFixed();t.w>L.minSelect[0]&&t.h>L.minSelect[1]?(pe.enableHandles(),pe.done()):pe.release(),me.setCursor(L.allowSelect?"crosshair":"default")}function v(t){if(L.disabled)return!1;if(!L.allowSelect)return!1;se=!0,j=r(q),pe.disableHandles(),me.setCursor("crosshair");var e=a(t);return de.setPressed(e),pe.update(),me.activateHandlers(_,g),ge.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}function _(t){de.setCurrent(t),pe.update()}function b(){var e=t("<div></div>").addClass(s("tracker"));return H&&e.css({opacity:0,backgroundColor:"white"}),e}function w(t){Y.removeClass().addClass(s("holder")).addClass(t)}function C(t,e){function i(){window.setTimeout(_,h)}var n=t[0]/ie,s=t[1]/ne,o=t[2]/ie,r=t[3]/ne;if(!oe){var a=de.flipCoords(n,s,o,r),l=de.getFixed(),u=[l.x,l.y,l.x2,l.y2],c=u,h=L.animationDelay,d=a[0]-u[0],f=a[1]-u[1],p=a[2]-u[2],m=a[3]-u[3],g=0,v=L.swingSpeed;x=c[0],y=c[1],o=c[2],r=c[3],pe.animMode(!0);var _=function(){return function(){g+=(100-g)/v,c[0]=x+g/100*d,c[1]=y+g/100*f,c[2]=o+g/100*p,c[3]=r+g/100*m,g>=99.8&&(g=100),100>g?(T(c),i()):(pe.done(),"function"==typeof e&&e.call(ve))}}();i()}}function k(t){T([t[0]/ie,t[1]/ne,t[2]/ie,t[3]/ne]),L.onSelect.call(ve,m(de.getFixed())),pe.enableHandles()}function T(t){de.setPressed([t[0],t[1]]),de.setCurrent([t[2],t[3]]),pe.update()}function S(){return m(de.getFixed())}function E(){return de.getFixed()}function P(t){l(t),D()}function I(){L.disabled=!0,pe.disableHandles(),pe.setCursor("default"),me.setCursor("default")}function O(){L.disabled=!1,D()}function M(){pe.done(),me.activateHandlers(null,null)}function A(){Y.remove(),R.show(),t(e).removeData("Jcrop")}function F(t,e){pe.release(),I();var i=new Image;i.onload=function(){var n=i.width,s=i.height,o=L.boxWidth,r=L.boxHeight;q.width(n).height(s),q.attr("src",t),Q.attr("src",t),p(q,o,r),U=q.width(),B=q.height(),Q.width(U).height(B),le.width(U+2*ae).height(B+2*ae),Y.width(U).height(B),fe.resize(U,B),O(),"function"==typeof e&&e.call(ve)},i.src=t}function $(t,e,i){var n=e||L.bgColor;L.bgFade&&o()&&L.fadeTime&&!i?t.animate({backgroundColor:n},{queue:!1,duration:L.fadeTime}):t.css("backgroundColor",n)}function D(t){L.allowResize?t?pe.enableOnly():pe.enableHandles():pe.disableHandles(),me.setCursor(L.allowSelect?"crosshair":"default"),pe.setCursor(L.allowMove?"move":"default"),L.hasOwnProperty("trueSize")&&(ie=L.trueSize[0]/U,ne=L.trueSize[1]/B),L.hasOwnProperty("setSelect")&&(k(L.setSelect),pe.done(),delete L.setSelect),fe.refresh(),L.bgColor!=ue&&($(L.shade?fe.getShades():Y,L.shade?L.shadeColor||L.bgColor:L.bgColor),ue=L.bgColor),ce!=L.bgOpacity&&(ce=L.bgOpacity,L.shade?fe.refresh():pe.setBgOpacity(ce)),G=L.maxSize[0]||0,J=L.maxSize[1]||0,te=L.minSize[0]||0,ee=L.minSize[1]||0,L.hasOwnProperty("outerImage")&&(q.attr("src",L.outerImage),delete L.outerImage),pe.refresh()}var j,L=t.extend({},t.Jcrop.defaults),H=navigator.userAgent.match(/msie/i),N=!1;"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof i&&(i={}),l(i);var W={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},R=t(e),V=!0;if("IMG"==e.tagName){if(0!=R[0].width&&0!=R[0].height)R.width(R[0].width),R.height(R[0].height);else{var z=new Image;z.src=R[0].src,R.width(z.width),R.height(z.height)}var q=R.clone().removeAttr("id").css(W).show();q.width(R.width()),q.height(R.height()),R.after(q).hide()}else q=R.css(W).show(),V=!1,null===L.shade&&(L.shade=!0);p(q,L.boxWidth,L.boxHeight);var U=q.width(),B=q.height(),Y=t("<div />").width(U).height(B).addClass(s("holder")).css({position:"relative",backgroundColor:L.bgColor}).insertAfter(R).append(q);L.addClass&&Y.addClass(L.addClass);var Q=t("<div />"),X=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Z=t("<div />").width("100%").height("100%").css("zIndex",320),K=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=de.getFixed();L.onDblClick.call(ve,t)}).insertBefore(q).append(X,Z);V&&(Q=t("<img />").attr("src",q.attr("src")).css(W).width(U).height(B),X.append(Q)),N&&K.css({overflowY:"hidden"});var G,J,te,ee,ie,ne,se,oe,re,ae=L.boundary,le=b().width(U+2*ae).height(B+2*ae).css({position:"absolute",top:n(-ae),left:n(-ae),zIndex:290}).mousedown(v),ue=L.bgColor,ce=L.bgOpacity;j=r(q);var he=function(){function t(){var t,e={},i=["touchstart","touchmove","touchend"],n=document.createElement("div");try{for(t=0;t<i.length;t++){var s=i[t];s="on"+s;var o=s in n;o||(n.setAttribute(s,"return;"),o="function"==typeof n[s]),e[i[t]]=o}return e.touchstart&&e.touchend&&e.touchmove}catch(r){return!1}}function e(){return L.touchSupport===!0||L.touchSupport===!1?L.touchSupport:t()}return{createDragger:function(t){return function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,L.disabled?!1:"move"!==t||L.allowMove?(se=!0,u(t,a(e)),e.stopPropagation(),e.preventDefault(),!1):!1}},newSelection:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,v(t)},isSupported:t,support:e()}}(),de=function(){function t(t){t=r(t),p=d=t[0],m=f=t[1]}function e(t){t=r(t),c=t[0]-p,h=t[1]-m,p=t[0],m=t[1]}function i(){return[c,h]}function n(t){var e=t[0],i=t[1];0>d+e&&(e-=e+d),0>f+i&&(i-=i+f),m+i>B&&(i+=B-(m+i)),p+e>U&&(e+=U-(p+e)),d+=e,p+=e,f+=i,m+=i}function s(t){var e=o();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function o(){if(!L.aspectRatio)return l();var t,e,i,n,s=L.aspectRatio,o=L.minSize[0]/ie,r=L.minSize[1]/ne,c=L.maxSize[0]/ie,h=L.maxSize[1]/ne,g=p-d,v=m-f,y=Math.abs(g),_=Math.abs(v),b=y/_;return 0===c&&(c=10*U),0===h&&(h=10*B),s>b?(e=m,i=_*s,t=0>g?d-i:i+d,0>t?(t=0,n=Math.abs((t-d)/s),e=0>v?f-n:n+f):t>U&&(t=U,n=Math.abs((t-d)/s),e=0>v?f-n:n+f)):(t=p,n=y/s,e=0>v?f-n:f+n,0>e?(e=0,i=Math.abs((e-f)*s),t=0>g?d-i:i+d):e>B&&(e=B,i=Math.abs(e-f)*s,t=0>g?d-i:i+d)),t>d?(o>t-d?t=d+o:t-d>c&&(t=d+c),e=e>f?f+(t-d)/s:f-(t-d)/s):d>t&&(o>d-t?t=d-o:d-t>c&&(t=d-c),e=e>f?f+(d-t)/s:f-(d-t)/s),0>t?(d-=t,t=0):t>U&&(d-=t-U,t=U),0>e?(f-=e,e=0):e>B&&(f-=e-B,e=B),d==t&&f==e&&(0==d?t=o:d=t-o,0==f?e=r:f=e-r),u(a(d,f,t,e))}function r(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>U&&(t[0]=U),t[1]>B&&(t[1]=B),[t[0],t[1]]}function a(t,e,i,n){var s=t,o=i,r=e,a=n;return t>i&&(s=i,o=t),e>n&&(r=n,a=e),[s,r,o,a]}function l(){var t,e=p-d,i=m-f;return G&&Math.abs(e)>G&&(p=e>0?d+G:d-G),J&&Math.abs(i)>J&&(m=i>0?f+J:f-J),ee/ne&&Math.abs(i)<ee/ne&&(m=i>0?f+ee/ne:f-ee/ne),te/ie&&Math.abs(e)<te/ie&&(p=e>0?d+te/ie:d-te/ie),0>d&&(p-=d,d-=d),0>f&&(m-=f,f-=f),0>p&&(d-=p,p-=p),0>m&&(f-=m,m-=m),p>U&&(t=p-U,d-=t,p-=t),m>B&&(t=m-B,f-=t,m-=t),d>U&&(t=d-B,m-=t,f-=t),f>B&&(t=f-B,m-=t,f-=t),u(a(d,f,p,m))}function u(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var c,h,d=0,f=0,p=0,m=0;return{flipCoords:a,setPressed:t,setCurrent:e,getOffset:i,moveOffset:n,getCorner:s,getFixed:o}}(),fe=function(){function e(t,e){p.left.css({height:n(e)}),p.right.css({height:n(e)})}function i(){return s(de.getFixed())}function s(t){p.top.css({left:n(t.x),width:n(t.w),height:n(t.y)}),p.bottom.css({top:n(t.y2),left:n(t.x),width:n(t.w),height:n(B-t.y2)}),p.right.css({left:n(t.x2),width:n(U-t.x2)}),p.left.css({width:n(t.x)})}function o(){return t("<div />").css({position:"absolute",backgroundColor:L.shadeColor||L.bgColor}).appendTo(f)}function r(){d||(d=!0,f.insertBefore(q),i(),pe.setBgOpacity(1,0,1),Q.hide(),a(L.shadeColor||L.bgColor,1),pe.isAwake()?u(L.bgOpacity,1):u(1,1))}function a(t,e){$(h(),t,e)}function l(){d&&(f.remove(),Q.show(),d=!1,pe.isAwake()?pe.setBgOpacity(L.bgOpacity,1,1):(pe.setBgOpacity(1,1,1),pe.disableHandles()),$(Y,0,1))}function u(t,e){d&&(L.bgFade&&!e?f.animate({opacity:1-t},{queue:!1,duration:L.fadeTime}):f.css({opacity:1-t}))}function c(){L.shade?r():l(),pe.isAwake()&&u(L.bgOpacity)}function h(){return f.children()}var d=!1,f=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:o(),left:o().height(B),right:o().height(B),bottom:o()};return{update:i,updateRaw:s,getShades:h,setBgColor:a,enable:r,disable:l,resize:e,refresh:c,opacity:u}}(),pe=function(){function e(e){var i=t("<div />").css({position:"absolute",opacity:L.borderOpacity}).addClass(s(e));return X.append(i),i}function i(e,i){var n=t("<div />").mousedown(f(e)).css({cursor:e+"-resize",position:"absolute",zIndex:i}).addClass("ord-"+e);return he.support&&n.bind("touchstart.jcrop",he.createDragger(e)),Z.append(n),n}function o(t){var e=L.handleSize;return i(t,E++).css({opacity:L.handleOpacity}).width(e).height(e).addClass(s("handle"))}function r(t){return i(t,E++).addClass("jcrop-dragbar")}function a(t){var e;for(e=0;e<t.length;e++)O[t[e]]=r(t[e])}function l(t){var i,n;for(n=0;n<t.length;n++){switch(t[n]){case"n":i="hline";break;case"s":i="hline bottom";break;case"e":i="vline right";break;case"w":i="vline"}P[t[n]]=e(i)}}function u(t){var e;for(e=0;e<t.length;e++)I[t[e]]=o(t[e])}function c(t,e){L.shade||Q.css({top:n(-e),left:n(-t)}),K.css({top:n(e),left:n(t)})}function h(t,e){K.width(t).height(e)}function d(){var t=de.getFixed();de.setPressed([t.x,t.y]),de.setCurrent([t.x2,t.y2]),p()}function p(t){return S?g(t):void 0}function g(t){var e=de.getFixed();h(e.w,e.h),c(e.x,e.y),L.shade&&fe.updateRaw(e),S||y(),t?L.onSelect.call(ve,m(e)):L.onChange.call(ve,m(e))}function v(t,e,i){(S||e)&&(L.bgFade&&!i?q.animate({opacity:t},{queue:!1,duration:L.fadeTime}):q.css("opacity",t))}function y(){K.show(),L.shade?fe.opacity(ce):v(ce,!0),S=!0}function _(){C(),K.hide(),L.shade?fe.opacity(1):v(1),S=!1,L.onRelease.call(ve)}function w(){M&&Z.show()}function x(){return M=!0,L.allowResize?(Z.show(),!0):void 0}function C(){M=!1,Z.hide()}function k(t){oe===t?C():x()}function T(){k(!1),d()}var S,E=370,P={},I={},O={},M=!1;L.dragEdges&&t.isArray(L.createDragbars)&&a(L.createDragbars),t.isArray(L.createHandles)&&u(L.createHandles),L.drawBorders&&t.isArray(L.createBorders)&&l(L.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var A=b().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return he.support&&A.bind("touchstart.jcrop",he.createDragger("move")),X.append(A),C(),{updateVisible:p,update:g,release:_,refresh:d,isAwake:function(){return S},setCursor:function(t){A.css("cursor",t)},enableHandles:x,enableOnly:function(){M=!0},showHandles:w,disableHandles:C,animMode:k,setBgOpacity:v,done:T}}(),me=function(){function e(){le.css({zIndex:450}),he.support&&t(document).bind("touchmove.jcrop",r).bind("touchend.jcrop",l),d&&t(document).bind("mousemove.jcrop",n).bind("mouseup.jcrop",s)}function i(){le.css({zIndex:290}),t(document).unbind(".jcrop")}function n(t){return c(a(t)),!1}function s(t){return t.preventDefault(),t.stopPropagation(),se&&(se=!1,h(a(t)),pe.isAwake()&&L.onSelect.call(ve,m(de.getFixed())),i(),c=function(){},h=function(){}),!1}function o(t,i){return se=!0,c=t,h=i,e(),!1}function r(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,n(t)}function l(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,s(t)}function u(t){le.css("cursor",t)}var c=function(){},h=function(){},d=L.trackDocument;return d||le.mousemove(n).mouseup(s).mouseout(s),q.before(le),{activateHandlers:o,setCursor:u}}(),ge=function(){function e(){L.keySupport&&(o.show(),o.focus())}function i(){o.hide()}function n(t,e,i){L.allowMove&&(de.moveOffset([e,i]),pe.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function s(t){if(t.ctrlKey||t.metaKey)return!0;re=t.shiftKey?!0:!1;var e=re?10:1;switch(t.keyCode){case 37:n(t,-e,0);break;case 39:n(t,e,0);break;case 38:n(t,0,-e);break;case 40:n(t,0,e);break;case 27:L.allowSelect&&pe.release();break;case 9:return!0}return!1}var o=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}),r=t("<div />").css({position:"absolute",overflow:"hidden"}).append(o);return L.keySupport&&(o.keydown(s).blur(i),N||!L.fixedSupport?(o.css({position:"absolute",left:"-20px"}),r.append(o).insertBefore(q)):o.insertBefore(q)),{watchKeys:e}}();he.support&&le.bind("touchstart.jcrop",he.newSelection),Z.hide(),D(!0);var ve={setImage:F,animateTo:C,setSelect:k,setOptions:P,tellSelect:S,tellScaled:E,setClass:w,disable:I,enable:O,cancel:M,release:pe.release,destroy:A,focus:ge.watchKeys,getBounds:function(){return[U*ie,B*ne]},getWidgetSize:function(){return[U,B]},getScaleFactor:function(){return[ie,ne]},getOptions:function(){return L},ui:{holder:Y,selection:K}};return H&&Y.bind("selectstart",function(){return!1}),R.data("Jcrop",ve),ve},t.fn.Jcrop=function(e,i){var n;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),n=t.Jcrop(this,e),t.isFunction(i)&&i.call(n)}):(t(this).css({display:"block",visibility:"hidden"}),n=t.Jcrop(this,e),t.isFunction(i)&&i.call(n))}),this},t.Jcrop.Loader=function(e,i,n){function s(){r.complete?(o.unbind(".jcloader"),t.isFunction(i)&&i.call(r)):window.setTimeout(s,50)}var o=t(e),r=o[0];o.bind("load.jcloader",s).bind("error.jcloader",function(){o.unbind(".jcloader"),t.isFunction(n)&&n.call(r)}),r.complete&&t.isFunction(i)&&(o.unbind(".jcloader"),i.call(r))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:7,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),define("jquery/plugins/jquery.Jcrop",function(){}),$.ui.coreext={_selectFirst:function(t){var e;if(t&&t.length)for(e=0;e<t.length;e++)if($(t[e]).is(":visible")){$(t[e]).addClass("keySelection");break}},_selectLast:function(t){var e;if(t&&t.length)for(e=t.length-1;e>=0;e--)if($(t[e]).is(":visible")){$(t[e]).addClass("keySelection");break}},_decidePreviousKeySelection:function(t,e,i){var n,s,o,r=$(t).find(".keySelection");if(r){for(r.removeClass("keySelection"),n=r.prev(i);n&&n.length>0&&(!$(n).is(":visible")||-1===$.inArray(n[0],e));)n=n.prev(i)||!1;n.length&&(n.addClass("keySelection"),this._scrollUp(t,n))}o=r.length&&n.length?!1:!0,o&&(this._selectLast(e),s=$(t)[0].scrollHeight-$(t).height(),s>1&&($(t)[0].scrollTop=1e4))},_decideNextKeySelection:function(t,e,i){var n,s,o,r=$(t).find(".keySelection");if(1===r.length){for(r.removeClass("keySelection"),n=r.next(i);n&&n.length>0&&(!$(n).is(":visible")||-1===$.inArray(n[0],e));)n=n.next(i)||!1;n&&(n.addClass("keySelection"),this._scrollDown(t,n))}s=r.length&&n.length?!1:!0,s&&(this._selectFirst(e),o=$(t)[0].scrollHeight-t.height(),o>1&&($(t)[0].scrollTop=0))},_scrollDown:function(t,e){var i=$(e),n=$(t)[0].scrollTop,s=$(t)[0].scrollHeight-$(t).height(),o=i.height(),r=2*o;if(s>1)for(;s>=n&&i.is(":visible")&&i.offset().top+r>$(t).parent().offset().top+i.parent().height();)n+=1,$(t)[0].scrollTop=n},_scrollUp:function(t,e){var i=$(e),n=$(t)[0].scrollTop,s=$(t)[0].scrollHeight-$(t).height();if(s>1)for(;i.offset().top<$(t).parent().offset().top&&i.is(":visible");)n-=1,$(t)[0].scrollTop=n}},$.extend($.ui.keyCode,{COLON:59,SEMICOLON:59}),define("jquery/plugins/jquery.ui.coreext",function(){}),$.ui.listselector={_selections:!1,_field:!1,_field_wrap:!1,_limit:!1,_id:null,_open:!1,_data:null,_selected_values:[],_selection_items:[],options:{auto_focus_blur:!0,class_values:!1},template:function(t,e){var i,n;if("string"!=typeof e)return $(e(t));if(i=$(e),!i.length)throw"Invalid script: "+e;return n=$.fn.tmpl?"tmpl":"template",i[n](t)},_baseInit:function(){this._selections=$("#"+this._id+" .listselector_selections"),this._field=$("#"+this._id+"_field"),this._field_wrap=$("#"+this._id+"_field_wrap")},_makeSelection:function(t){for(var e=t.data,i=$(t.target),n={};!$(i).is(".listselector-option");){if("UL"==$(i)[0].tagName||"SELECT"==$(i)[0].tagName)return;i=i.parent()}$(i).hasClass("listselector-notoption")||(n=$(i).data("templateData"),0!==n.id&&(1===$(i).parents(".listselector_favorites").length?e.createSelection(n,!1):(e.refocus($(i)),e.createSelection(n,!1))))},delimited:function(t,e){return t="undefined"!=typeof t?t:"|",e="undefined"!=typeof e?e:this.selected(),e.join(t)},filtered:function(t,e,i,n){var s;if("undefined"==typeof t)return!1;switch("undefined"==typeof i&&(i="|"),"undefined"==typeof n&&(n="string"),data=this.filterSelected(t,e),n){case"array":s=data.join(i);break;case"string":default:s=data.join(i)}return s},setExternalListData:function(t,e){e="undefined"==typeof e?!1:e,"ajax"!==this.options.data_src&&e===!1&&$.Core.exception("You may only set list data to ajax autocompletes, without override"),this._data=t.json,this._loadDataSource()},createSelection:function(t,e,i){var n,s,o=$.Event("beforeAddSelection");return e="undefined"!=typeof e?e:!0,i="undefined"!=typeof i&&i.length?i:$(this._selections[0]),n=this.options.filterCategory&&"undefined"!=typeof this._filter?this._filter:!1,this.element.trigger(o,[t,e,i]),o.isDefaultPrevented()?!1:(n&&"undefined"!=typeof t.c&&$("#"+this._id+"_selections_"+t.c).length>0&&(i=$("#"+this._id+"_selections_"+t.c)),this._checkSelections(t)?("object"==typeof this.options[i[0].id+"_extra_data"]&&(t=$.extend(t,this.options[i[0].id+"_extra_data"])),s=this.template(t,this.options.templateSelection),s.addClass("cfix").data("templateData",t).data("autocompleteSelection",t).appendTo(i).find(".closeX, .selection-close").bind("click",this,this._removeSelection),this._selection_items=$(this._selections).children(),this.element.trigger("toggleSelection",[t]),this.element.trigger("addSelection",[t,s,e]),this.options.auto_focus_blur&&(e?this.refocus():this.reset(!1)),$(".formError."+this._id).remove(),this._selection_items&&this.options.limit&&this._selection_items.length==this.options.limit?this.element.trigger("limitHit"):this.element.trigger("limitNotHit",[e]),!0):!0)},removeSelection:function(t,e){var i=this;this._selection_items.each(function(){var n=$(this).data().templateData.id;return n===t?(i._removeSelection.apply(this,[{data:i},e]),!1):void 0})},_insertDefaultValues:function(){var t=this,e=this.options.defaultValues,i=function(e,i){$.each(i,function(i,n){var s;if(n)if(t._data&&"undefined"!=typeof t._data[n])s=t._data[n][t.options.data_field],s=$.isFunction(s)?s.call(t._data[n]):s,t.createSelection($.extend(t._data[n],{n:s,id:n}),!1,$(e));else{var o="object"==typeof n?n:{id:n,n:n};t.createSelection(o,!1,$(e))}})};$.isArray(e)?i($(this._selections[0]),e):$.each(e,function(t,e){i(t,e)}),this.options.defaultValues={}},_checkClose:function(t){var e=t.data,i=$(t.target),n=$.Event("beforeClickReset");e._open&&(i.parents("#"+e._options_wrap[0].id).length||i[0].id==e._field[0].id||(e._field.trigger(n,[t]),n.isDefaultPrevented()||e.reset()))},_checkSelections:function(t){var e,i,n=t.Klass?t.Klass:t.id;if(this._selection_items)for(var s=0;s<this._selection_items.length;++s)if(i=$(this._selection_items[s]).data("templateData"),e=i.Klass?i.Klass:i.id,e===n)return this.element.trigger("selectedAlready"),!1;return!0},_removeSelection:function(t,e){var i=t.data,n=$(this).closest("li"),s=n.data("templateData"),o=$.Event("beforeRemoveSelection");i.element.trigger(o,[s]),o.isDefaultPrevented()||(n.remove(),i._selection_items=$(i._selections).find("li"),("undefined"!=e&&e===!0||"undefined"==e)&&i.refocus(),i.element.trigger("toggleSelection"),i.element.trigger("limitNotHit",[!0]),i.element.trigger("removeSelection",[s]))},numSelected:function(){return this._selection_items?this._selection_items.length:0},field:function(){return this._field},noIdConstant:function(){return this.options.noIdConstant},listData:function(){return this._data?this._data:{}},selectedElements:function(){return $(this._selection_items)},selectionElementWrap:function(){return this._selections},selected:function(){var t=[];return this._selection_items?($.each(this._selection_items,function(){var e=$(this),i=e.data("templateData");i&&(i.Klass?t.push(i.Klass):i.id&&t.push(i.id.toString()))}),t):t},filterSelected:function(t,e){var i=[];return"undefined"==typeof e&&(e="id"),this._selection_items?($.each(this._selection_items,function(){$(this).data("templateData")&&$(this).data("templateData").id&&$(this).data("templateData").c==t&&i.push($(this).data("templateData")[e].toString())}),i):i}},define("jquery/plugins/jquery.ui.listselector",function(){}),function(t){t.widget("ui.throttler",t.extend({},{options:{delay:250,allow_bars:!0},_canRun:!0,_currentValue:"",_init:function(){return this.element.bind("keyup",this,this._setNewValue),this.element},_setNewValue:function(e){switch(e.keyCode){case t.ui.keyCode.ALT:case t.ui.keyCode.CAPS_LOCK:case t.ui.keyCode.COMMAND:case t.ui.keyCode.COMMAND_LEFT:case t.ui.keyCode.COMMAND_RIGHT:case t.ui.keyCode.CONTROL:case t.ui.keyCode.DOWN:case t.ui.keyCode.END:case t.ui.keyCode.ENTER:case t.ui.keyCode.ESCAPE:case t.ui.keyCode.HOME:case t.ui.keyCode.INSERT:case t.ui.keyCode.LEFT:case t.ui.keyCode.MENU:case t.ui.keyCode.NUMPAD_ENTER:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.SHIFT:case t.ui.keyCode.TAB:case t.ui.keyCode.UP:case t.ui.keyCode.WINDOWS:return}var i=t(this),n=i.val(),s=n;e.data.options.allow_bars||(n=n.replace(/\|/g," "),n!==s&&i.val(n)),e.data._currentValue=n,e.data._canRun&&e.data._runFunc(e),e.data._setTimer()},_setTimer:function(){var t=(this.element,this);clearTimeout(this._timer),this._setCanRun(!1),this._timer=setTimeout(function(){t._setCanRun(!0)},this.options.delay)},_setCanRun:function(t){this._canRun=t,this._lastValue!=this._currentValue&&t&&this._runFunc(!1)},_runFunc:function(t){return this._currentValue==this._lastValue?void this.element.trigger("sameValue",t):(this._lastValue=this._currentValue,this.element.trigger("beforeRunFunction",t),this.element.trigger("runFunction",t),void this.element.trigger("afterRunFunction",t))},reset:function(){this._lastValue="",this._currentValue="",t(this.element).val("")},currentValue:function(){return this._currentValue}}))}(jQuery),define("jquery/plugins/jquery.ui.throttler",function(){}),function(t){t.widget("be.autocomplete",t.extend(!0,{},t.ui.coreext,t.ui.listselector,{options:{dontResetTab:!1,data_src:null,data_field:"n",text:"Start typing to see list",engine:"regex",displayLimit:5,limit:0,templateSelection:"#autocomplete-selection-template",templateOption:"#autocomplete-option-template",templateForm:"#autocomplete-form-template",allowNewEnter:!1,highlight:!1,filterCategory:!1,favorites_src:null,list_position_element:null,noEnterText:"You must select an option on the list.",defaultValues:{},delay:150,noIdConstant:"__NO_ID_CONSTANT__"},_open:!1,_hideOptions:function(){t(window).unbind("resize scroll",this.positionOptionsProxy),this._options.hide()},_init:function(){var e=this,i=!1;this._id=this.element[0].id,i=this.template({id:this._id},this.options.templateForm),i.appendTo(this.element),this._baseInit(),this._options_wrap=t("#"+this._id+"_options_wrap"),this._options=t("#"+this._id+"_options"),this._no_results=t("#"+this._id+"_no_results"),this._new_option=t("#"+this._id+"_new_option"),this._favorites_toggle=t("#"+this._id+"_favorites_toggle"),this.positionOptionsProxy=t.proxy(this.positionOptions,this),t("body").append(this._options_wrap),this.hideOptions=t.proxy(this._hideOptions,this),this._options_wrap.bind("mouseover",function(){t(this).find(".keySelection").removeClass("keySelection")}),this._options.bind("scroll",function(t){t.stopPropagation()}),this._no_results.hide(),this._new_option.hide(),t(e._field).bind("keydown",{thisObj:e},this._handleEvent),this._field.defaultValue(this.options.text),this._field.throttler({delay:this.options.delay,allow_bars:!1}),e._options.unbind("click",e._makeSelection).bind("click",e,e._makeSelection),Config.$document.ready(function(){Config.$body.bind("mouseup",e,e._checkClose)}),this._field.on("beforeClickReset",function(){return this.selectFieldData(!1)===!0?!1:void 0}.bind(this)),this._loadDataSource(),this._field.on("contextmenu ",function(){return!1}),this._field.bind("runFunction",function(i,n){if(n.ctrlKey===!0||n.metaKey===!0){var s=n.charCode?n.charCode:n.keyCode,o=[88,86];if(-1===t.inArray(s,o))return}e._field.throttler("currentValue")||e.element.trigger("noValue"),"ajax"===e.options.data_src?e.element.trigger("externalAjax",[e.element]):e._runFunction(e)}),this.element.addClass("autocomplete cfix").data("autocomplete.initialized",!0),"ajax"===this.options.data_src&&this.element.bind("externalAjaxSuccess",function(){e._runFunction()}),null!==this.options.favorites_src&&(e._loadFavoritesSource(),e._favorites_on=!1,this._favorites_toggle.bind("click",function(){e._toggleFavorites()}),this._field.bind("focus",function(){e._clearFavorites()}),this._field.bind("hideFavorites",function(){e._favorites_toggle.hasClass("autocomplete_favorites_on")&&e._clearFavorites()}),this._field.bind("switchFilter",function(){e._favorites_toggle.hasClass("autocomplete_favorites_on")&&e._insertFavorites()}),Config.$body.bind("click",function(e){var i=e.target;t(".autocomplete_favorites_on").length>0&&!t(i).hasClass("autocomplete_favorites_toggle")&&!t(i).parent().hasClass("autocomplete_favorites_toggle")&&0===t(i).parents(".autocomplete_filter").length&&t(".autocomplete_favorites_on").parents(".autocomplete").data().autocomplete._clearFavorites()}))},destroy:function(){return this._options_wrap.remove(),this._options.remove(),this._no_results.remove(),this._new_option.remove(),this._favorites_toggle.remove(),t(window).unbind("resize scroll",this.hideOptions),this},_runFunction:function(){var e=this._field.throttler("currentValue");if(this._open=e?!0:!1,this._selection_items&&this.options.limit&&this._selection_items.length>=this.options.limit)return void this.element.trigger("typingLimitHit");if(!e)return void this.refocus();if(this._clearResults(),this._selected_values=this.selected(),"ajax"===this.options.data_src)this._createOptions(this._data),this._handleMatches(this._data);else if("quicksilver"===this.options.engine)this._searchQuicksilver();else{if("regex"!==this.options.engine)throw"Invalid search engine: "+this.options.engine;this._searchRegex()}this._lis=t("#"+this._id+"_options li"),this.element.trigger("functionRan")},_searchRegex:function(){function e(e,i){var n=!0;return e=t.isFunction(e)?e.call(i):e,t.each(a,function(){return e.match(this)?o&&i.c&&i.c.toString()!==s.toString()?void(n=!1):void 0:void(n=!1)}),n}var i=this,n=t(this._field).val(),s=this._filter,o=!1,r=[],a=[],l=null,u=[];l=n.split(" "),i.options.filterCategory&&"undefined"!=typeof s&&""!==s&&(o=!0),t.each(l,function(e,i){var n=[];
t.each(i.split(""),function(e,i){n.push(t.Core.escapeRegEx(i))}),n=n.join("\\w*"),a.push(new RegExp(n,"i"))}),i._data&&(t.each(i._data,function(n,s){var o=i.options.class_values?s:n,a=!1,l=i.options.matcher?i.options.matcher.apply(s):{data:s,fields:[s[i.options.data_field]]};l===!1||t.inArray(o,i._selected_values)>=0||(t.each(l.fields,function(t,n){return n=i.options.class_values?l.data[n]:n,a||(a=e(n,l.data)),a?!1:void 0}),a&&r.push(i.options.class_values?{Klass:this}:this))}),i._handleMatches(r)&&(i.options.displayLimit>0&&(r=r.slice(0,+i.options.displayLimit)),i.options.highlight?(u=i._highlightTerms(r,l),i._createOptions(u)):i._createOptions(r)))},_searchQuicksilver:function(){var e=this,i=0,n=[],s=[],o=!1,r=function(t,e){return e.score-t.score},a=e._data,l=null,u=null,c=function(i){var s=this[e.options.data_field];switch(s=t.isFunction(s)?s.call(this):s,typeof i){case"string":break;case"undefined":return;default:i=i.toString()}return!s||t.inArray(i,e._selected_values)>=0?void 0:(o=s.toLowerCase().score(t(e._field).val().toLowerCase()),o>0&&n.push({score:o,data:{id:i,n:s}}),n.length>50?!1:void 0)};if(t.each(a,c),e._handleMatches(n)){if(n=n.sort(r),e.options.displayLimit>0)for(i=0;i<Math.min(+e.options.displayLimit,n.length);++i)s.push(n[i].data);e.options.highlight?(l=e._highlightTerms(s,u),e._createOptions(l)):e._createOptions(s)}},_handleMatches:function(t){return 0===t.length?(this.element.trigger("noResults",[this._field]),this._showOptions(),!1):(this.element.trigger("foundResults",[this._field,t]),!0)},_highlightTerms:function(e,i){return t.each(e,function(n){e[n]=t.extend({},e[n]);var s=e[n].n,o=!1;o=new RegExp("("+i.join("|")+")","gi"),e[n].n=s.replace(o,"<span class='h'>$1</span>")}),e},_createOptions:function(e){var i=this;t.each(e,function(t){return parseFloat(t)===parseFloat(i.options.displayLimit)?!1:void i.template(this,i.options.templateOption).appendTo(i._options).data("templateData",this).addClass("cfix")}),this._showOptions()},_showOptions:function(){this._options.show(),t(window).bind("resize scroll",this.positionOptionsProxy),this.positionOptions()},positionOptions:function(){var t=this.options.list_position_element||this._field;this._options_wrap.clonePosition(t,{setHeight:!1,setWidth:!0,offsetTop:t.outerHeight()})},selectFieldData:function(e){function i(e,i){return e=t.isFunction(e)?e.call(i):e,e.toLowerCase()!==s.toLowerCase()?!1:(o=n.options.class_values?{Klass:i}:i,!0)}e=e===!1?!1:!0;var n=this,s=this.field().val(),o=null,r=t("#"+this._id),a=!1,l=!1,u=!1;if(t.each(this.listData(),function(e,s){var o=n.options.matcher?n.options.matcher.apply(s):{data:s,fields:[s[n.options.data_field]]};return t.each(o.fields,function(t,e){return e=n.options.class_values?o.data[e]:e,i(e,s)?(u=!0,!1):void 0}),u?!1:void 0}),!o){if(a=r.closest("form:data(validation), .form:data(validation)"),!this.options.allowNewEnter)return void(a.length&&t.validation.buildPrompt(a,r,this.options.noEnterText));if(this.options.limit&&this._selection_items.length>=this.options.limit)return void a.trigger("stoppedByLimit");o=this.options.newDataCallback?this.options.newDataCallback.apply(s):{id:s,n:s}}return this.options.filterCategory&&"undefined"!=typeof this._filter&&(o.c=this._filter),this.refocus(),l=this.createSelection(o,e)},refocus:function(){if(this.reset(!1),this.options.auto_focus_blur&&this._field.is(":visible"))try{this._field[0].focus()}catch(t){}},reset:function(t){var e=this._field.data().defaultValue;t="undefined"!=typeof t?t:!0,this._field.throttler("reset"),t&&(this._field[0].value=e),this._selections.find("li.keySelection").removeClass("keySelection"),this._clearResults(),this._open=!1,this._hideEntryForms()},_hideEntryForms:function(){this._new_option.hide(),this._no_results.hide(),this.element.trigger("formsHidden")},_clearResults:function(){this._hideEntryForms(),this._options.html(""),t(window).unbind("resize scroll",this.positionOptionsProxy),this._options.hide(),this._options.css({height:"auto"})},listElement:function(){return this._options},listElementWrap:function(){return this._options_wrap},noResultsElement:function(){return this._no_results},newOptionElement:function(){return this._new_option},hideEntryForms:function(){this._hideEntryForms()},_loadDataSource:function(){var e=this;if(!e.options.data_src)throw"data_src is required";if("object"==typeof e.options.data_src)e._data=e.options.data_src,e._insertDefaultValues(),e.element.data("dataLoaded",!0),e.element.trigger("dataLoaded",[e._data]),t.isEmptyObject(e._data)&&e.element.addClass("autocomplete_empty");else{if("string"!=typeof e.options.data_src)throw"Invalid data_src";"ajax"===e.options.data_src?e._insertDefaultValues():t.ajax({url:e.options.data_src,success:function(i){i.json&&(i=i.json),e._data=i,e._insertDefaultValues(),e.element.data("dataLoaded",!0),e.element.trigger("dataLoaded",[e._data]),t.isEmptyObject(e._data)&&e.element.addClass("autocomplete_empty")}})}},_loadFavoritesSource:function(){var e=this;if(!e.options.favorites_src)throw"favorites_src is required";if("array"==typeof e.options.favorites_src||"object"==typeof e.options.favorites_src)t.isEmptyObject(e._data)||(e._favorites=e.options.favorites_src,e._favorites_toggle.parent().addClass("autocomplete_favorites_wrap"),e._selections.addClass("autocomplete_selections_favorites_included"),e._favorites_toggle.show(),e.element.trigger("favoritesLoaded",[e._favorites]));else{if("string"!=typeof e.options.favorites_src)throw"Invalid favorites_src";if("external"===e.options.favorites_src||"ajax"===e.options.data_src)return;t.ajax({url:e.options.favorites_src,type:e.options.ajax_type,dataType:e.options.ajax_dataType,success:function(i){t.isEmptyObject(i.json)||(e._favorites=i.json,e._favorites_toggle.parent().addClass("autocomplete_favorites_wrap"),e._selections.addClass("autocomplete_selections_favorites_included"),e._favorites_toggle.show(),e.element.trigger("favoritesLoaded",[e._favorites]))}})}},_insertFavorites:function(){var e=this,i=[];e.options.filterCategory&&"undefined"!=typeof e._filter?t.each(e._favorites,function(){this.c===e._filter&&i.push(this)}):i=e._favorites,e.reset(!1),e._options.html(""),e._createOptions(i),e._options.addClass("autocomplete_favorites").addClass("listselector_favorites"),e._options.parent().addClass("autocomplete_favorites_wrap").addClass("listselector_favorites_wrap"),e._favorites_toggle.addClass("autocomplete_favorites_on"),e._favorites_on=!0,e._field_wrap.find(".tooltip").addClass("autocomplete_favorites_hide_tooltip"),e.element.trigger("favoritesInserted")},_clearFavorites:function(){var t=this;t.refocus(),t._options.removeClass("autocomplete_favorites").removeClass("listselector_favorites"),t._options.parent().removeClass("autocomplete_favorites_wrap").removeClass("listselector_favorites_wrap"),t._favorites_toggle.removeClass("autocomplete_favorites_on"),t._favorites_on=!1,t._field_wrap.find(".tooltip").removeClass("autocomplete_favorites_hide_tooltip"),t.element.trigger("favoritesCleared")},_toggleFavorites:function(){var e=this;e._options.hasClass("autocomplete_favorites")?e._clearFavorites():(t(".form-item.autocomplete").each(function(){var i=t(this);i.attr("id")!==e._id.toString()&&i.data("beAutocomplete")._favorites_on&&i.data("beAutocomplete")._toggleFavorites()}),e._insertFavorites())},_switchFilter:function(t){var e=this;e._filter=t,e._field.attr("filter",t).trigger("switchFilter")},handleEvent:function(t){t.data||(t.data={}),t.data.thisObj=this,this._handleEvent(t)},_handleEvent:function(e){var i=e.data.thisObj,n=!0,s=!1,o=!1,r=t.Event("beforeHandleEvent");if(i.element.trigger(r),!r.isDefaultPrevented()&&e){switch(e.keyCode){case t.ui.keyCode.TAB:i.options.dontResetTab||i.reset(),n=!1;break;case t.ui.keyCode.ESCAPE:i.refocus();break;case t.ui.keyCode.ENTER:case t.ui.keyCode.NUMPAD_ENTER:o=i._options.find(".keySelection"),o.length?(i.element.trigger("beforeKeyEnter"),o.trigger("click"),i.element.trigger("afterKeyEnter")):(i.element.trigger("beforeFieldKeyEnter"),i.selectFieldData(),i.element.trigger("afterFieldKeyEnter"));break;case t.ui.keyCode.UP:i.element.trigger("beforeKeyUp"),i._decidePreviousKeySelection(i._options,i._lis,"li"),i.element.trigger("afterKeyUp");break;case t.ui.keyCode.DOWN:i.element.trigger("beforeKeyDown"),i._decideNextKeySelection(i._options,i._lis,"li"),i.element.trigger("afterKeyDown");break;case t.ui.keyCode.DELETE:i._selections.find(".keySelection .closeX, .keySelection .selection-close").length?(i.element.trigger("beforeKeyDelete"),i._selections.find(".keySelection .closeX, .keySelection .selection-close").trigger("click"),i.element.trigger("afterKeyDelete")):n=!1;break;case t.ui.keyCode.BACKSPACE:s=i._selections.find(".keySelection .closeX, .keySelection .selection-close"),s.length?(i.element.trigger("beforeBackspace"),s.trigger("click"),i.element.trigger("afterBackspace")):n=!1;break;default:n=!1}n&&(e.stopPropagation(),e.preventDefault())}}}))}(jQuery),define("jquery/plugins/jquery.ui.autocomplete",function(){}),function(t){t.widget("ui.selectmenu",{options:{transferClasses:!0,appendTo:"body",typeAhead:1e3,style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,escapeHtml:!1,bgImage:function(){}},_create:function(){var e=this,i=this.options,n=(this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10)).replace(/(:|\.)/g,"");this.ids=[n,n+"-button",n+"-menu"],this._safemouseup=!0,this.isOpen=!1,this.newelement=t("<a />",{"class":this.widgetFullName+" ui-widget ui-state-default ui-corner-all",id:this.ids[1],role:"button",href:"#nogo",tabindex:this.element.attr("disabled")?1:0,"aria-haspopup":!0,"aria-owns":this.ids[2]}),this.newelement.insertAfter(this.element);var s=this.element.attr("tabindex");s&&this.newelement.attr("tabindex",s),this.newelement.data("selectelement",this.element),this.selectmenuIcon=t('<span class="'+this.widgetFullName+'-icon ui-icon"></span>').prependTo(this.newelement),this.newelement.prepend('<span class="'+e.widgetFullName+'-status" />'),this.element.bind({"click.selectmenu":function(t){e.newelement.focus(),t.preventDefault()}}),this.newelement.bind("mousedown.selectmenu",function(t){return e._toggle(t,!0),"popup"==i.style&&(e._safemouseup=!1,setTimeout(function(){e._safemouseup=!0},300)),!1}).bind("click.selectmenu",function(){return!1}).bind("keydown.selectmenu",function(i){var n=!1;switch(i.keyCode){case t.ui.keyCode.ENTER:n=!0;break;case t.ui.keyCode.SPACE:e._toggle(i);break;case t.ui.keyCode.UP:i.altKey?e.open(i):e._moveSelection(-1);break;case t.ui.keyCode.DOWN:i.altKey?e.open(i):e._moveSelection(1);break;case t.ui.keyCode.LEFT:e._moveSelection(-1);break;case t.ui.keyCode.RIGHT:e._moveSelection(1);break;case t.ui.keyCode.TAB:n=!0;break;case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.HOME:e.index(0);break;case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.END:e.index(e._optionLis.length);break;default:n=!0}return n}).bind("keypress.selectmenu",function(t){return t.which>0&&e._typeAhead(t.which,"mouseup"),!0}).bind("mouseover.selectmenu",function(){i.disabled||t(this).addClass(e.widgetFullName+"-hover ui-state-hover")}).bind("mouseout.selectmenu",function(){i.disabled||t(this).removeClass(e.widgetFullName+"-hover ui-state-hover")}).bind("focus.selectmenu",function(){i.disabled||t(this).addClass(e.widgetFullName+"-focus ui-state-focus")}).bind("blur.selectmenu",function(){i.disabled||t(this).removeClass(e.widgetFullName+"-focus ui-state-focus")}),t(document).bind("mousedown.selectmenu-"+this.ids[0],function(t){e.isOpen&&e.close(t)}),this.element.bind("click.selectmenu",function(){e._refreshValue()}).bind("focus.selectmenu",function(){e.newelement&&e.newelement[0].focus()}),i.width||(i.width=this.element.outerWidth()),this.newelement.width(i.width),this.element.hide(),this.list=t("<ul />",{"class":e.widgetFullName+"-menu ui-widget ui-widget-content","aria-hidden":!0,role:"listbox","aria-labelledby":this.ids[1],id:this.ids[2]}).appendTo(i.appendTo),this.list.bind("keydown.selectmenu",function(i){var n=!1;switch(i.keyCode){case t.ui.keyCode.UP:i.altKey?e.close(i,!0):e._moveFocus(-1);break;case t.ui.keyCode.DOWN:i.altKey?e.close(i,!0):e._moveFocus(1);break;case t.ui.keyCode.LEFT:e._moveFocus(-1);break;case t.ui.keyCode.RIGHT:e._moveFocus(1);break;case t.ui.keyCode.HOME:e._moveFocus(":first");break;case t.ui.keyCode.PAGE_UP:e._scrollPage("up");break;case t.ui.keyCode.PAGE_DOWN:e._scrollPage("down");break;case t.ui.keyCode.END:e._moveFocus(":last");break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:e.close(i,!0),t(i.target).parents("li:eq(0)").trigger("mouseup");break;case t.ui.keyCode.TAB:n=!0,e.close(i,!0),t(i.target).parents("li:eq(0)").trigger("mouseup");break;case t.ui.keyCode.ESCAPE:e.close(i,!0);break;default:n=!0}return n}).bind("keypress.selectmenu",function(t){return t.which>0&&e._typeAhead(t.which,"focus"),!0}),this.list.bind("mousedown.selectmenu mouseup.selectmenu",!1),t(window).bind("resize.selectmenu-"+this.ids[0],t.proxy(e.close,this)),this.refreshPosition=t.proxy(e._refreshPosition,this)},_init:function(){var e=this,i=this.options,n=[];this.element.find("option").each(function(){var s=t(this);n.push({value:s.attr("value"),text:e._formatText(s.text(),s),selected:s.prop("selected"),disabled:s.attr("disabled"),classes:s.attr("class"),typeahead:s.attr("typeahead"),parentOptGroup:s.parent("optgroup"),bgImage:i.bgImage.call(s)})});var s="popup"==e.options.style?" ui-state-active":"";if(this.list.html(""),n.length)for(var o=0;o<n.length;o++){var r={role:"presentation"};n[o].disabled&&(r["class"]=this.namespace+"-state-disabled");var a={html:n[o].text||"&nbsp;",href:"#nogo",tabindex:-1,role:"option","aria-selected":!1};n[o].disabled&&(a["aria-disabled"]=n[o].disabled),n[o].typeahead&&(a.typeahead=n[o].typeahead);var l=t("<a/>",a).bind("focus.selectmenu",function(){t(this).parent().mouseover()}).bind("blur.selectmenu",function(){t(this).parent().mouseout()}),u=t("<li/>",r).append(l).data("index",o).addClass(n[o].classes).data("optionClasses",n[o].classes||"").bind("mouseup.selectmenu",function(i){return!e._safemouseup||e._disabled(i.currentTarget)||e._disabled(t(i.currentTarget).parents("ul>li."+e.widgetFullName+"-group "))||(e.index(t(this).data("index")),e.select(i),e.close(i,!0)),!1}).bind("click.selectmenu",function(){return!1}).bind("mouseover.selectmenu",function(){t(this).hasClass(e.namespace+"-state-disabled")||t(this).parent("ul").parent("li").hasClass(e.namespace+"-state-disabled")||(e._selectedOptionLi().addClass(s),e._focusedOptionLi().removeClass(e.widgetFullName+"-item-focus ui-state-hover"),t(this).removeClass("ui-state-active").addClass(e.widgetFullName+"-item-focus ui-state-hover"))}).bind("mouseout.selectmenu",function(){t(this).is(e._selectedOptionLi())&&t(this).addClass(s),t(this).removeClass(e.widgetFullName+"-item-focus ui-state-hover")});if(n[o].parentOptGroup.length){var c=e.widgetFullName+"-group-"+this.element.find("optgroup").index(n[o].parentOptGroup);this.list.find("li."+c).length?this.list.find("li."+c+":last ul").append(u):t(' <li role="presentation" class="'+e.widgetFullName+"-group "+c+(n[o].parentOptGroup.attr("disabled")?" "+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+e.widgetFullName+'-group-label">'+n[o].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(u)}else u.appendTo(this.list);if(i.icons)for(var h in i.icons)if(u.is(i.icons[h].find)){u.data("optionClasses",n[o].classes+" "+e.widgetFullName+"-hasIcon").addClass(e.widgetFullName+"-hasIcon");var d=i.icons[h].icon||"";u.find("a:eq(0)").prepend('<span class="'+e.widgetFullName+"-item-icon ui-icon "+d+'"></span>'),n[o].bgImage&&u.find("span").css("background-image",n[o].bgImage)}}else t('<li role="presentation"><a href="#nogo" tabindex="-1" role="option"></a></li>').appendTo(this.list);var f="dropdown"==i.style;if(this.newelement.toggleClass(e.widgetFullName+"-dropdown",f).toggleClass(e.widgetFullName+"-popup",!f),this.list.toggleClass(e.widgetFullName+"-menu-dropdown ui-corner-bottom",f).toggleClass(e.widgetFullName+"-menu-popup ui-corner-all",!f).find("li:first").toggleClass("ui-corner-top",!f).end().find("li:last").addClass("ui-corner-bottom"),this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",f).toggleClass("ui-icon-triangle-2-n-s",!f),i.transferClasses){var p=this.element.attr("class")||"";this.newelement.add(this.list).addClass(p)}var m=this.newelement.width();this.list.width("dropdown"==i.style?i.menuWidth||m:i.menuWidth||m-i.handleWidth),this.list.css("height","auto");var g=this.list.height(),v=t(window).height(),y=i.maxHeight?Math.min(i.maxHeight,v):v/3;g>y&&this.list.height(y),this._optionLis=this.list.find("li:not(."+e.widgetFullName+"-group)"),this.element.attr("disabled")?this.disable():this.enable(),this._refreshValue(),this._selectedOptionLi().addClass(this.widgetFullName+"-item-focus"),clearTimeout(this.refreshTimeout),this.refreshTimeout=window.setTimeout(function(){e._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetFullName+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu"),t(window).unbind(".selectmenu-"+this.ids[0]),t(document).unbind(".selectmenu-"+this.ids[0]),this.newelement.remove(),this.list.remove(),this.element.unbind(".selectmenu").show(),t.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(t,e){var i=this,n=String.fromCharCode(t).toLowerCase(),s=null,o=null;i._typeAhead_timer&&(window.clearTimeout(i._typeAhead_timer),i._typeAhead_timer=void 0),i._typeAhead_chars=(void 0===i._typeAhead_chars?"":i._typeAhead_chars).concat(n),i._typeAhead_chars.length<2||i._typeAhead_chars.substr(-2,1)===n&&i._typeAhead_cycling?(i._typeAhead_cycling=!0,s=n):(i._typeAhead_cycling=!1,s=i._typeAhead_chars);for(var r=("focus"!==e?this._selectedOptionLi().data("index"):this._focusedOptionLi().data("index"))||0,a=0;a<this._optionLis.length;a++){var l=this._optionLis.eq(a).text().substr(0,s.length).toLowerCase();if(l===s)if(i._typeAhead_cycling){if(null===o&&(o=a),a>r){o=a;break}}else o=a}null!==o&&this._optionLis.eq(o).find("a").trigger(e),i._typeAhead_timer=window.setTimeout(function(){i._typeAhead_timer=void 0,i._typeAhead_chars=void 0,i._typeAhead_cycling=void 0},i.options.typeAhead)},_uiHash:function(){var e=this.index();return{index:e,option:t("option",this.element).get(e),value:this.element[0].value}},open:function(e){var i=this,n=this.options;if("true"!=i.newelement.attr("aria-disabled")){i._closeOthers(e),i.newelement.addClass("ui-state-active"),i.list.attr("aria-hidden",!1),i.list.addClass(i.widgetFullName+"-open");var s=this._selectedOptionLi();"dropdown"==n.style?i.newelement.removeClass("ui-corner-all").addClass("ui-corner-top"):this.list.css("left",-5e3).scrollTop(this.list.scrollTop()+s.position().top-this.list.outerHeight()/2+s.outerHeight()/2).css("left","auto"),i._refreshPosition();var o=s.find("a");o.length&&o[0].focus(),i.isOpen=!0,i._trigger("open",e,i._uiHash()),t(window).on("resize.selectmenu scroll.selectmenu",this.refreshPosition)}},close:function(e,i){this.newelement.is(".ui-state-active")&&(this.newelement.removeClass("ui-state-active"),this.list.removeClass(this.widgetFullName+"-open"),this.list.attr("aria-hidden",!0),"dropdown"==this.options.style&&this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all"),i&&this.newelement.focus(),this.isOpen=!1,this._trigger("close",e,this._uiHash()),t(window).off("resize.selectmenu scroll.selectmenu",this.refreshPosition))},change:function(t){this.element.trigger("change"),this._trigger("change",t,this._uiHash())},select:function(t){return this._disabled(t.currentTarget)?!1:void this._trigger("select",t,this._uiHash())},widget:function(){return this.list.add(this.newelement)},_closeOthers:function(e){t("."+this.widgetFullName+".ui-state-active").not(this.newelement).each(function(){t(this).data("selectelement").selectmenu("close",e)}),t("."+this.widgetFullName+".ui-state-hover").trigger("mouseout")},_toggle:function(t,e){this.isOpen?this.close(t,e):this.open(t)},_formatText:function(e,i){return this.options.format?e=this.options.format(e,i):this.options.escapeHtml&&(e=t("<div />").text(e).html()),e},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){var t=this.list.find("a:focus").closest("li");return t.length||(t=this.list.find("."+this.widgetFullName+"-item-focus")),t},_moveSelection:function(t,e){if(!this.options.disabled){var i=parseInt(this._selectedOptionLi().data("index")||0,10),n=i+t;if(0>n&&(n=0),n>this._optionLis.size()-1&&(n=this._optionLis.size()-1),n===e)return!1;this._optionLis.eq(n).hasClass(this.namespace+"-state-disabled")?(t>0?++t:--t,this._moveSelection(t,n)):this._optionLis.eq(n).trigger("mouseover").trigger("mouseup")}},_moveFocus:function(t,e){if(isNaN(t))var i=parseInt(this._optionLis.filter(t).data("index"),10);else var n=parseInt(this._focusedOptionLi().data("index")||0,10),i=n+t;if(0>i&&(i=0),i>this._optionLis.size()-1&&(i=this._optionLis.size()-1),i===e)return!1;var s=this.widgetFullName+"-item-"+Math.round(1e3*Math.random());this._focusedOptionLi().find("a:eq(0)").attr("id",""),this._optionLis.eq(i).hasClass(this.namespace+"-state-disabled")?(t>0?++t:--t,this._moveFocus(t,i)):this._optionLis.eq(i).find("a:eq(0)").attr("id",s).focus(),this.list.attr("aria-activedescendant",s)},_scrollPage:function(t){var e=Math.floor(this.list.outerHeight()/this._optionLis.first().outerHeight());e="up"==t?-e:e,this._moveFocus(e)},_setOption:function(t,e){this.options[t]=e,"disabled"==t&&(e&&this.close(),this.element.add(this.newelement).add(this.list)[e?"addClass":"removeClass"](this.widgetFullName+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",e))},disable:function(t,e){"undefined"==typeof t?this._setOption("disabled",!0):"optgroup"==e?this._disableOptgroup(t):this._disableOption(t)},enable:function(t,e){"undefined"==typeof t?this._setOption("disabled",!1):"optgroup"==e?this._enableOptgroup(t):this._enableOption(t)},_disabled:function(e){return t(e).hasClass(this.namespace+"-state-disabled")},_disableOption:function(t){var e=this._optionLis.eq(t);e&&(e.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!0),this.element.find("option").eq(t).attr("disabled","disabled"))},_enableOption:function(t){var e=this._optionLis.eq(t);e&&(e.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!1),this.element.find("option").eq(t).removeAttr("disabled"))},_disableOptgroup:function(t){var e=this.list.find("li."+this.widgetFullName+"-group-"+t);e&&(e.addClass(this.namespace+"-state-disabled").attr("aria-disabled",!0),this.element.find("optgroup").eq(t).attr("disabled","disabled"))},_enableOptgroup:function(t){var e=this.list.find("li."+this.widgetFullName+"-group-"+t);e&&(e.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",!1),this.element.find("optgroup").eq(t).removeAttr("disabled"))},index:function(e){return arguments.length?this._disabled(t(this._optionLis[e]))||e==this._selectedIndex()?!1:(this.element[0].selectedIndex=e,this._refreshValue(),this.change(),void 0):this._selectedIndex()},getList:function(){return this.list},getNewElement:function(){return this.newelement},value:function(t){return arguments.length?void(t!=this.element[0].value&&(this.element[0].value=t,this._refreshValue(),this.change())):this.element[0].value},_refreshValue:function(){var t="popup"==this.options.style?" ui-state-active":"",e=this.widgetFullName+"-item-"+Math.round(1e3*Math.random());this._focusedOptionLi().removeClass(this.widgetFullName+"-item-focus"),this.list.find("."+this.widgetFullName+"-item-selected").removeClass(this.widgetFullName+"-item-selected"+t).find("a").attr("aria-selected","false").attr("id",""),this._selectedOptionLi().addClass(this.widgetFullName+"-item-selected"+t).find("a").attr("aria-selected","true").attr("id",e);var i=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"",n=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(i).data("optionClasses",n).addClass(n).find("."+this.widgetFullName+"-status").html(this._selectedOptionLi().find("a:eq(0)").html()),this.list.attr("aria-activedescendant",e)},_refreshPosition:function(){var t=this.options;if("popup"==t.style&&!t.positionOptions.offset)var e=this._selectedOptionLi(),i="0 "+(this.list.offset().top-e.offset().top-(this.newelement.outerHeight()+e.outerHeight())/2);this.list.zIndex(this.element.zIndex()+1).position({of:t.positionOptions.of||this.newelement,my:t.positionOptions.my,at:t.positionOptions.at,offset:t.positionOptions.offset||i,collision:t.positionOptions.collision||("popup"==t.style?"fit":"flip")})}})}(jQuery),define("jquery/plugins/jquery.ui.selectmenu",function(){}),function(t){var e={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:""},i=(t(document),[]),n=function(e){for(var n=e.scrollTop(),s=t(window).height(),o=e.is(t(window))?t(document).height():e.height(),r=o-s,a=n>r?r-n:0,l=0;l<i.length;l++){var u=i[l],c=e.is(t(window))?u.stickyWrapper.offset().top:u.stickyWrapper.offset().top-e.offset().top,h=c-u.topSpacing-a;if(h>=n)null!==u.currentTop&&(u.stickyElement.css("position","").css("top",""),u.stickyElement.removeClass(u.className),u.currentTop=null);else{var d=o-u.stickyElement.outerHeight()-u.topSpacing-u.bottomSpacing-n-a;0>d?d+=u.topSpacing:d=u.topSpacing,u.currentTop!=d&&(u.stickyElement.css("position","fixed").css("top",d),"undefined"!=typeof u.getWidthFrom&&u.stickyElement.css("width",t(u.getWidthFrom).width()),u.stickyElement.addClass(u.className),u.currentTop=d)}}},s={init:function(s,o){o=o||t(window);var r=t.extend({},e,s);return o.each(function(){this.addEventListener?this.addEventListener("scroll",function(){n(o)},!1):this.attachEvent&&this.attachEvent("onscroll",function(){n(o)})}),this.each(function(){var e=t(this),n=e.attr("id"),s=t("<div></div>").attr("id",n+"-sticky-wrapper").addClass(r.wrapperClassName);e.wrapAll(s),r.center&&e.parent().css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==e.css("float")&&e.css({"float":"none"}).parent().css({"float":"right"});var o=e.parent();o.css("height",e.outerHeight());var a={topSpacing:r.topSpacing,bottomSpacing:r.bottomSpacing,stickyElement:e,currentTop:null,stickyWrapper:o,className:r.className,getWidthFrom:r.getWidthFrom};e.data("sticky",a),i.push(a)})},update:function(e){e=e||t(window),n(e)}};t.fn.sticky=function(e){return s[e]?s[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.sticky"):s.init.apply(this,arguments)},t(function(){setTimeout(function(){n(t(window))},0)})}(jQuery),define("jquery/plugins/jquery.sticky",function(){}),function(t){function e(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}t.ui.bubblelist={widgetEventPrefix:"bubble",options:{blacklist:[],btn_classes:["form-button","form-button-light-and-grey","right"],close_classes:["pointer","sprite-site-elements"],data:{},data_src:null,defaultValues:null,delimiter:",",display_classes:[],icon_classes:[],limit:3,list_classes:["form-list"],item_classes:["item"]},_data:null,_delimiter:null,_optionHandler:{disabled:function(t,e){this.widget()[e?"addClass":"removeClass"](this.widgetFullName+"-disabled ui-state-disabled").attr("aria-disabled",e)},data_src:function(e,i){var n,s=this;if(i){if(i instanceof t)try{n=t.when(t.parseJSON(i.html()))}catch(o){}else if("string"==typeof i)try{n=t.ajax(i).pipe(function(t){return t.json||t})}catch(o){}else"function"==typeof i.promise&&(n=i.promise());this._data=n?n.pipe(function(e){return t.extend(e,s.options.data)}):null}this._data||(this._data=t.when(this.options.data))},delimiter:function(i,n){this._delimiter=new RegExp("["+e(t.isArray(n)?n.join(""):n.toString())+"]","g")},defaultValues:function(e,i){i?t.isArray(i)||(this.options.defaultValues=i.toString().split(this._delimiter)):this.options.defaultValues=this.element.is("input")?this.element.val():[]},blacklist:function(e,i){t.isArray(i)||(this.options.blacklist=i.toString().split(this._delimiter))}},_make_bubble:function(e,i){return e instanceof t||(i=e,e=t("<li />").addClass(this.options.item_classes.join(" ")).addClass(this.options.item_classes.concat(this.widgetName+"-item").join(" "))),t('<span class="text" />').addClass(this.options.display_classes.join(" ")).text(i).appendTo(e.empty()),t('<span class="close-btn" />').addClass(this.options.close_classes.join(" ")).on("click",{that:this,parent:e},this._remove_bubble).appendTo(e),e},_remove_bubble:function(t){t.data.parent.remove(),t.stopPropagation()}}}(jQuery),define("jquery/plugins/jquery.ui.bubblelist",function(){}),function(t){t.widget("ui.textboxlist",t.extend({},t.ui.coreext,t.ui.bubblelist,{options:{allow_numbers:!1,word_limit:3,char_buffer:5,min_length:2,adtl_close_classes:["pointer","sprite-site-elements"],adtl_display_classes:[],create_keys:[t.ui.keyCode.ENTER,t.ui.keyCode.NUMPAD_ENTER,t.ui.keyCode.TAB,t.ui.keyCode.COMMA,t.ui.keyCode.COLON,t.ui.keyCode.SEMICOLON],add_from_input:!0,blacklist:[],list_classes:[],ignore_blur_override:!1,limit:0},keycodes:{},_id:"",$_hidden_width:!1,$_list:!1,_init:function(){var e=this,i=!1;return this.keycodes[t.ui.keyCode.COMMA]=",",this.keycodes[t.ui.keyCode.COLON]=":",this.keycodes[t.ui.keyCode.SEMICOLON]=";",this._id=this.element.attr("id"),this.$_hidden_width=t('<div id="'+this._id+'-hidden" class="ui-textboxlist-hidden-width" />'),this.$_list=t('<div id="'+this._id+'-list" class="ui-textboxlist" />'),this.$_list.addClass(this.options.list_classes.join(" ")).on("focus blur","input",function(t){e.$_list.toggleClass("focus","focusin"===t.type)}),this.element.addClass("ui-textboxlist-hidden-text"),this.element.after(this.$_list),this.options.display_classes=this.options.adtl_display_classes.concat("ui-textboxlist-selection-display",this.options.display_classes),this.options.close_classes=this.options.adtl_close_classes.concat("ui-textboxlist-deletebutton",this.options.close_classes),""!==this.element.val()&&t.each(this.element.val().split(","),function(t,i){e.addValue(i)}),this._update_hidden_text(),this.$_list.addClass("ui-textboxlist"),this.element.after(this.$_hidden_width),this.options.ignore_blur_override!==!0&&this.$_list.delegate("input","blur",function(){return i===!0?void(i=!1):void(e._good_value(this.value)?e._create_bubble_from_input(this,!1):this.value="")}),-1!==t.inArray(t.ui.keyCode.COMMA,this.options.create_keys)&&this.$_list.delegate("input","paste",function(){var i=this;setTimeout(function(){if(e.options.add_from_input!==!0)return void e.element.trigger("textboxlist.change",[i.value]);var n,s,o,r=i.value,a=r.split(" "),l=0,u="";if(e.options.word_limit>0&&a.length>e.options.word_limit){for(o in a)u+=" "+a[o],++l,u=t.trim(u),l===e.options.word_limit&&(u+=",",l=0);","===u.substr(-1)&&(u=u.substr(0,u.length-1)),i.value=u}-1!==i.value.indexOf(",")&&(n=i.value.split(","),t.each(n,function(i,n){e.addValue(t.trim(n))}),s=e.$_list.find("input"),s.val(""))},5)}),this.$_list.delegate("input","keydown",function(n){t.inArray(n.keyCode,e.options.create_keys)&&(i=!0);var s=this,o=this.value;setTimeout(function(){i=!1;var r=[],a=0,l=!0,u=!1;if(e._update_hidden(s),""===o&&""===s.value&&n.keyCode===t.ui.keyCode.BACKSPACE)return u=e.$_list.find(".ui-textboxlist-deletebutton").last(),void(u.length?u.trigger("click"):e.element.trigger("textboxlist.change",[s.value]));if(e.options.add_from_input!==!0)return void e.element.trigger("textboxlist.change",[s.value]);if(-1!==t.inArray(n.keyCode,e.options.create_keys)){switch(l=n.keyCode!==t.ui.keyCode.TAB,n.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ENTER:case t.ui.keyCode.NUMPAD_ENTER:break;
default:s.value=s.value.substr(0,s.value.length-1)}return void e._create_bubble_from_input(s,l)}n.keyCode===t.ui.keyCode.SPACE&&e.options.word_limit>0&&(r=s.value.split(" "),a=r.length-1,a>=e.options.word_limit&&(s.value=s.value.substr(0,s.value.length-1),e._create_bubble_from_input(s)))},1),(n.keyCode===t.ui.keyCode.ENTER||n.keyCode===t.ui.keyCode.NUMPAD_ENTER)&&(n.stopPropagation(),n.preventDefault())}),this.$_list.bind("click",function(){t(this).find("input").focus()}),this.$_list.delegate("input","focus",function(){e._update_hidden(this)}),this._add_input(!1),this.$_list},_create_bubble:function(e,i){var n=this.keycodes,s="";return t.each(this.options.create_keys,function(t,e){n[e]&&(s+=n[e])}),s=new RegExp("["+s+"]+","gi"),i=i.replace(s,""),e=this._make_bubble(e,i),e.addClass("ui-textboxlist-bit-done"),this._update_hidden_text(),e.find(".ui-textboxlist-deletebutton")},_good_value:function(e){e=t.trim(e.toString());var i=e.toLowerCase();return-1!==t.inArray(i,this.options.blacklist)?(this.element.trigger("textboxlist.blacklisted",[e]),!1):""===e||e.match(/^\s+$/)?(this.element.trigger("textboxlist.empty",[e]),!1):!this.options.allow_numbers&&e.match(/^\d+$/)?(this.element.trigger("textboxlist.numbersonly",[e]),!1):e.length<this.options.min_length?(this.element.trigger("textboxlist.min_length",[e]),!1):-1!==t.inArray(e,this.dataArray())?(this.element.trigger("textboxlist.duplicate",[e]),!1):this.options.limit&&this.dataArray().length>=this.options.limit?(this.element.trigger("textboxlist.limitHit",[e]),!1):!0},_create_bubble_from_input:function(e,i){i=i===!1?!1:!0;var n=t.trim(e.value),s=t(e),o=s.parent();if(this._good_value(n))return o.html(n),this._create_bubble(o,n),this._add_input(i)},_remove_bubble:function(t){var e=t.data.parent,i=t.data.that;e.remove(),i._update_hidden_text(),t.stopPropagation(),i.element.trigger("textboxlist.removedBit",[e]),i.options.limit&&i.dataArray().length<i.options.limit&&i.element.trigger("textboxlist.limitNotHit")},_update_hidden:function(t){this.$_hidden_width[0].innerHTML=t.value;var e=this.$_hidden_width.width()+this.options.char_buffer;t.style.width=50>e?"50px":e+"px"},_add_item:function(e){var i=t("<li />");return e&&e.length?e.before(i):this.$_list.append(i),i.addClass("ui-textboxlist-bit"),i},_add_input:function(e){e=e===!1?!1:!0;var i=this.$_list.find(".ui-textboxlist-bit-input"),n=this._add_item(),s=i.parent();return i.length?s.remove():i=t('<input type="text" />'),n.append(i),i.addClass("ui-textboxlist-bit-input"),e===!0&&setTimeout(function(){i.focus()}),i},_update_hidden_text:function(){var e=[];this.$_list.find(".ui-textboxlist-bit-done").each(function(){e[e.length]=t(this).text()}),this.element.val(e.join(",")),this.element.trigger("textboxlist.change")},list:function(){return this.$_list},addValue:function(t){if(this._good_value(t)){var e=this._add_item(this.$_list.find(".ui-textboxlist-bit-input").closest("li"));return this._create_bubble(e,t)}},fieldValue:function(){return this.$_list.find("input").last().val()},dataArray:function(){var e=[],i=this;return this.$_list.find(".ui-textboxlist-bit-done").each(function(){var n=t(this).text(),s=n.toLowerCase();-1===t.inArray(s,i.options.blacklist)&&(e[e.length]=n)}),e}}))}(jQuery),define("jquery/plugins/jquery.textbubble",function(){}),function(t){"use strict";return"function"==typeof define&&define.amd?void define("jquery/plugins/jquery.popupbubble",["jquery","Core/Events","jquery/plugins/jquery.ui.bubblelist"],function(){var e=t.apply(this,arguments);return e}):jQuery&&t.call(this,jQuery,jQuery.Core.Events)}(function(t,e){"use strict";return t.widget("ui.popupbubble",t.extend(!0,{},t.ui.bubblelist,{options:{popup:{header:"Creative Fields",description:'<ul id="all-data-list" class="ui-selectmenu-open" />',innerClass:"all-creative-fields-pop",outerZIndex:50001,innerZIndex:50002,done_btn:!0,cancel_btn:!0,close_btn:!1,removeAll:!1}},_list:null,_setOption:function(t,e){return this.options[t]=e,this._optionHandler[t]&&this._optionHandler[t].call(this,t,e),this},_create:function(){var e=this;t.map(["data_src","delimiter","defaultValues","blacklist"],function(t){e._optionHandler[t].call(e,t,e.options[t])}),this.element.addClass("ui-popupbubble")},_init:function(){var e=this,i=this._list=t('<ul tabindex="0"/>'),n=t("<a><span></span></a>");t.each(this.options.defaultValues,function(){t.inArray(this.n,e.options.blacklist)>-1||e._make_bubble(this.n).data("value",this).appendTo(i)}),this._set_value(),this.options.defaultValues.length?i.removeClass(this.widgetName+"-empty"):i.addClass(this.widgetName+"-empty"),this.element.siblings(".form-label").on("click",function(){return i.focus(),!1}),i.addClass(this.options.list_classes.join(" ")).on("focus",function(){t(this).hasClass(e.widgetName+"-empty")&&e._popup.apply(e,arguments)}),n.on("click",t.proxy(this._popup,this)).addClass(t.isArray(this.options.btn_classes)?this.options.btn_classes.join(" "):this.options.btn_classes).children().addClass(t.isArray(this.options.icon_classes)?this.options.icon_classes.join(" "):this.options.icon_classes).end().appendTo(i),(this.element.is("input")?this.element.hide().after:this.element.append).call(this.element,i)},$popup:null,_popup:function(){function i(){return r.find(".selected").map(function(){return t(this).data("value")}).get()}function n(){var e=t(this);!e.hasClass("selected")&&i().length>=s.options.limit?t(".popup-description",o).showMessages([{type:"error",message:"You can only select up to "+s.options.limit+" items."}],{fade:!1}):e.toggleClass("active selected"),s._trigger("toggle",null,{count:s.$popup.find(".selected").length})}if(!this.$popup){var s=this,o=this.$popup=t.Core.popup(this.options.popup),r=t("#all-data-list"),a=this._list.find("li").map(function(){return t(this).data("value").id}).get();return s._data.done(function(e){t.each(e,function(){var e=t.inArray(this.id,a)>-1;t("<li"+(e?' class="active selected"':"")+' tabindex="-1">'+this.n+'<span class="icon icon-status-success sprite-site-elements"></span></li>').data("value",this).on("click",this,function(e){t(document.activeElement).blur(),n.call(this,e)}).appendTo(r)})}),t(".form-submit",o).click(function(){t(this).hasClass("disabled")||(s._list.addClass(s.widgetName+"-empty").children().remove("li"),t.each(i(),function(){t.inArray(this.n,s.options.blacklist)>-1||s._make_bubble(this.n).data("value",this).addClass(s.options.item_classes.join(" ")).appendTo(s._list.removeClass(s.widgetName+"-empty"))}),s._set_value(),s._list.focus(),o.popup("destroy"),s.$popup=null)}),t(".form-button-cancel",o).click(function(){o.popup("destroy"),s.$popup=null}),r.attr("tabIndex",0),t("#popup-done",o).attr("tabIndex",1),t("#popup-cancel",o).attr("tabIndex",2),t("#all-data-list").focus(),e.trigger("keyboard.on",s._key_commands(o,r,n)),s.$popup.on("popup.destroyed",function(){s._trigger("destroyed"),e.trigger("keyboard.off")}),s._trigger("popup"),!1}},_set_value:function(){var e=this._list.find("li").map(function(){return t(this).data("value").id}).get().join("|");this._trigger("value",null,e),this.element.val(e)},value:function(){return this.element.val()},_remove_bubble:function(t){t.data.parent.remove(),t.data.that._list.find(".text").length||t.data.that._list.addClass(t.data.that.widgetName+"-empty"),t.data.that._set_value(),t.stopPropagation()},_key_commands:function(e,i,n){function s(t){return function(e){i.children().filter(function(){return!!this.innerText[0].match(new RegExp(t,"i"))}).first().focus(),e.preventDefault()}}var o={escape:function(){t("#popup-cancel").click()},tab:function(i){t("[tabindex="+(document.activeElement.tabIndex+1)%3+"]",e).focus(),i.preventDefault()},up:function(e){var n=t(document.activeElement);"all-data-list"===n.attr("id")&&i.children().first().focus(),n[0].tagName.match(/li/i)&&t(document.activeElement).prev().focus(),e.preventDefault()},down:function(e){var n=t(document.activeElement);"all-data-list"===n.attr("id")?i.children().first().focus():n[0].tagName.match(/li/i)&&t(document.activeElement).next().focus(),e.preventDefault()},enter:function(e){var i=t(document.activeElement);i.hasClass("form-button")?t(document.activeElement).click():i[0].tagName.match(/li/i)&&n.call(document.activeElement,e),e.preventDefault()}};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].forEach(function(t){o[t]=s(t)}),o}}))}),function(t,e){"use strict";var i=t.History=t.History||{},n=t.jQuery;if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={bind:function(t,e,i){n(t).bind(e,i)},trigger:function(t,e,i){n(t).trigger(e,i)},extractEventData:function(t,i,n){var s=i&&i.originalEvent&&i.originalEvent[t]||n&&n[t]||e;return s},onDomLoad:function(t){n(t)}},"undefined"!=typeof i.init&&i.init()}(window),define("vendor/history.adapter.jquery",function(){}),function(t,e){"use strict";var i=t.console||e,n=t.document,s=t.navigator,o=t.sessionStorage||!1,r=t.setTimeout,a=t.clearTimeout,l=t.setInterval,u=t.clearInterval,c=t.JSON,h=t.alert,d=t.History=t.History||{},f=t.history;try{o.setItem("TEST","1"),o.removeItem("TEST")}catch(p){o=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof d.init)throw new Error("History.js Core has already been loaded...");d.init=function(){return"undefined"==typeof d.Adapter?!1:("undefined"!=typeof d.initCore&&d.initCore(),"undefined"!=typeof d.initHtml4&&d.initHtml4(),!0)},d.initCore=function(){if("undefined"!=typeof d.initCore.initialized)return!1;if(d.initCore.initialized=!0,d.options=d.options||{},d.options.hashChangeInterval=d.options.hashChangeInterval||100,d.options.safariPollInterval=d.options.safariPollInterval||500,d.options.doubleCheckInterval=d.options.doubleCheckInterval||500,d.options.disableSuid=d.options.disableSuid||!1,d.options.storeInterval=d.options.storeInterval||1e3,d.options.busyDelay=d.options.busyDelay||250,d.options.debug=d.options.debug||!1,d.options.initialTitle=d.options.initialTitle||n.title,d.options.html4Mode=d.options.html4Mode||!1,d.options.delayInit=d.options.delayInit||!1,d.intervalList=[],d.clearAllIntervals=function(){var t,e=d.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)u(e[t]);d.intervalList=null}},d.debug=function(){d.options.debug&&d.log.apply(d,arguments)},d.log=function(){var t,e,s,o,r,a=!("undefined"==typeof i||"undefined"==typeof i.log||"undefined"==typeof i.log.apply),l=n.getElementById("log");for(a?(o=Array.prototype.slice.call(arguments),t=o.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[t,o]):i.log.apply(i,[t,o])):t="\n"+arguments[0]+"\n",e=1,s=arguments.length;s>e;++e){if(r=arguments[e],"object"==typeof r&&"undefined"!=typeof c)try{r=c.stringify(r)}catch(u){}t+="\n"+r+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||h(t),!0},d.getInternetExplorerMajorVersion=function(){var t=d.getInternetExplorerMajorVersion.cached="undefined"!=typeof d.getInternetExplorerMajorVersion.cached?d.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i[0];);return t>4?t:!1}();return t},d.isInternetExplorer=function(){var t=d.isInternetExplorer.cached="undefined"!=typeof d.isInternetExplorer.cached?d.isInternetExplorer.cached:Boolean(d.getInternetExplorerMajorVersion());return t},d.emulated=d.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(s.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(s.userAgent))),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in n)||d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8)},d.enabled=!d.emulated.pushState,d.bugs={setHash:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),safariPoll:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),ieDoubleCheck:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<7)},d.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},d.cloneObject=function(t){var e,i;return t?(e=c.stringify(t),i=c.parse(e)):i={},i},d.getRootUrl=function(){var t=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(t+=":"+n.location.port),t+="/"},d.getBaseHref=function(){var t=n.getElementsByTagName("base"),e=null,i="";return 1===t.length&&(e=t[0],i=e.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},d.getBaseUrl=function(){var t=d.getBaseHref()||d.getBasePageUrl()||d.getRootUrl();return t},d.getPageUrl=function(){var t,e=d.getState(!1,!1),i=(e||{}).url||d.getLocationHref();return t=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},d.getBasePageUrl=function(){var t=d.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},d.getFullUrl=function(t,e){var i=t,n=t.substring(0,1);return e="undefined"==typeof e?!0:e,/[a-z]+\:\/\//.test(t)||(i="/"===n?d.getRootUrl()+t.replace(/^\/+/,""):"#"===n?d.getPageUrl().replace(/#.*/,"")+t:"?"===n?d.getPageUrl().replace(/[\?#].*/,"")+t:e?d.getBaseUrl()+t.replace(/^(\.\/)+/,""):d.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},d.getShortUrl=function(t){var e=t,i=d.getBaseUrl(),n=d.getRootUrl();return d.emulated.pushState&&(e=e.replace(i,"")),e=e.replace(n,"/"),d.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},d.getLocationHref=function(t){return t=t||n,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},d.store={},d.idToState=d.idToState||{},d.stateToId=d.stateToId||{},d.urlToId=d.urlToId||{},d.storedStates=d.storedStates||[],d.savedStates=d.savedStates||[],d.normalizeStore=function(){d.store.idToState=d.store.idToState||{},d.store.urlToId=d.store.urlToId||{},d.store.stateToId=d.store.stateToId||{}},d.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var i=d.getLastSavedState();return!i&&e&&(i=d.createStateObject()),t&&(i=d.cloneObject(i),i.url=i.cleanUrl||i.url),i},d.getIdByState=function(t){var e,i=d.extractId(t.url);if(!i)if(e=d.getStateString(t),"undefined"!=typeof d.stateToId[e])i=d.stateToId[e];else if("undefined"!=typeof d.store.stateToId[e])i=d.store.stateToId[e];else{for(;;)if(i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof d.idToState[i]&&"undefined"==typeof d.store.idToState[i])break;d.stateToId[e]=i,d.idToState[i]=t}return i},d.normalizeState=function(t){var e,i;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=d.getFullUrl(t.url?t.url:d.getLocationHref()),e.hash=d.getShortUrl(e.url),e.data=d.cloneObject(t.data),e.id=d.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,i=!d.isEmptyObject(e.data),(e.title||i)&&d.options.disableSuid!==!0&&(e.hash=d.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=d.getFullUrl(e.hash),(d.emulated.pushState||d.bugs.safariPoll)&&d.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},d.createStateObject=function(t,e,i){var n={data:t,title:e,url:i};return n=d.normalizeState(n)},d.getStateById=function(t){t=String(t);var i=d.idToState[t]||d.store.idToState[t]||e;return i},d.getStateString=function(t){var e,i,n;return e=d.normalizeState(t),i={data:e.data,title:t.title,url:t.url},n=c.stringify(i)},d.getStateId=function(t){var e,i;return e=d.normalizeState(t),i=e.id},d.getHashByState=function(t){var e,i;return e=d.normalizeState(t),i=e.hash},d.extractId=function(t){var e,i,n,s;return s=-1!=t.indexOf("#")?t.split("#")[0]:t,i=/(.*)\&_suid=([0-9]+)$/.exec(s),n=i?i[1]||t:t,e=i?String(i[2]||""):"",e||!1},d.isTraditionalAnchor=function(t){var e=!/[\/\?\.]/.test(t);return e},d.extractState=function(t,e){var i,n,s=null;return e=e||!1,i=d.extractId(t),i&&(s=d.getStateById(i)),s||(n=d.getFullUrl(t),i=d.getIdByUrl(n)||!1,i&&(s=d.getStateById(i)),s||!e||d.isTraditionalAnchor(t)||(s=d.createStateObject(null,null,n))),s},d.getIdByUrl=function(t){var i=d.urlToId[t]||d.store.urlToId[t]||e;return i},d.getLastSavedState=function(){return d.savedStates[d.savedStates.length-1]||e},d.getLastStoredState=function(){return d.storedStates[d.storedStates.length-1]||e},d.hasUrlDuplicate=function(t){var e,i=!1;return e=d.extractState(t.url),i=e&&e.id!==t.id},d.storeState=function(t){return d.urlToId[t.url]=t.id,d.storedStates.push(d.cloneObject(t)),t},d.isLastSavedState=function(t){var e,i,n,s=!1;return d.savedStates.length&&(e=t.id,i=d.getLastSavedState(),n=i.id,s=e===n),s},d.saveState=function(t){return d.isLastSavedState(t)?!1:(d.savedStates.push(d.cloneObject(t)),!0)},d.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?d.savedStates[d.savedStates.length-1]:0>t?d.savedStates[d.savedStates.length+t]:d.savedStates[t]},d.getCurrentIndex=function(){var t=null;return t=d.savedStates.length<1?0:d.savedStates.length-1},d.getHash=function(t){var e,i=d.getLocationHref(t);return e=d.getHashByUrl(i)},d.unescapeHash=function(t){var e=d.normalizeHash(t);return e=decodeURIComponent(e)},d.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},d.setHash=function(t,e){var i,s;return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.setHash,args:arguments,queue:e}),!1):(d.busy(!0),i=d.extractState(t,!0),i&&!d.emulated.pushState?d.pushState(i.data,i.title,i.url,!1):d.getHash()!==t&&(d.bugs.setHash?(s=d.getPageUrl(),d.pushState(null,null,s+"#"+t,!1)):n.location.hash=t),d)},d.escapeHash=function(e){var i=d.normalizeHash(e);return i=t.encodeURIComponent(i),d.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},d.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=d.unescapeHash(e)},d.setTitle=function(t){var e,i=t.title;i||(e=d.getStateByIndex(0),e&&e.url===t.url&&(i=e.title||d.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(s){}return n.title=i,d},d.queues=[],d.busy=function(t){if("undefined"!=typeof t?d.busy.flag=t:"undefined"==typeof d.busy.flag&&(d.busy.flag=!1),!d.busy.flag){a(d.busy.timeout);var e=function(){var t,i,n;if(!d.busy.flag)for(t=d.queues.length-1;t>=0;--t)i=d.queues[t],0!==i.length&&(n=i.shift(),d.fireQueueItem(n),d.busy.timeout=r(e,d.options.busyDelay))};d.busy.timeout=r(e,d.options.busyDelay)}return d.busy.flag},d.busy.flag=!1,d.fireQueueItem=function(t){return t.callback.apply(t.scope||d,t.args||[])},d.pushQueue=function(t){return d.queues[t.queue||0]=d.queues[t.queue||0]||[],d.queues[t.queue||0].push(t),d},d.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),d.busy()?d.pushQueue(t):d.fireQueueItem(t),d},d.clearQueue=function(){return d.busy.flag=!1,d.queues=[],d},d.stateChanged=!1,d.doubleChecker=!1,d.doubleCheckComplete=function(){return d.stateChanged=!0,d.doubleCheckClear(),d},d.doubleCheckClear=function(){return d.doubleChecker&&(a(d.doubleChecker),d.doubleChecker=!1),d},d.doubleCheck=function(t){return d.stateChanged=!1,d.doubleCheckClear(),d.bugs.ieDoubleCheck&&(d.doubleChecker=r(function(){return d.doubleCheckClear(),d.stateChanged||t(),!0},d.options.doubleCheckInterval)),d},d.safariStatePoll=function(){var e,i=d.extractState(d.getLocationHref());if(!d.isLastSavedState(i))return e=i,e||(e=d.createStateObject()),d.Adapter.trigger(t,"popstate"),d},d.back=function(t){return t!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.back,args:arguments,queue:t}),!1):(d.busy(!0),d.doubleCheck(function(){d.back(!1)}),f.go(-1),!0)},d.forward=function(t){return t!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.forward,args:arguments,queue:t}),!1):(d.busy(!0),d.doubleCheck(function(){d.forward(!1)}),f.go(1),!0)},d.go=function(t,e){var i;if(t>0)for(i=1;t>=i;++i)d.forward(e);else{if(!(0>t))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=t;--i)d.back(e)}return d},d.emulated.pushState){var p=function(){};d.pushState=d.pushState||p,d.replaceState=d.replaceState||p}else d.onPopState=function(e,i){var n,s,o=!1,r=!1;return d.doubleCheckComplete(),(n=d.getHash())?(s=d.extractState(n||d.getLocationHref(),!0),s?d.replaceState(s.data,s.title,s.url,!1):(d.Adapter.trigger(t,"anchorchange"),d.busy(!1)),d.expectedStateId=!1,!1):(o=d.Adapter.extractEventData("state",e,i)||!1,r=o?d.getStateById(o):d.expectedStateId?d.getStateById(d.expectedStateId):d.extractState(d.getLocationHref()),r||(r=d.createStateObject(null,null,d.getLocationHref())),d.expectedStateId=!1,d.isLastSavedState(r)?(d.busy(!1),!1):(d.storeState(r),d.saveState(r),d.setTitle(r),d.Adapter.trigger(t,"statechange"),d.busy(!1),!0))},d.Adapter.bind(t,"popstate",d.onPopState),d.pushState=function(e,i,n,s){if(d.getHashByUrl(n)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:s}),!1;d.busy(!0);var o=d.createStateObject(e,i,n);return d.isLastSavedState(o)?d.busy(!1):(d.storeState(o),d.expectedStateId=o.id,f.pushState(o.id,o.title,o.url),d.Adapter.trigger(t,"popstate")),!0},d.replaceState=function(e,i,n,s){if(d.getHashByUrl(n)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:s}),!1;d.busy(!0);var o=d.createStateObject(e,i,n);return d.isLastSavedState(o)?d.busy(!1):(d.storeState(o),d.expectedStateId=o.id,f.replaceState(o.id,o.title,o.url),d.Adapter.trigger(t,"popstate")),!0};if(o){try{d.store=c.parse(o.getItem("History.store"))||{}}catch(m){d.store={}}d.normalizeStore()}else d.store={},d.normalizeStore();d.Adapter.bind(t,"unload",d.clearAllIntervals),d.saveState(d.storeState(d.extractState(d.getLocationHref(),!0))),o&&(d.onUnload=function(){var t,e,i;try{t=c.parse(o.getItem("History.store"))||{}}catch(n){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in d.idToState)d.idToState.hasOwnProperty(e)&&(t.idToState[e]=d.idToState[e]);for(e in d.urlToId)d.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=d.urlToId[e]);for(e in d.stateToId)d.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=d.stateToId[e]);d.store=t,d.normalizeStore(),i=c.stringify(t);try{o.setItem("History.store",i)}catch(s){if(s.code!==DOMException.QUOTA_EXCEEDED_ERR)throw s;o.length&&(o.removeItem("History.store"),o.setItem("History.store",i))}},d.intervalList.push(l(d.onUnload,d.options.storeInterval)),d.Adapter.bind(t,"beforeunload",d.onUnload),d.Adapter.bind(t,"unload",d.onUnload)),d.emulated.pushState||(d.bugs.safariPoll&&d.intervalList.push(l(d.safariStatePoll,d.options.safariPollInterval)),("Apple Computer, Inc."===s.vendor||"Mozilla"===(s.appCodeName||""))&&(d.Adapter.bind(t,"hashchange",function(){d.Adapter.trigger(t,"popstate")}),d.getHash()&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(t,"hashchange")})))},d.options&&d.options.delayInit||d.init()}(window),define("vendor/history",["vendor/history.adapter.jquery"],function(t){return function(){var e;return e||t.History}}(this)),function(t){var e;"function"==typeof define&&define.amd?define("utils/DirtyWarning",["jquery"],function(){var e=t.apply(this,arguments);return e}):(e=t.call(this,jQuery),this.Utils=this.Utils||{},this.Utils.DirtyWarning=e,this.Utils.DirtyWarning.initHooks=e.init)}(function(t){var e={$popup:{},ignore:!1,redirecting:!1,osText:"All unsaved content will be lost.",init:function(i){t(window).bind("beforeunload",function(){try{if(e.shouldWarn(i))return e.osText}catch(t){return t.message}}),e.getLinks().bind("click",function(){var t=e.shouldWarn(i);return t?(e.popup(this.href,!1,i),!1):void 0})},shouldWarn:function(t){return t&&t.data("dirtyForm")&&t.data("dirtyForm").dirty&&!this.ignore},getLinks:function(){var e=t("a").not(".form-option > a, .form-button, .fancyBox, .all-creative-fields, .block-help-header a, .ui-widget, .closeX, #fancybox-close, .ui-slider-handle, .texteditor-toolbar-button, .dirtyform-ignore, .listselector-option a").map(function(){return t(this).attr("href")&&"#"!==t(this).attr("href")?this:null});return e},popup:function(i,n,s){var o="Do you want to save your changes before leaving?",r="",a="You have unsaved changes on this page.",l="",u=!1,c=!1,h=t.tmpl?"tmpl":"template";n&&("undefined"!=typeof n.title&&(o=n.title),"undefined"!=typeof n.message&&(r=n.message),"undefined"!=typeof n.header&&(a=n.header)),o&&(l+='<h5  style="padding-bottom: 10px;">'+o+"</h5>"),l+='<div class="small-text">'+r+"</div>",u=t("<div />").popup({input:t("#popup-template")[h]({header:a,cancel_btn:!0,save_btn:!0,dont_save_btn:!0,close_btn:!1,description:l})}),e.$popup=u,c=u.find(".popup-form-controls"),t(".popup-inner").addClass("popup-unsaved-changes").css({"z-index":"5100"}),t(".popup-outer").css({"z-index":"5099"}),t("#popup-dont-save-container").css({"float":"right"}),t("#popup-dont-save").bind("click",function(){e.ignore=!0,window.location.href=i,u.popup("destroy")}),t("#popup-cancel").bind("click",function(){u.popup("destroy")}),t("#popup-save").bind("click",function(){c.hideButtons("Saving..."),s.bind("saveFailure",function(){u.popup("destroy")}),s.bind("saveSuccess vform.success",function(){window.location.href=i,e.redirecting=!0}),s.trigger("submit")})}};return e}),define("lib/social",["jquery"],function(t){"use strict";var e={init:function(t){this.twitter(t),this.facebook(t),this.linkedin(t),this.pinterest(t),this.stumbledupon(t)},twitter:function(e){t(".viral-button-twitter",e).length&&require(["//platform.twitter.com/widgets.js"],function(){twttr.widgets.load()})},linkedin:function(e){t(".viral-button-linkedin",e).length&&require(["//platform.linkedin.com/in.js"],function(){IN&&IN.parse&&IN.parse()})},facebook:function(e){t(".fb-like",e).length&&require(["//connect.facebook.net/en_US/all.js#xfbml=1"],function(){FB.XFBML.parse()})},pinterest:function i(e){t(".viral-button-pinterest",e).on("click",function(){require(["//assets.pinterest.com/js/pinmarklet.js"],function(){return i.PIN?void i.PIN.f.init():void(i.PIN=Object.keys(window).filter(function(t){return/^PIN_/.test(t)})[0])})})},stumbledupon:function(e){t(".viral-button-stumble",e).length&&"https:"===window.location.protocol&&require(["//platform.stumbleupon.com/1/widgets.js"],function(){STMBLPN.processWidgets()})}};return e}),define("be/responsive",["has","nbd/util/media"],function(t,e){"use strict";function i(){if(!s){try{e({phone:"all and (max-width: 603px)",desktop:"all and (min-width: 1025px)",tablet:"all and (min-width: 604px) and (max-width: 1024px)"})}catch(i){var n=window.innerWidth<604?"phone":window.innerWidth<1025?"tablet":"desktop";e.is=function(t){return t===n},e.getState=function(t){return t?e.is(t):[n]},e.trigger(n+" "+n+":enter",!0)}t("touch")&&window.scrollTo(0,1),s=!0}}function n(){}var s;return{init:i,destroy:n}}),define("be/postmessage",[],function(){"use strict";return function(t,e,i){e=e||"*",i=i||window.parent,i.postMessage(JSON.stringify(t),e)}});
;require(["has"],function(n){function t(n,t){var e,o=["","-moz-","-webkit-","-ms-"],a="";for(e=o.length-1;e>=0;--e)a+=n+": "+o[e]+t+"; ";return a}n.add("touch",function(n,t){return!!("ontouchstart"in window||n.navigator.maxTouchPoints>0||n.navigator.msMaxTouchPoints>0||n.DocumentTouch&&t instanceof DocumentTouch)}),n.add("geolocation",function(n){return"geolocation"in n.navigator}),n.add("console",function(n){return"console"in n&&"function"==typeof n.console.log}),n.add("input-event",function(){return"oninput"in document.documentElement}),n.add("input-placeholder",function(){var n=document.createElement("input");return"placeholder"in n}),n.add("input-placeholder-standard",function(){var n=document.createElement("input"),t="placeholder"in n;return t&&(-1===n.maxLength||524288===n.maxLength)&&"undefined"!==n.maxLength}),n.add("csscalc",function(){var n=document.createElement("div");return n.style.cssText=t("width","calc(10px)"),!!n.style.length}),n.add("formdata",function(n){return"FormData"in n&&"function"==typeof n.FormData}),n.add("localstorage",function(n){return"localStorage"in n&&"sessionStorage"in n})});
;!function(o){var i;"function"==typeof require?require(["jquery","jquery/plugins/jquery.custominput"],function(){i=o.apply(this,arguments),i.init(),this.Auth=i}):(i=o.call(this,jQuery),jQuery.Core&&"object"==typeof $.Core.Events?jQuery.Core.Events.bind("resources.beforeLoaded",i.init):jQuery(i.init),this.Auth=i)}(function(o){"use strict";function i(o,i){return o.split(".").reduce(function(o,i){return o&&o[i]},i)}var n={};return n.config={LOGIN_URL:"/account/login",SIGNUP_URL:"/signup/popup",LOGOUT_URL:"/account/logout",FORGOT_PASSWORD_URL:"/account/reset_password",UNVERIFIED_URL:"/utilities/unverified",SCOPE_POPUP:"popup"},n.init=function(){n.$popup=o("<div>"),n.track()},n.unverified=function(){o.ajax(n.config.UNVERIFIED_URL).done(function(o){n.$popup.popup(),n.$popup.popup("html",o.html),n.$popup.addClass("auth-verify-popup"),n.$popup.siblings(".blocking-div").addClass("auth-verify-blocking"),n.$popup.find(".form-button-close").bind("click",function(){n.$popup.popup("destroy")})})},n.login=function(o){"yes"===o.valid?o.destination?window.location.href=o.destination:window.location.reload():n.$popup.popup("html",o.html)},n.login.popup=function(t,e){e=e||{},"undefined"!=typeof t&&t&&(n.$popup=o(t));var p=o.extend({},{scope:n.config.SCOPE_POPUP},e);o.get(n.config.LOGIN_URL,p,function(t){n.login.popup.callback(t,p);var e=o.Core?"Network.View.Widget.initMulti":"Behaviors.global.initMulti";e=i(e),e&&e("undefined"!=typeof Network?void 0:"#popup-auth-login"),o(".formError").fadeOut()})},n.login.popup.init=function(){navigator.userAgent.match(/iphone/i)||navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/android/i)||o(document.body).delegate(".action-login","click",function(){if(!o(document.body).hasClass("corepacki")&&o(document.body).hasClass("logged-out"))return window.location.href="/account/login",!1;if(!o(document.body).hasClass("ccn_gallery2")||!o(document.body).hasClass("signup-fail")){var i=!1,t=!1,e=!1,p={};return i=o(this).hasClass("action-login-reload"),i&&(p={reload:1}),t=o(this).hasClass("action-login-redirect"),t&&(p={redirect:o(this).attr("href")}),e=o(this).hasClass("action-login-follow"),e&&(p={follow:o(this).attr("followee")}),o(this).hasClass("action-login-noremoval")&&(p.removeAll=!1),n.login.popup(null,p),!1}}).delegate("#auth-login-cancel","click",function(){return n.$popup.popup("destroy"),!1}).delegate("#auth-login-request-invitation","click",function(){o(".formError").remove()})},n.login.popup.callback=function(i,t){var e,p,u,s,r={};if(t&&"undefined"!=typeof t.removeAll&&(r.removeAll=t.removeAll,delete t.removeAll),n.$popup.popup(r),"yes"===i.valid){if(n.$popup.popup("html",i.html),o("#login_username").placeholder().focus(),o("#login_password").placeholder(),o(document.body).trigger("login_popup_opened"),p=n.$popup.find("#auth-login"),e=n.$popup.find(".popup-form-controls"),p.find("input").customInput(),"function"==typeof o.fn.vForm)return u=s=p.attr("action"),void p.dirtyForm().vForm({hiding_text:"Logging In...",$btns:e,message_params:{fade:!1}},{scrolling:!1}).bind("vform.beforesend",function(){var i,e=!1;u=s,t&&(e=o.param(t),i=u.match(/\?/)?"&":"?",""!==e&&(u+=i+e),p.trigger("vform.newaction",u)),Config.NETWORKI&&n.$popup.find(".form-button").hide()}).bind("vform.complete",function(){n.$popup.popup("position"),Config.NETWORKI&&n.$popup.find(".form-button").show()}).bind("vform.success vform.redirecting",function(i,t){Config.NETWORKI?(n.$popup.find(".messages").remove(),e.find(".form-submit-processing").remove(),e.hideButtons("Logged In, Redirecting...")):o("#popup-auth-login").append(o(".messages")),n.$popup.popup("position"),n.login(t),n.$popup.popup("position")});p.find(".form-submit").click(function(){o(this).hasClass("form-button-disabled")||p.trigger("submit")}),o("#auth-login").append(o('<input type="submit" style="position: absolute;left:-99999px;top:-99999px;" />')),p.dirtyForm().validationEngine({scrolling:!1,success:function(){Config.NETWORKI?(n.$popup.find(".form-button").hide(),e.hideButtons("Logging In...")):o(".popup-subcontent").hideButtons("Logging In..."),n.$popup.popup("position");var i,p=o("#auth-login").attr("action"),u=!1;t&&(u=o.param(t),i=p.match(/\?/)?"&":"?",""!==u&&(p+=i+u)),o.post(p,o.fn.dirtyForm.getValues(o("#auth-login")),function(i){o("#popup-auth-login").showMessages(i.messages,{fade:!1}),Config.NETWORKI&&e.find(".form-submit-processing").remove(),n.$popup.popup("position"),n.login(i),"yes"!==i.valid?(n.$popup.find(".form-button").show(),o(".popup-subcontent").showButtons()):(n.$popup.find(".form-button").hide(),Config.NETWORKI?(n.$popup.find(".messages").remove(),e.hideButtons("Logged In, Redirecting...")):o(".popup-subcontent").hideButtons(" ")),n.$popup.popup("position")})},failure:function(){o(".formError.login_username").length>0&&o(".formError.login_username li").first().html("Please enter a valid email address or username.")}})}else n.$popup.popup("html",'<div style="font-weight: bold;">Error!</div>'),setTimeout(function(){n.$popup.popup("destroy")},2e3)},n.password=function(){},n.password.reset=function(){},n.checkPlaceholder=function(){var i=this.id.replace("-placeholder","");o(this).hide(),o(this).closest(".form-item").hide(),o("#"+i).closest(".form-item").show(),o("#"+i).show().focus()},n.checkValue=function(){""===this.value&&(o(this).hide(),o(this).closest(".form-item").hide(),o("#"+this.id+"-placeholder").closest(".form-item").show(),o("#"+this.id+"-placeholder").show())},n.track=function(){if("undefined"!=typeof _gaq){var i=o(document.body).hasClass("logged-in"),n=o(document.body).hasClass("logged-in-1"),t=o(document.body).hasClass("logged-in-3"),e="Logged Out",p=!1;i&&(e="Logged In",n&&(p="Creative")),_gaq.push(["_setCustomVar",1,"User Type",e,2]),p&&_gaq.push(["_setCustomVar",2,"User Role",p,2]),t&&_gaq.push(["_setCustomVar",3,"User Recruiter","Recruiter",2])}},n.require=function(o,i){o=o.split(".");var n,t=window;for(n=0;n<o.length&&t;++n)t=t[o[n]];return t?null:i},n.signup=function(o){o.valid?null!==typeof o.destination&&o.destination?window.location.href=o.destination:window.location.reload():n.$signup_popup.popup("html",o.html)},n});